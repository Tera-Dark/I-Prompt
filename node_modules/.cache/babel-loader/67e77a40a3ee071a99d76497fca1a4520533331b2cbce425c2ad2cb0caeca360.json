{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wjx19\\\\Documents\\\\GitHub\\\\I-Prompt\\\\src\\\\pages\\\\PromptLibraryPage.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Plus, Search, Copy, Heart, X, Languages, ChevronDown, ChevronRight, Tag as TagIcon, Sparkles, Bookmark, Clock, TrendingUp, Edit3, Minus, Trash2, Star, Weight, Zap, ChevronLeft, ChevronRight as ChevronRightIcon, EyeOff, Eye, Settings, TestTube, CheckCircle, XCircle, RefreshCw, ArrowUpDown } from 'lucide-react';\nimport { copyToClipboard } from '../utils/clipboard';\nimport { translateText, translateTag, getAvailableTranslators, testTranslator, batchTranslate, translatePrompt } from '../services/translationService';\nimport { TAG_DATABASE, searchTags, getPopularTags } from '../constants/tagDatabase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PromptLibraryPage = () => {\n  _s();\n  var _TAG_DATABASE$selecte, _TAG_DATABASE$selecte2, _TAG_DATABASE$selecte3, _TAG_DATABASE$selecte4;\n  // æç¤ºè¯ç¼–è¾‘çŠ¶æ€\n  const [prompt, setPrompt] = useState('');\n  const [translatedPrompt, setTranslatedPrompt] = useState('');\n  const [promptHistory, setPromptHistory] = useState([]);\n  const [isTranslating, setIsTranslating] = useState(false);\n\n  // æç¤ºè¯ç¼–è¾‘å™¨çŠ¶æ€\n  const [selectedTags, setSelectedTags] = useState([]);\n  const [disabledTags, setDisabledTags] = useState(new Set());\n  const [translatedTags, setTranslatedTags] = useState({});\n  const [hoveredTag, setHoveredTag] = useState(null);\n\n  // ç¿»è¯‘è®¾ç½®çŠ¶æ€\n  const [availableTranslators, setAvailableTranslators] = useState({});\n  const [selectedTranslator, setSelectedTranslator] = useState('mymemory');\n  const [showTranslatorSettings, setShowTranslatorSettings] = useState(false);\n  const [translatorStatus, setTranslatorStatus] = useState({});\n  const [autoTranslate, setAutoTranslate] = useState(false);\n\n  // æ ‡ç­¾åº“çŠ¶æ€\n  const [selectedCategory, setSelectedCategory] = useState('favorites');\n  const [selectedSubcategory, setSelectedSubcategory] = useState(null);\n  const [expandedCategories, setExpandedCategories] = useState({\n    favorites: true\n  });\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n\n  // UIçŠ¶æ€\n  const [favorites, setFavorites] = useState([]);\n  const [copyStatus, setCopyStatus] = useState('');\n  const textareaRef = useRef(null);\n  const translationRef = useRef(null);\n\n  // åŠ è½½ç¿»è¯‘å¼•æ“åˆ—è¡¨\n  useEffect(() => {\n    loadTranslators();\n  }, []);\n  const loadTranslators = async () => {\n    try {\n      const translators = await getAvailableTranslators();\n      setAvailableTranslators(translators);\n    } catch (error) {\n      console.error('åŠ è½½ç¿»è¯‘å¼•æ“å¤±è´¥:', error);\n    }\n  };\n\n  // å®æ—¶æœç´¢å»ºè®®\n  useEffect(() => {\n    if (searchQuery.trim()) {\n      const results = searchTags(searchQuery).slice(0, 20);\n      setSearchResults(results);\n    } else {\n      setSearchResults([]);\n    }\n  }, [searchQuery]);\n\n  // åŒæ­¥æç¤ºè¯å’Œé€‰ä¸­æ ‡ç­¾\n  useEffect(() => {\n    const tagsFromPrompt = prompt.split(',').map(tag => tag.trim()).filter(tag => tag);\n    setSelectedTags(tagsFromPrompt);\n  }, [prompt]);\n\n  // è‡ªåŠ¨ç¿»è¯‘ç›‘å¬\n  useEffect(() => {\n    if (autoTranslate && prompt.trim() && prompt !== translatedPrompt) {\n      const timer = setTimeout(() => {\n        translateFullPrompt();\n      }, 1000); // å»¶è¿Ÿ1ç§’è‡ªåŠ¨ç¿»è¯‘\n\n      return () => clearTimeout(timer);\n    }\n  }, [prompt, autoTranslate]);\n\n  // æ›´æ–°è‹±æ–‡æç¤ºè¯ï¼ˆæ’é™¤ç¦ç”¨çš„æ ‡ç­¾ï¼‰\n  const updatePrompt = tags => {\n    const enabledTags = tags.filter((_, index) => !disabledTags.has(index));\n    const newPrompt = enabledTags.join(', ');\n    setPrompt(newPrompt);\n\n    // æ·»åŠ åˆ°å†å²è®°å½•\n    if (newPrompt.trim() && !promptHistory.includes(newPrompt.trim())) {\n      setPromptHistory(prev => [newPrompt.trim(), ...prev.slice(0, 9)]);\n    }\n  };\n\n  // å¤„ç†æç¤ºè¯å˜åŒ–\n  const handlePromptChange = value => {\n    setPrompt(value);\n\n    // æ·»åŠ åˆ°å†å²è®°å½•\n    if (value.trim() && !promptHistory.includes(value.trim())) {\n      setPromptHistory(prev => [value.trim(), ...prev.slice(0, 9)]);\n    }\n  };\n\n  // ç¿»è¯‘å®Œæ•´æç¤ºè¯\n  const translateFullPrompt = async () => {\n    if (!prompt.trim()) {\n      setCopyStatus('empty-prompt');\n      setTimeout(() => setCopyStatus(''), 2000);\n      return;\n    }\n    setIsTranslating(true);\n    setCopyStatus('translating');\n    try {\n      const result = await translatePrompt(prompt, {\n        preferredEngines: [selectedTranslator, 'mymemory', 'google_web'],\n        targetLang: 'zh',\n        sourceLang: 'en'\n      });\n      setTranslatedPrompt(result.translatedText);\n      setCopyStatus('translate-success');\n      setTimeout(() => setCopyStatus(''), 3000);\n      console.log(`ç¿»è¯‘å®Œæˆ: ${result.successCount}/${result.totalCount} ä¸ªæ ‡ç­¾æˆåŠŸç¿»è¯‘`);\n      if (result.errors.length > 0) {\n        console.warn('ç¿»è¯‘é”™è¯¯:', result.errors);\n      }\n    } catch (error) {\n      console.error('æç¤ºè¯ç¿»è¯‘å¤±è´¥:', error);\n      setCopyStatus('translate-error');\n      setTimeout(() => setCopyStatus(''), 3000);\n    } finally {\n      setIsTranslating(false);\n    }\n  };\n\n  // æ·»åŠ æ ‡ç­¾åˆ°æç¤ºè¯\n  const addTagToPrompt = tag => {\n    const newTags = [...selectedTags, tag.en];\n    setSelectedTags(newTags);\n    updatePrompt(newTags);\n\n    // èšç„¦åˆ°æ–‡æœ¬æ¡†æœ«å°¾\n    if (textareaRef.current) {\n      textareaRef.current.focus();\n      textareaRef.current.setSelectionRange(prompt.length, prompt.length);\n    }\n  };\n\n  // åˆ é™¤æ ‡ç­¾\n  const deleteTag = index => {\n    const newTags = selectedTags.filter((_, i) => i !== index);\n    const newDisabled = new Set([...disabledTags].map(i => i > index ? i - 1 : i).filter(i => i !== index));\n    setSelectedTags(newTags);\n    setDisabledTags(newDisabled);\n    updatePrompt(newTags);\n  };\n\n  // åˆ‡æ¢ç¦ç”¨çŠ¶æ€\n  const toggleDisabled = index => {\n    const newDisabled = new Set(disabledTags);\n    if (newDisabled.has(index)) {\n      newDisabled.delete(index);\n    } else {\n      newDisabled.add(index);\n    }\n    setDisabledTags(newDisabled);\n    updatePrompt(selectedTags);\n  };\n\n  // è§£ææ ‡ç­¾ï¼Œæå–æƒé‡å’Œæ‹¬å·ä¿¡æ¯\n  const parseTag = tag => {\n    // æ£€æµ‹æƒé‡ (tag:1.2)\n    const weightMatch = tag.match(/^(.+?):([0-9.]+)$/);\n    if (weightMatch) {\n      return {\n        text: weightMatch[1],\n        weight: parseFloat(weightMatch[2]),\n        bracketType: 'none',\n        brackets: 0\n      };\n    }\n\n    // æ£€æµ‹æ‹¬å·ç±»å‹å’Œå±‚çº§\n    let brackets = 0;\n    let text = tag;\n    let bracketType = 'none';\n\n    // æ£€æµ‹åœ†æ‹¬å· ()\n    if (text.startsWith('(') && text.endsWith(')')) {\n      bracketType = 'round';\n      while (text.startsWith('(') && text.endsWith(')')) {\n        brackets++;\n        text = text.slice(1, -1);\n      }\n    }\n    // æ£€æµ‹èŠ±æ‹¬å· {}\n    else if (text.startsWith('{') && text.endsWith('}')) {\n      bracketType = 'curly';\n      while (text.startsWith('{') && text.endsWith('}')) {\n        brackets++;\n        text = text.slice(1, -1);\n      }\n    }\n    // æ£€æµ‹æ–¹æ‹¬å· []\n    else if (text.startsWith('[') && text.endsWith(']')) {\n      bracketType = 'square';\n      while (text.startsWith('[') && text.endsWith(']')) {\n        brackets++;\n        text = text.slice(1, -1);\n      }\n    }\n    return {\n      text,\n      weight: 1.0,\n      bracketType,\n      brackets\n    };\n  };\n\n  // æ„å»ºæ ‡ç­¾å­—ç¬¦ä¸²\n  const buildTag = (text, weight, bracketType, brackets) => {\n    let result = text;\n\n    // æ·»åŠ æƒé‡\n    if (weight !== 1.0) {\n      result = `${text}:${weight.toFixed(1)}`;\n    }\n\n    // æ·»åŠ æ‹¬å·\n    if (bracketType === 'round') {\n      for (let i = 0; i < brackets; i++) {\n        result = `(${result})`;\n      }\n    } else if (bracketType === 'curly') {\n      for (let i = 0; i < brackets; i++) {\n        result = `{${result}}`;\n      }\n    } else if (bracketType === 'square') {\n      for (let i = 0; i < brackets; i++) {\n        result = `[${result}]`;\n      }\n    }\n    return result;\n  };\n\n  // è°ƒæ•´æƒé‡\n  const adjustWeight = (index, delta) => {\n    const tag = selectedTags[index];\n    const parsed = parseTag(tag);\n    const newWeight = Math.max(0.1, Math.min(2.0, parsed.weight + delta));\n    const newTag = buildTag(parsed.text, newWeight, parsed.bracketType, parsed.brackets);\n    const newTags = [...selectedTags];\n    newTags[index] = newTag;\n    setSelectedTags(newTags);\n    updatePrompt(newTags);\n  };\n\n  // è°ƒæ•´æ‹¬å·\n  const adjustBrackets = (index, bracketType, delta) => {\n    const tag = selectedTags[index];\n    const parsed = parseTag(tag);\n\n    // å¦‚æœè¦å¢åŠ æ‹¬å·ä¸”å½“å‰æ²¡æœ‰æ‹¬å·ï¼Œæˆ–è€…ç±»å‹ç›¸åŒï¼Œæ‰å…è®¸è°ƒæ•´\n    if (delta > 0 && parsed.bracketType !== 'none' && parsed.bracketType !== bracketType) {\n      return; // ä¸å…è®¸æ··ç”¨ä¸åŒç±»å‹çš„æ‹¬å·\n    }\n    const newBrackets = Math.max(0, Math.min(5, parsed.brackets + delta));\n    const newBracketType = newBrackets === 0 ? 'none' : bracketType;\n    const newTag = buildTag(parsed.text, parsed.weight, newBracketType, newBrackets);\n    const newTags = [...selectedTags];\n    newTags[index] = newTag;\n    setSelectedTags(newTags);\n    updatePrompt(newTags);\n  };\n\n  // æµ‹è¯•ç¿»è¯‘å¼•æ“\n  const handleTestTranslator = async translatorKey => {\n    setTranslatorStatus(prev => ({\n      ...prev,\n      [translatorKey]: 'testing'\n    }));\n    try {\n      const result = await testTranslator(translatorKey);\n      setTranslatorStatus(prev => ({\n        ...prev,\n        [translatorKey]: result.success ? 'available' : 'unavailable'\n      }));\n      if (result.success) {\n        setCopyStatus('test-success');\n      } else {\n        setCopyStatus('test-failed');\n      }\n    } catch (error) {\n      setTranslatorStatus(prev => ({\n        ...prev,\n        [translatorKey]: 'unavailable'\n      }));\n      setCopyStatus('test-failed');\n    }\n    setTimeout(() => setCopyStatus(''), 2000);\n  };\n\n  // ä¸€é”®ç¿»è¯‘æ‰€æœ‰æœªç¿»è¯‘çš„æ ‡ç­¾\n  const translateAllTags = async () => {\n    const untranslatedTags = selectedTags.filter(tag => {\n      const parsed = parseTag(tag);\n      return !translatedTags[parsed.text];\n    });\n    if (untranslatedTags.length === 0) {\n      setCopyStatus('no-untranslated');\n      setTimeout(() => setCopyStatus(''), 2000);\n      return;\n    }\n    setCopyStatus('translating');\n    try {\n      const texts = untranslatedTags.map(tag => parseTag(tag).text);\n      const results = await batchTranslate(texts, {\n        translator: selectedTranslator,\n        targetLang: 'zh',\n        sourceLang: 'auto'\n      });\n      const newTranslations = {};\n      results.forEach(result => {\n        if (result.success) {\n          newTranslations[result.original] = result.translated;\n        }\n      });\n      setTranslatedTags(prev => ({\n        ...prev,\n        ...newTranslations\n      }));\n      setCopyStatus('translate-success');\n    } catch (error) {\n      console.error('æ‰¹é‡ç¿»è¯‘å¤±è´¥:', error);\n      setCopyStatus('translate-error');\n    }\n    setTimeout(() => setCopyStatus(''), 2000);\n  };\n\n  // ç¿»è¯‘å•ä¸ªæ ‡ç­¾\n  const translateSingleTag = async tag => {\n    // æå–çº¯æ–‡æœ¬è¿›è¡Œç¿»è¯‘\n    const parsed = parseTag(tag);\n    const pureText = parsed.text;\n    if (translatedTags[pureText]) {\n      return translatedTags[pureText];\n    }\n    try {\n      const translated = await translateTag(pureText, {\n        translator: selectedTranslator,\n        targetLang: 'zh',\n        sourceLang: 'auto'\n      });\n      setTranslatedTags(prev => ({\n        ...prev,\n        [pureText]: translated\n      }));\n      return translated;\n    } catch (error) {\n      console.error('ç¿»è¯‘å¤±è´¥:', error);\n      return pureText;\n    }\n  };\n\n  // å¤åˆ¶æ ‡ç­¾\n  const copyTag = async tag => {\n    const success = await copyToClipboard(tag);\n    setCopyStatus(success ? 'copied' : 'error');\n    setTimeout(() => setCopyStatus(''), 2000);\n  };\n\n  // æ”¶è—æ ‡ç­¾\n  const favoriteTag = tag => {\n    const parsed = parseTag(tag);\n    const tagObj = {\n      en: parsed.text,\n      cn: translatedTags[parsed.text] || parsed.text,\n      frequency: 80\n    };\n    toggleFavorite(tagObj);\n  };\n\n  // å¤åˆ¶åŠŸèƒ½\n  const handleCopy = async text => {\n    const success = await copyToClipboard(text || prompt);\n    setCopyStatus(success ? 'copied' : 'error');\n    setTimeout(() => setCopyStatus(''), 2000);\n  };\n\n  // æ”¶è—åŠŸèƒ½\n  const toggleFavorite = tag => {\n    setFavorites(prev => {\n      const isAlreadyFavorited = prev.some(fav => fav.en === tag.en);\n      if (isAlreadyFavorited) {\n        return prev.filter(fav => fav.en !== tag.en);\n      } else {\n        return [...prev, tag];\n      }\n    });\n  };\n\n  // åˆ†ç±»å±•å¼€/æ”¶èµ·\n  const toggleCategory = categoryKey => {\n    setExpandedCategories(prev => ({\n      ...prev,\n      [categoryKey]: !prev[categoryKey]\n    }));\n  };\n\n  // é€‰æ‹©åˆ†ç±»\n  const selectCategory = (categoryKey, subcategoryKey = null) => {\n    setSelectedCategory(categoryKey);\n    setSelectedSubcategory(subcategoryKey);\n  };\n\n  // è·å–å½“å‰æ˜¾ç¤ºçš„æ ‡ç­¾\n  const getCurrentTags = () => {\n    if (searchQuery.trim()) {\n      return searchResults;\n    }\n    if (selectedCategory === 'favorites') {\n      if (selectedSubcategory === 'personal') {\n        return favorites;\n      } else {\n        // æ˜¾ç¤ºçƒ­é—¨æ ‡ç­¾\n        return getPopularTags(20);\n      }\n    }\n    const category = TAG_DATABASE[selectedCategory];\n    if (!category) return [];\n    if (selectedSubcategory) {\n      const subcategory = category.subcategories[selectedSubcategory];\n      return subcategory ? subcategory.tags : [];\n    }\n\n    // è¿”å›è¯¥åˆ†ç±»ä¸‹æ‰€æœ‰æ ‡ç­¾\n    const allTags = [];\n    Object.values(category.subcategories).forEach(subcategory => {\n      allTags.push(...subcategory.tags);\n    });\n    return allTags;\n  };\n\n  // åŠ¨æ€æ›´æ–°TAG_DATABASEä¸­çš„æ”¶è—æ ‡ç­¾\n  useEffect(() => {\n    if (TAG_DATABASE.favorites && TAG_DATABASE.favorites.subcategories.personal) {\n      TAG_DATABASE.favorites.subcategories.personal.tags = favorites;\n    }\n  }, [favorites]);\n  const currentTags = getCurrentTags();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white/80 backdrop-blur-sm border-b border-gray-200 px-6 py-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-900 mb-2 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n            className: \"text-blue-600 mr-3\",\n            size: 28\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this), \"\\u667A\\u80FD\\u63D0\\u793A\\u8BCD\\u5E93 3.0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"\\u4E13\\u4E1A\\u7684\\u63D0\\u793A\\u8BCD\\u7F16\\u8F91\\u548C\\u7BA1\\u7406\\u5DE5\\u5177 \\u2022 \\u652F\\u6301\\u591A\\u5F15\\u64CE\\u7FFB\\u8BD1 \\u2022 \\u667A\\u80FD\\u5206\\u7C7B \\u2022 \\u8BA9AI\\u7ED8\\u753B\\u521B\\u4F5C\\u66F4\\u9AD8\\u6548\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto p-6 space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-lg border border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold text-gray-900 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(TagIcon, {\n                className: \"text-blue-600 mr-2\",\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 490,\n                columnNumber: 17\n              }, this), \"\\u63D0\\u793A\\u8BCD\\u9884\\u89C8\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowTranslatorSettings(!showTranslatorSettings),\n                className: \"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(Settings, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 498,\n                  columnNumber: 19\n                }, this), \"\\u7FFB\\u8BD1\\u8BBE\\u7F6E\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: translateAllTags,\n                className: \"flex items-center gap-2 px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(Languages, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 19\n                }, this), \"\\u4E00\\u952E\\u7FFB\\u8BD1\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleCopy(),\n                className: \"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(Copy, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 512,\n                  columnNumber: 19\n                }, this), \"\\u590D\\u5236\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setPrompt('');\n                  setSelectedTags([]);\n                  setDisabledTags(new Set());\n                },\n                className: \"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(X, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 523,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            ref: textareaRef,\n            value: prompt,\n            onChange: e => handlePromptChange(e.target.value),\n            placeholder: \"\\u8F93\\u5165\\u6216\\u70B9\\u51FB\\u4E0B\\u65B9\\u6807\\u7B7E\\u6DFB\\u52A0\\u63D0\\u793A\\u8BCD...\",\n            className: \"w-full h-32 p-4 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all font-mono text-sm overflow-y-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between text-xs text-gray-500 mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u5B57\\u7B26\\u6570: \", prompt.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u6807\\u7B7E\\u6570: \", selectedTags.filter((_, i) => !disabledTags.has(i)).length, \"/\", selectedTags.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 13\n          }, this), promptHistory.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 p-4 bg-gray-50 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(Clock, {\n                size: 16,\n                className: \"text-gray-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-gray-700\",\n                children: \"\\u6700\\u8FD1\\u4F7F\\u7528\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-2\",\n              children: promptHistory.slice(0, 5).map((historyPrompt, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setPrompt(historyPrompt),\n                className: \"px-3 py-1 text-xs bg-white border border-gray-200 rounded-full hover:bg-blue-50 hover:border-blue-300 transition-colors truncate max-w-xs\",\n                children: historyPrompt\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 9\n      }, this), showTranslatorSettings && /*#__PURE__*/_jsxDEV(TranslatorSettings, {\n        availableTranslators: availableTranslators,\n        selectedTranslator: selectedTranslator,\n        setSelectedTranslator: setSelectedTranslator,\n        translatorStatus: translatorStatus,\n        onTestTranslator: handleTestTranslator,\n        onClose: () => setShowTranslatorSettings(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-lg border border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold text-gray-900 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Edit3, {\n                className: \"text-blue-600 mr-2\",\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 581,\n                columnNumber: 17\n              }, this), \"\\u63D0\\u793A\\u8BCD\\u7F16\\u8F91\\u533A\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full ml-2\",\n                children: \"\\u60AC\\u505C\\u7F16\\u8F91 \\u2022 \\u6743\\u91CD\\u8C03\\u8282 \\u2022 \\u62EC\\u53F7\\u63A7\\u5236\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border border-gray-300 rounded-lg p-6 bg-blue-50/20 overflow-y-auto\",\n            style: {\n              minHeight: '200px',\n              maxHeight: '1200px',\n              height: 'auto'\n            },\n            children: selectedTags.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-center h-32 text-gray-500\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(TagIcon, {\n                  size: 32,\n                  className: \"mx-auto mb-2 opacity-50\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 600,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm\",\n                  children: \"\\u70B9\\u51FB\\u4E0B\\u65B9\\u6807\\u7B7E\\u5E93\\u6DFB\\u52A0\\u6807\\u7B7E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 601,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 599,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-4\",\n              children: selectedTags.map((tag, index) => /*#__PURE__*/_jsxDEV(TagPill, {\n                tag: tag,\n                index: index,\n                isDisabled: disabledTags.has(index),\n                onDelete: () => deleteTag(index),\n                onToggleDisabled: () => toggleDisabled(index),\n                onAdjustWeight: delta => adjustWeight(index, delta),\n                onAdjustBrackets: (bracketType, delta) => adjustBrackets(index, bracketType, delta),\n                onCopy: () => copyTag(tag),\n                onFavorite: () => favoriteTag(tag),\n                onTranslate: translateSingleTag,\n                translatedTags: translatedTags,\n                hoveredTag: hoveredTag,\n                setHoveredTag: setHoveredTag\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 607,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 589,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-4 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-xl shadow-lg border border-gray-200 p-4 sticky top-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(Search, {\n                  className: \"absolute left-3 top-3 text-gray-400\",\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 637,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: searchQuery,\n                  onChange: e => setSearchQuery(e.target.value),\n                  placeholder: \"\\u641C\\u7D22\\u6807\\u7B7E...\",\n                  className: \"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 638,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1\",\n              children: Object.entries(TAG_DATABASE).map(([categoryKey, category]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => toggleCategory(categoryKey),\n                  className: `w-full flex items-center justify-between p-3 rounded-lg transition-colors ${selectedCategory === categoryKey && !selectedSubcategory ? 'bg-blue-50 text-blue-700 border border-blue-200' : 'hover:bg-gray-50'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-lg\",\n                      children: category.icon\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 660,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: category.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 661,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 659,\n                    columnNumber: 23\n                  }, this), expandedCategories[categoryKey] ? /*#__PURE__*/_jsxDEV(ChevronDown, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 664,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(ChevronRight, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 666,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 651,\n                  columnNumber: 21\n                }, this), expandedCategories[categoryKey] && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ml-4 mt-1 space-y-1\",\n                  children: Object.entries(category.subcategories).map(([subcategoryKey, subcategory]) => /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => selectCategory(categoryKey, subcategoryKey),\n                    className: `w-full text-left p-2 rounded-lg text-sm transition-colors ${selectedCategory === categoryKey && selectedSubcategory === subcategoryKey ? 'bg-blue-50 text-blue-700' : 'hover:bg-gray-50 text-gray-600'}`,\n                    children: subcategory.name\n                  }, subcategoryKey, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 673,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 671,\n                  columnNumber: 23\n                }, this)]\n              }, categoryKey, true, {\n                fileName: _jsxFileName,\n                lineNumber: 650,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-xl shadow-lg border border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6 border-b border-gray-200\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-lg font-semibold text-gray-900\",\n                    children: searchQuery ? 'æœç´¢ç»“æœ' : selectedSubcategory ? `${(_TAG_DATABASE$selecte = TAG_DATABASE[selectedCategory]) === null || _TAG_DATABASE$selecte === void 0 ? void 0 : _TAG_DATABASE$selecte.name} - ${(_TAG_DATABASE$selecte2 = TAG_DATABASE[selectedCategory]) === null || _TAG_DATABASE$selecte2 === void 0 ? void 0 : (_TAG_DATABASE$selecte3 = _TAG_DATABASE$selecte2.subcategories[selectedSubcategory]) === null || _TAG_DATABASE$selecte3 === void 0 ? void 0 : _TAG_DATABASE$selecte3.name}` : ((_TAG_DATABASE$selecte4 = TAG_DATABASE[selectedCategory]) === null || _TAG_DATABASE$selecte4 === void 0 ? void 0 : _TAG_DATABASE$selecte4.name) || 'æ ‡ç­¾åº“'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 699,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 mt-1\",\n                    children: searchQuery ? `æ‰¾åˆ° ${currentTags.length} ä¸ªç›¸å…³æ ‡ç­¾` : `å…± ${currentTags.length} ä¸ªæ ‡ç­¾`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 705,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 698,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full\",\n                    children: \"\\u70B9\\u51FB\\u6807\\u7B7E\\u6DFB\\u52A0\\u5230\\u63D0\\u793A\\u8BCD\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 711,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 710,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 697,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 696,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6\",\n              children: currentTags.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center py-12\",\n                children: [/*#__PURE__*/_jsxDEV(TagIcon, {\n                  className: \"mx-auto text-gray-400 mb-4\",\n                  size: 48\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 721,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-500 mb-4\",\n                  children: searchQuery ? 'æœªæ‰¾åˆ°åŒ¹é…çš„æ ‡ç­¾' : 'è¯¥åˆ†ç±»æš‚æ— æ ‡ç­¾'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 722,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 720,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-3\",\n                children: currentTags.map((tag, index) => /*#__PURE__*/_jsxDEV(TagCard, {\n                  tag: tag,\n                  onAdd: () => addTagToPrompt(tag),\n                  onToggleFavorite: () => toggleFavorite(tag),\n                  isFavorited: favorites.some(fav => fav.en === tag.en)\n                }, `${tag.en}-${index}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 729,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 727,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 718,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 694,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 7\n    }, this), copyStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed bottom-4 right-4 px-4 py-2 rounded-lg text-white text-sm transition-all duration-300 shadow-lg z-50 ${copyStatus === 'copied' ? 'bg-green-600' : copyStatus === 'translating' ? 'bg-blue-600' : copyStatus === 'translate-success' ? 'bg-green-600' : copyStatus === 'translate-error' ? 'bg-red-600' : copyStatus === 'no-untranslated' ? 'bg-yellow-600' : copyStatus === 'test-success' ? 'bg-green-600' : copyStatus === 'test-failed' ? 'bg-red-600' : 'bg-red-600'}`,\n      children: copyStatus === 'copied' ? 'âœ… å·²å¤åˆ¶åˆ°å‰ªè´´æ¿' : copyStatus === 'translating' ? 'ğŸ”„ æ­£åœ¨ç¿»è¯‘ä¸­...' : copyStatus === 'translate-success' ? 'âœ… ç¿»è¯‘å®Œæˆ' : copyStatus === 'translate-error' ? 'âŒ ç¿»è¯‘å¤±è´¥' : copyStatus === 'no-untranslated' ? 'ğŸ’¡ æ‰€æœ‰æ ‡ç­¾å·²ç¿»è¯‘' : copyStatus === 'test-success' ? 'âœ… æµ‹è¯•æˆåŠŸ' : copyStatus === 'test-failed' ? 'âŒ æµ‹è¯•å¤±è´¥' : 'âŒ æ“ä½œå¤±è´¥'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 747,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 470,\n    columnNumber: 5\n  }, this);\n};\n\n/**\n * ç¿»è¯‘å¼•æ“è®¾ç½®ç»„ä»¶\n */\n_s(PromptLibraryPage, \"ua1DmU47pY/cpVTesLm238sqNmY=\");\n_c = PromptLibraryPage;\nconst TranslatorSettings = ({\n  availableTranslators,\n  selectedTranslator,\n  setSelectedTranslator,\n  translatorStatus,\n  onTestTranslator,\n  onClose\n}) => {\n  var _availableTranslators;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-xl shadow-lg border border-gray-200\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-900 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Settings, {\n            className: \"text-blue-600 mr-2\",\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 786,\n            columnNumber: 11\n          }, this), \"\\u7FFB\\u8BD1\\u5F15\\u64CE\\u8BBE\\u7F6E\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 785,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 793,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 789,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 784,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",\n        children: Object.entries(availableTranslators).map(([key, translator]) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `p-4 border-2 rounded-lg cursor-pointer transition-all ${selectedTranslator === key ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-gray-300'}`,\n          onClick: () => setSelectedTranslator(key),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-medium text-gray-900\",\n              children: translator.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 809,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [translatorStatus[key] === 'testing' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 812,\n                columnNumber: 19\n              }, this), translatorStatus[key] === 'available' && /*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"text-green-600\",\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 815,\n                columnNumber: 19\n              }, this), translatorStatus[key] === 'unavailable' && /*#__PURE__*/_jsxDEV(XCircle, {\n                className: \"text-red-600\",\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 818,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: e => {\n                  e.stopPropagation();\n                  onTestTranslator(key);\n                },\n                className: \"p-1 text-gray-500 hover:bg-gray-100 rounded transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(TestTube, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 827,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 820,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 810,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 808,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-600\",\n            children: translator.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 831,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `mt-2 text-xs px-2 py-1 rounded-full inline-block ${translator.status === 'stable' ? 'bg-green-100 text-green-700' : translator.status === 'premium' ? 'bg-purple-100 text-purple-700' : 'bg-gray-100 text-gray-700'}`,\n            children: translator.status === 'stable' ? 'ç¨³å®š' : translator.status === 'premium' ? 'é«˜çº§' : 'æœªçŸ¥'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 832,\n            columnNumber: 13\n          }, this)]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 799,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 797,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 p-4 bg-gray-50 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-medium text-gray-900 mb-2\",\n          children: \"\\u5F53\\u524D\\u8BBE\\u7F6E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 845,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: [\"\\u9009\\u4E2D\\u5F15\\u64CE: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: ((_availableTranslators = availableTranslators[selectedTranslator]) === null || _availableTranslators === void 0 ? void 0 : _availableTranslators.name) || 'æœªé€‰æ‹©'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 847,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 846,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600 mt-1\",\n          children: [\"\\u72B6\\u6001: \", translatorStatus[selectedTranslator] === 'available' ? 'âœ… å¯ç”¨' : translatorStatus[selectedTranslator] === 'unavailable' ? 'âŒ ä¸å¯ç”¨' : translatorStatus[selectedTranslator] === 'testing' ? 'ğŸ”„ æµ‹è¯•ä¸­' : 'â“ æœªæµ‹è¯•']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 849,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 844,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 783,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 782,\n    columnNumber: 3\n  }, this);\n};\n\n/**\n * æ ‡ç­¾èƒ¶å›Šç»„ä»¶ - é‡æ–°è®¾è®¡\n */\n_c2 = TranslatorSettings;\nconst TagPill = ({\n  tag,\n  index,\n  isDisabled,\n  onDelete,\n  onToggleDisabled,\n  onAdjustWeight,\n  onAdjustBrackets,\n  onCopy,\n  onFavorite,\n  onTranslate,\n  translatedTags,\n  hoveredTag,\n  setHoveredTag\n}) => {\n  _s2();\n  const [translation, setTranslation] = useState('');\n  const [isTranslating, setIsTranslating] = useState(false);\n\n  // è§£ææ ‡ç­¾\n  const parseTag = tag => {\n    // æ£€æµ‹æƒé‡ (tag:1.2)\n    const weightMatch = tag.match(/^(.+?):([0-9.]+)$/);\n    if (weightMatch) {\n      return {\n        text: weightMatch[1],\n        weight: parseFloat(weightMatch[2]),\n        bracketType: 'none',\n        brackets: 0\n      };\n    }\n\n    // æ£€æµ‹æ‹¬å·ç±»å‹å’Œå±‚çº§\n    let brackets = 0;\n    let text = tag;\n    let bracketType = 'none';\n\n    // æ£€æµ‹åœ†æ‹¬å· ()\n    if (text.startsWith('(') && text.endsWith(')')) {\n      bracketType = 'round';\n      while (text.startsWith('(') && text.endsWith(')')) {\n        brackets++;\n        text = text.slice(1, -1);\n      }\n    }\n    // æ£€æµ‹èŠ±æ‹¬å· {}\n    else if (text.startsWith('{') && text.endsWith('}')) {\n      bracketType = 'curly';\n      while (text.startsWith('{') && text.endsWith('}')) {\n        brackets++;\n        text = text.slice(1, -1);\n      }\n    }\n    // æ£€æµ‹æ–¹æ‹¬å· []\n    else if (text.startsWith('[') && text.endsWith(']')) {\n      bracketType = 'square';\n      while (text.startsWith('[') && text.endsWith(']')) {\n        brackets++;\n        text = text.slice(1, -1);\n      }\n    }\n    return {\n      text,\n      weight: 1.0,\n      bracketType,\n      brackets\n    };\n  };\n  const parsed = parseTag(tag);\n  const isHovered = hoveredTag === index;\n\n  // åŠ è½½ç¿»è¯‘\n  useEffect(() => {\n    if (parsed.text && !translatedTags[parsed.text]) {\n      setIsTranslating(true);\n      onTranslate(tag).then(result => {\n        setTranslation(result);\n        setIsTranslating(false);\n      });\n    } else if (translatedTags[parsed.text]) {\n      setTranslation(translatedTags[parsed.text]);\n    }\n  }, [tag, translatedTags, onTranslate, parsed.text]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative group\",\n    onMouseEnter: () => setHoveredTag(index),\n    onMouseLeave: e => {\n      // æ‰©å¤§åˆ¤å®šèŒƒå›´ï¼šæ£€æŸ¥é¼ æ ‡æ˜¯å¦çœŸçš„ç¦»å¼€äº†æ•´ä¸ªåŒºåŸŸ\n      const rect = e.currentTarget.getBoundingClientRect();\n      const x = e.clientX;\n      const y = e.clientY;\n\n      // æ‰©å¤§æ£€æµ‹èŒƒå›´20åƒç´ \n      const margin = 20;\n      if (x < rect.left - margin || x > rect.right + margin || y < rect.top - margin || y > rect.bottom + 140) {\n        // åº•éƒ¨å¤šç•™140pxç»™ç¼–è¾‘æ \n        setHoveredTag(null);\n      }\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `inline-flex flex-col gap-1 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 cursor-pointer min-w-0 ${isDisabled ? 'bg-gray-300 text-gray-500 opacity-50' : 'bg-blue-100 text-blue-800 hover:bg-blue-200'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: `break-all ${isDisabled ? 'line-through' : ''}`,\n          children: tag\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 970,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onDelete,\n          className: \"flex-shrink-0 w-4 h-4 rounded-full bg-blue-600 text-white flex items-center justify-center hover:bg-red-500 transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 10\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 975,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 971,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 969,\n        columnNumber: 9\n      }, this), translation && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-gray-600 px-1\",\n        children: isTranslating ? 'ç¿»è¯‘ä¸­...' : translation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 981,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 962,\n      columnNumber: 7\n    }, this), isHovered && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-full left-0 mt-3 bg-white border-2 border-gray-300 rounded-xl shadow-xl p-4 z-30 min-w-max\",\n      onMouseEnter: () => setHoveredTag(index),\n      onMouseLeave: () => setHoveredTag(null),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-700 min-w-12 font-medium\",\n            children: \"\\u6743\\u91CD:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 997,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onAdjustWeight(-0.1),\n            className: \"w-8 h-8 rounded-lg bg-gray-100 hover:bg-gray-200 flex items-center justify-center font-bold text-gray-600\",\n            children: \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 998,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm font-mono min-w-12 text-center bg-gray-50 px-3 py-1 rounded-lg border\",\n            children: parsed.weight.toFixed(1)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1004,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onAdjustWeight(0.1),\n            className: \"w-8 h-8 rounded-lg bg-gray-100 hover:bg-gray-200 flex items-center justify-center font-bold text-gray-600\",\n            children: \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1007,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 996,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-700 min-w-12 font-medium\",\n            children: \"\\u62EC\\u53F7:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1017,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onAdjustBrackets('round', -1),\n              className: `w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${parsed.bracketType === 'round' ? 'bg-orange-500 hover:bg-orange-600 text-white' : 'bg-gray-100 hover:bg-gray-200 text-gray-400'}`,\n              disabled: parsed.bracketType !== 'none' && parsed.bracketType !== 'round',\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1021,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `px-3 py-1 rounded-lg text-sm font-mono border-2 ${parsed.bracketType === 'round' ? 'bg-orange-100 text-orange-800 border-orange-300' : 'bg-gray-100 text-gray-500 border-gray-300'}`,\n              children: [\"() \", parsed.bracketType === 'round' ? parsed.brackets : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1032,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onAdjustBrackets('round', 1),\n              className: `w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${(parsed.bracketType === 'none' || parsed.bracketType === 'round') && parsed.brackets < 5 ? 'bg-orange-500 hover:bg-orange-600 text-white' : 'bg-gray-100 text-gray-400'}`,\n              disabled: parsed.bracketType !== 'none' && parsed.bracketType !== 'round',\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1039,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1020,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onAdjustBrackets('curly', -1),\n              className: `w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${parsed.bracketType === 'curly' ? 'bg-yellow-500 hover:bg-yellow-600 text-white' : 'bg-gray-100 hover:bg-gray-200 text-gray-400'}`,\n              disabled: parsed.bracketType !== 'none' && parsed.bracketType !== 'curly',\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1054,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `px-3 py-1 rounded-lg text-sm font-mono border-2 ${parsed.bracketType === 'curly' ? 'bg-yellow-100 text-yellow-800 border-yellow-300' : 'bg-gray-100 text-gray-500 border-gray-300'}`,\n              children: [`{}`, \" \", parsed.bracketType === 'curly' ? parsed.brackets : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1065,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onAdjustBrackets('curly', 1),\n              className: `w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${(parsed.bracketType === 'none' || parsed.bracketType === 'curly') && parsed.brackets < 5 ? 'bg-yellow-500 hover:bg-yellow-600 text-white' : 'bg-gray-100 text-gray-400'}`,\n              disabled: parsed.bracketType !== 'none' && parsed.bracketType !== 'curly',\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1072,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1053,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onAdjustBrackets('square', -1),\n              className: `w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${parsed.bracketType === 'square' ? 'bg-blue-500 hover:bg-blue-600 text-white' : 'bg-gray-100 hover:bg-gray-200 text-gray-400'}`,\n              disabled: parsed.bracketType !== 'none' && parsed.bracketType !== 'square',\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1087,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `px-3 py-1 rounded-lg text-sm font-mono border-2 ${parsed.bracketType === 'square' ? 'bg-blue-100 text-blue-800 border-blue-300' : 'bg-gray-100 text-gray-500 border-gray-300'}`,\n              children: [\"[] \", parsed.bracketType === 'square' ? parsed.brackets : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1098,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onAdjustBrackets('square', 1),\n              className: `w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${(parsed.bracketType === 'none' || parsed.bracketType === 'square') && parsed.brackets < 5 ? 'bg-blue-500 hover:bg-blue-600 text-white' : 'bg-gray-100 text-gray-400'}`,\n              disabled: parsed.bracketType !== 'none' && parsed.bracketType !== 'square',\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1105,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1086,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1016,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onCopy,\n            className: \"flex items-center gap-1 px-3 py-2 rounded-lg bg-green-100 hover:bg-green-200 text-green-700 text-sm transition-colors\",\n            title: \"\\u590D\\u5236\",\n            children: [/*#__PURE__*/_jsxDEV(Copy, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1126,\n              columnNumber: 17\n            }, this), \"\\u590D\\u5236\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1121,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onFavorite,\n            className: \"flex items-center gap-1 px-3 py-2 rounded-lg bg-red-100 hover:bg-red-200 text-red-700 text-sm transition-colors\",\n            title: \"\\u6536\\u85CF\",\n            children: [/*#__PURE__*/_jsxDEV(Heart, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1134,\n              columnNumber: 17\n            }, this), \"\\u6536\\u85CF\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1129,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onToggleDisabled,\n            className: `flex items-center gap-1 px-3 py-2 rounded-lg text-sm transition-colors ${isDisabled ? 'bg-blue-100 hover:bg-blue-200 text-blue-700' : 'bg-gray-100 hover:bg-gray-200 text-gray-700'}`,\n            title: isDisabled ? \"å¯ç”¨\" : \"ç¦ç”¨\",\n            children: [isDisabled ? /*#__PURE__*/_jsxDEV(Eye, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1146,\n              columnNumber: 31\n            }, this) : /*#__PURE__*/_jsxDEV(EyeOff, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1146,\n              columnNumber: 51\n            }, this), isDisabled ? \"å¯ç”¨\" : \"ç¦ç”¨\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1137,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1120,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 994,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 989,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 944,\n    columnNumber: 5\n  }, this);\n};\n\n/**\n * æ ‡ç­¾å¡ç‰‡ç»„ä»¶\n */\n_s2(TagPill, \"fgX1dRwEzZm8/VG2ryQUcBNj6bo=\");\n_c3 = TagPill;\nconst TagCard = ({\n  tag,\n  onAdd,\n  onToggleFavorite,\n  isFavorited\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"group bg-gradient-to-r from-gray-50 to-white border border-gray-200 rounded-lg p-4 hover:shadow-md hover:border-blue-300 transition-all duration-200 cursor-pointer\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: onAdd,\n    className: \"flex-1\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-start justify-between mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-medium text-gray-900 text-sm mb-1 group-hover:text-blue-700 transition-colors\",\n          children: tag.en\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-blue-600 mb-2\",\n          children: tag.cn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1168,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => {\n          e.stopPropagation();\n          onToggleFavorite();\n        },\n        className: `p-1 rounded-full transition-colors ${isFavorited ? 'text-red-500 hover:bg-red-50' : 'text-gray-400 hover:bg-gray-100 hover:text-red-500'}`,\n        children: /*#__PURE__*/_jsxDEV(Heart, {\n          size: 14,\n          fill: isFavorited ? 'currentColor' : 'none'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1183,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-1\",\n          children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n            size: 12,\n            className: \"text-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs text-green-600 font-medium\",\n            children: [tag.frequency, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1191,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-12 bg-gray-200 rounded-full h-1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-green-500 h-1 rounded-full transition-all\",\n            style: {\n              width: `${tag.frequency}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1194,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onAdd,\n        className: \"opacity-0 group-hover:opacity-100 transition-opacity text-xs bg-blue-600 text-white px-2 py-1 rounded-full hover:bg-blue-700\",\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          size: 10,\n          className: \"inline mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1205,\n          columnNumber: 11\n        }, this), \"\\u6DFB\\u52A0\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1187,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1162,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 1161,\n  columnNumber: 3\n}, this);\n_c4 = TagCard;\nexport default PromptLibraryPage;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"PromptLibraryPage\");\n$RefreshReg$(_c2, \"TranslatorSettings\");\n$RefreshReg$(_c3, \"TagPill\");\n$RefreshReg$(_c4, \"TagCard\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Plus","Search","Copy","Heart","X","Languages","ChevronDown","ChevronRight","Tag","TagIcon","Sparkles","Bookmark","Clock","TrendingUp","Edit3","Minus","Trash2","Star","Weight","Zap","ChevronLeft","ChevronRightIcon","EyeOff","Eye","Settings","TestTube","CheckCircle","XCircle","RefreshCw","ArrowUpDown","copyToClipboard","translateText","translateTag","getAvailableTranslators","testTranslator","batchTranslate","translatePrompt","TAG_DATABASE","searchTags","getPopularTags","jsxDEV","_jsxDEV","PromptLibraryPage","_s","_TAG_DATABASE$selecte","_TAG_DATABASE$selecte2","_TAG_DATABASE$selecte3","_TAG_DATABASE$selecte4","prompt","setPrompt","translatedPrompt","setTranslatedPrompt","promptHistory","setPromptHistory","isTranslating","setIsTranslating","selectedTags","setSelectedTags","disabledTags","setDisabledTags","Set","translatedTags","setTranslatedTags","hoveredTag","setHoveredTag","availableTranslators","setAvailableTranslators","selectedTranslator","setSelectedTranslator","showTranslatorSettings","setShowTranslatorSettings","translatorStatus","setTranslatorStatus","autoTranslate","setAutoTranslate","selectedCategory","setSelectedCategory","selectedSubcategory","setSelectedSubcategory","expandedCategories","setExpandedCategories","favorites","searchQuery","setSearchQuery","searchResults","setSearchResults","setFavorites","copyStatus","setCopyStatus","textareaRef","translationRef","loadTranslators","translators","error","console","trim","results","slice","tagsFromPrompt","split","map","tag","filter","timer","setTimeout","translateFullPrompt","clearTimeout","updatePrompt","tags","enabledTags","_","index","has","newPrompt","join","includes","prev","handlePromptChange","value","result","preferredEngines","targetLang","sourceLang","translatedText","log","successCount","totalCount","errors","length","warn","addTagToPrompt","newTags","en","current","focus","setSelectionRange","deleteTag","i","newDisabled","toggleDisabled","delete","add","parseTag","weightMatch","match","text","weight","parseFloat","bracketType","brackets","startsWith","endsWith","buildTag","toFixed","adjustWeight","delta","parsed","newWeight","Math","max","min","newTag","adjustBrackets","newBrackets","newBracketType","handleTestTranslator","translatorKey","success","translateAllTags","untranslatedTags","texts","translator","newTranslations","forEach","original","translated","translateSingleTag","pureText","copyTag","favoriteTag","tagObj","cn","frequency","toggleFavorite","handleCopy","isAlreadyFavorited","some","fav","toggleCategory","categoryKey","selectCategory","subcategoryKey","getCurrentTags","category","subcategory","subcategories","allTags","Object","values","push","personal","currentTags","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","onChange","e","target","placeholder","historyPrompt","TranslatorSettings","onTestTranslator","onClose","style","minHeight","maxHeight","height","TagPill","isDisabled","onDelete","onToggleDisabled","onAdjustWeight","onAdjustBrackets","onCopy","onFavorite","onTranslate","type","entries","icon","name","TagCard","onAdd","onToggleFavorite","isFavorited","_c","_availableTranslators","key","stopPropagation","description","status","_c2","_s2","translation","setTranslation","isHovered","then","onMouseEnter","onMouseLeave","rect","currentTarget","getBoundingClientRect","x","clientX","y","clientY","margin","left","right","top","bottom","disabled","title","_c3","fill","width","_c4","$RefreshReg$"],"sources":["C:/Users/wjx19/Documents/GitHub/I-Prompt/src/pages/PromptLibraryPage.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { \n  Plus, Search, Copy, Heart, X, Languages, \n  ChevronDown, ChevronRight, Tag as TagIcon,\n  Sparkles, Bookmark, Clock, TrendingUp, Edit3,\n  Minus, Trash2, Star, Weight, Zap, ChevronLeft, ChevronRight as ChevronRightIcon,\n  EyeOff, Eye, Settings, TestTube, CheckCircle, XCircle, RefreshCw, ArrowUpDown\n} from 'lucide-react';\nimport { copyToClipboard } from '../utils/clipboard';\nimport { \n  translateText, \n  translateTag, \n  getAvailableTranslators, \n  testTranslator, \n  batchTranslate,\n  translatePrompt\n} from '../services/translationService';\nimport { TAG_DATABASE, searchTags, getPopularTags } from '../constants/tagDatabase';\n\nconst PromptLibraryPage = () => {\n  // æç¤ºè¯ç¼–è¾‘çŠ¶æ€\n  const [prompt, setPrompt] = useState('');\n  const [translatedPrompt, setTranslatedPrompt] = useState('');\n  const [promptHistory, setPromptHistory] = useState([]);\n  const [isTranslating, setIsTranslating] = useState(false);\n  \n  // æç¤ºè¯ç¼–è¾‘å™¨çŠ¶æ€\n  const [selectedTags, setSelectedTags] = useState([]);\n  const [disabledTags, setDisabledTags] = useState(new Set());\n  const [translatedTags, setTranslatedTags] = useState({});\n  const [hoveredTag, setHoveredTag] = useState(null);\n  \n  // ç¿»è¯‘è®¾ç½®çŠ¶æ€\n  const [availableTranslators, setAvailableTranslators] = useState({});\n  const [selectedTranslator, setSelectedTranslator] = useState('mymemory');\n  const [showTranslatorSettings, setShowTranslatorSettings] = useState(false);\n  const [translatorStatus, setTranslatorStatus] = useState({});\n  const [autoTranslate, setAutoTranslate] = useState(false);\n  \n  // æ ‡ç­¾åº“çŠ¶æ€\n  const [selectedCategory, setSelectedCategory] = useState('favorites');\n  const [selectedSubcategory, setSelectedSubcategory] = useState(null);\n  const [expandedCategories, setExpandedCategories] = useState({ favorites: true });\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  \n  // UIçŠ¶æ€\n  const [favorites, setFavorites] = useState([]);\n  const [copyStatus, setCopyStatus] = useState('');\n  \n  const textareaRef = useRef(null);\n  const translationRef = useRef(null);\n\n  // åŠ è½½ç¿»è¯‘å¼•æ“åˆ—è¡¨\n  useEffect(() => {\n    loadTranslators();\n  }, []);\n\n  const loadTranslators = async () => {\n    try {\n      const translators = await getAvailableTranslators();\n      setAvailableTranslators(translators);\n    } catch (error) {\n      console.error('åŠ è½½ç¿»è¯‘å¼•æ“å¤±è´¥:', error);\n    }\n  };\n\n  // å®æ—¶æœç´¢å»ºè®®\n  useEffect(() => {\n    if (searchQuery.trim()) {\n      const results = searchTags(searchQuery).slice(0, 20);\n      setSearchResults(results);\n    } else {\n      setSearchResults([]);\n    }\n  }, [searchQuery]);\n\n  // åŒæ­¥æç¤ºè¯å’Œé€‰ä¸­æ ‡ç­¾\n  useEffect(() => {\n    const tagsFromPrompt = prompt.split(',').map(tag => tag.trim()).filter(tag => tag);\n    setSelectedTags(tagsFromPrompt);\n  }, [prompt]);\n\n  // è‡ªåŠ¨ç¿»è¯‘ç›‘å¬\n  useEffect(() => {\n    if (autoTranslate && prompt.trim() && prompt !== translatedPrompt) {\n      const timer = setTimeout(() => {\n        translateFullPrompt();\n      }, 1000); // å»¶è¿Ÿ1ç§’è‡ªåŠ¨ç¿»è¯‘\n      \n      return () => clearTimeout(timer);\n    }\n  }, [prompt, autoTranslate]);\n\n  // æ›´æ–°è‹±æ–‡æç¤ºè¯ï¼ˆæ’é™¤ç¦ç”¨çš„æ ‡ç­¾ï¼‰\n  const updatePrompt = (tags) => {\n    const enabledTags = tags.filter((_, index) => !disabledTags.has(index));\n    const newPrompt = enabledTags.join(', ');\n    setPrompt(newPrompt);\n    \n    // æ·»åŠ åˆ°å†å²è®°å½•\n    if (newPrompt.trim() && !promptHistory.includes(newPrompt.trim())) {\n      setPromptHistory(prev => [newPrompt.trim(), ...prev.slice(0, 9)]);\n    }\n  };\n\n  // å¤„ç†æç¤ºè¯å˜åŒ–\n  const handlePromptChange = (value) => {\n    setPrompt(value);\n    \n    // æ·»åŠ åˆ°å†å²è®°å½•\n    if (value.trim() && !promptHistory.includes(value.trim())) {\n      setPromptHistory(prev => [value.trim(), ...prev.slice(0, 9)]);\n    }\n  };\n\n  // ç¿»è¯‘å®Œæ•´æç¤ºè¯\n  const translateFullPrompt = async () => {\n    if (!prompt.trim()) {\n      setCopyStatus('empty-prompt');\n      setTimeout(() => setCopyStatus(''), 2000);\n      return;\n    }\n\n    setIsTranslating(true);\n    setCopyStatus('translating');\n\n    try {\n      const result = await translatePrompt(prompt, {\n        preferredEngines: [selectedTranslator, 'mymemory', 'google_web'],\n        targetLang: 'zh',\n        sourceLang: 'en'\n      });\n\n      setTranslatedPrompt(result.translatedText);\n      \n      setCopyStatus('translate-success');\n      setTimeout(() => setCopyStatus(''), 3000);\n      \n      console.log(`ç¿»è¯‘å®Œæˆ: ${result.successCount}/${result.totalCount} ä¸ªæ ‡ç­¾æˆåŠŸç¿»è¯‘`);\n      if (result.errors.length > 0) {\n        console.warn('ç¿»è¯‘é”™è¯¯:', result.errors);\n      }\n      \n    } catch (error) {\n      console.error('æç¤ºè¯ç¿»è¯‘å¤±è´¥:', error);\n      setCopyStatus('translate-error');\n      setTimeout(() => setCopyStatus(''), 3000);\n    } finally {\n      setIsTranslating(false);\n    }\n  };\n\n  // æ·»åŠ æ ‡ç­¾åˆ°æç¤ºè¯\n  const addTagToPrompt = (tag) => {\n    const newTags = [...selectedTags, tag.en];\n    setSelectedTags(newTags);\n    updatePrompt(newTags);\n    \n    // èšç„¦åˆ°æ–‡æœ¬æ¡†æœ«å°¾\n    if (textareaRef.current) {\n      textareaRef.current.focus();\n      textareaRef.current.setSelectionRange(prompt.length, prompt.length);\n    }\n  };\n\n  // åˆ é™¤æ ‡ç­¾\n  const deleteTag = (index) => {\n    const newTags = selectedTags.filter((_, i) => i !== index);\n    const newDisabled = new Set([...disabledTags].map(i => i > index ? i - 1 : i).filter(i => i !== index));\n    setSelectedTags(newTags);\n    setDisabledTags(newDisabled);\n    updatePrompt(newTags);\n  };\n\n  // åˆ‡æ¢ç¦ç”¨çŠ¶æ€\n  const toggleDisabled = (index) => {\n    const newDisabled = new Set(disabledTags);\n    if (newDisabled.has(index)) {\n      newDisabled.delete(index);\n    } else {\n      newDisabled.add(index);\n    }\n    setDisabledTags(newDisabled);\n    updatePrompt(selectedTags);\n  };\n\n  // è§£ææ ‡ç­¾ï¼Œæå–æƒé‡å’Œæ‹¬å·ä¿¡æ¯\n  const parseTag = (tag) => {\n    // æ£€æµ‹æƒé‡ (tag:1.2)\n    const weightMatch = tag.match(/^(.+?):([0-9.]+)$/);\n    if (weightMatch) {\n      return {\n        text: weightMatch[1],\n        weight: parseFloat(weightMatch[2]),\n        bracketType: 'none',\n        brackets: 0\n      };\n    }\n    \n    // æ£€æµ‹æ‹¬å·ç±»å‹å’Œå±‚çº§\n    let brackets = 0;\n    let text = tag;\n    let bracketType = 'none';\n    \n    // æ£€æµ‹åœ†æ‹¬å· ()\n    if (text.startsWith('(') && text.endsWith(')')) {\n      bracketType = 'round';\n      while (text.startsWith('(') && text.endsWith(')')) {\n        brackets++;\n        text = text.slice(1, -1);\n      }\n    }\n    // æ£€æµ‹èŠ±æ‹¬å· {}\n    else if (text.startsWith('{') && text.endsWith('}')) {\n      bracketType = 'curly';\n      while (text.startsWith('{') && text.endsWith('}')) {\n        brackets++;\n        text = text.slice(1, -1);\n      }\n    }\n    // æ£€æµ‹æ–¹æ‹¬å· []\n    else if (text.startsWith('[') && text.endsWith(']')) {\n      bracketType = 'square';\n      while (text.startsWith('[') && text.endsWith(']')) {\n        brackets++;\n        text = text.slice(1, -1);\n      }\n    }\n    \n    return { text, weight: 1.0, bracketType, brackets };\n  };\n\n  // æ„å»ºæ ‡ç­¾å­—ç¬¦ä¸²\n  const buildTag = (text, weight, bracketType, brackets) => {\n    let result = text;\n    \n    // æ·»åŠ æƒé‡\n    if (weight !== 1.0) {\n      result = `${text}:${weight.toFixed(1)}`;\n    }\n    \n    // æ·»åŠ æ‹¬å·\n    if (bracketType === 'round') {\n      for (let i = 0; i < brackets; i++) {\n        result = `(${result})`;\n      }\n    } else if (bracketType === 'curly') {\n      for (let i = 0; i < brackets; i++) {\n        result = `{${result}}`;\n      }\n    } else if (bracketType === 'square') {\n      for (let i = 0; i < brackets; i++) {\n        result = `[${result}]`;\n      }\n    }\n    \n    return result;\n  };\n\n  // è°ƒæ•´æƒé‡\n  const adjustWeight = (index, delta) => {\n    const tag = selectedTags[index];\n    const parsed = parseTag(tag);\n    const newWeight = Math.max(0.1, Math.min(2.0, parsed.weight + delta));\n    const newTag = buildTag(parsed.text, newWeight, parsed.bracketType, parsed.brackets);\n    \n    const newTags = [...selectedTags];\n    newTags[index] = newTag;\n    setSelectedTags(newTags);\n    updatePrompt(newTags);\n  };\n\n  // è°ƒæ•´æ‹¬å·\n  const adjustBrackets = (index, bracketType, delta) => {\n    const tag = selectedTags[index];\n    const parsed = parseTag(tag);\n    \n    // å¦‚æœè¦å¢åŠ æ‹¬å·ä¸”å½“å‰æ²¡æœ‰æ‹¬å·ï¼Œæˆ–è€…ç±»å‹ç›¸åŒï¼Œæ‰å…è®¸è°ƒæ•´\n    if (delta > 0 && parsed.bracketType !== 'none' && parsed.bracketType !== bracketType) {\n      return; // ä¸å…è®¸æ··ç”¨ä¸åŒç±»å‹çš„æ‹¬å·\n    }\n    \n    const newBrackets = Math.max(0, Math.min(5, parsed.brackets + delta));\n    const newBracketType = newBrackets === 0 ? 'none' : bracketType;\n    const newTag = buildTag(parsed.text, parsed.weight, newBracketType, newBrackets);\n    \n    const newTags = [...selectedTags];\n    newTags[index] = newTag;\n    setSelectedTags(newTags);\n    updatePrompt(newTags);\n  };\n\n  // æµ‹è¯•ç¿»è¯‘å¼•æ“\n  const handleTestTranslator = async (translatorKey) => {\n    setTranslatorStatus(prev => ({ ...prev, [translatorKey]: 'testing' }));\n    \n    try {\n      const result = await testTranslator(translatorKey);\n      setTranslatorStatus(prev => ({ \n        ...prev, \n        [translatorKey]: result.success ? 'available' : 'unavailable'\n      }));\n      \n      if (result.success) {\n        setCopyStatus('test-success');\n      } else {\n        setCopyStatus('test-failed');\n      }\n    } catch (error) {\n      setTranslatorStatus(prev => ({ ...prev, [translatorKey]: 'unavailable' }));\n      setCopyStatus('test-failed');\n    }\n    \n    setTimeout(() => setCopyStatus(''), 2000);\n  };\n\n  // ä¸€é”®ç¿»è¯‘æ‰€æœ‰æœªç¿»è¯‘çš„æ ‡ç­¾\n  const translateAllTags = async () => {\n    const untranslatedTags = selectedTags.filter(tag => {\n      const parsed = parseTag(tag);\n      return !translatedTags[parsed.text];\n    });\n\n    if (untranslatedTags.length === 0) {\n      setCopyStatus('no-untranslated');\n      setTimeout(() => setCopyStatus(''), 2000);\n      return;\n    }\n\n    setCopyStatus('translating');\n    \n    try {\n      const texts = untranslatedTags.map(tag => parseTag(tag).text);\n      const results = await batchTranslate(texts, {\n        translator: selectedTranslator,\n        targetLang: 'zh',\n        sourceLang: 'auto'\n      });\n\n      const newTranslations = {};\n      results.forEach(result => {\n        if (result.success) {\n          newTranslations[result.original] = result.translated;\n        }\n      });\n\n      setTranslatedTags(prev => ({ ...prev, ...newTranslations }));\n      setCopyStatus('translate-success');\n    } catch (error) {\n      console.error('æ‰¹é‡ç¿»è¯‘å¤±è´¥:', error);\n      setCopyStatus('translate-error');\n    }\n    \n    setTimeout(() => setCopyStatus(''), 2000);\n  };\n\n  // ç¿»è¯‘å•ä¸ªæ ‡ç­¾\n  const translateSingleTag = async (tag) => {\n    // æå–çº¯æ–‡æœ¬è¿›è¡Œç¿»è¯‘\n    const parsed = parseTag(tag);\n    const pureText = parsed.text;\n    \n    if (translatedTags[pureText]) {\n      return translatedTags[pureText];\n    }\n    \n    try {\n      const translated = await translateTag(pureText, {\n        translator: selectedTranslator,\n        targetLang: 'zh',\n        sourceLang: 'auto'\n      });\n      setTranslatedTags(prev => ({ ...prev, [pureText]: translated }));\n      return translated;\n    } catch (error) {\n      console.error('ç¿»è¯‘å¤±è´¥:', error);\n      return pureText;\n    }\n  };\n\n  // å¤åˆ¶æ ‡ç­¾\n  const copyTag = async (tag) => {\n    const success = await copyToClipboard(tag);\n    setCopyStatus(success ? 'copied' : 'error');\n    setTimeout(() => setCopyStatus(''), 2000);\n  };\n\n  // æ”¶è—æ ‡ç­¾\n  const favoriteTag = (tag) => {\n    const parsed = parseTag(tag);\n    const tagObj = { en: parsed.text, cn: translatedTags[parsed.text] || parsed.text, frequency: 80 };\n    toggleFavorite(tagObj);\n  };\n\n  // å¤åˆ¶åŠŸèƒ½\n  const handleCopy = async (text) => {\n    const success = await copyToClipboard(text || prompt);\n    setCopyStatus(success ? 'copied' : 'error');\n    setTimeout(() => setCopyStatus(''), 2000);\n  };\n\n  // æ”¶è—åŠŸèƒ½\n  const toggleFavorite = (tag) => {\n    setFavorites(prev => {\n      const isAlreadyFavorited = prev.some(fav => fav.en === tag.en);\n      if (isAlreadyFavorited) {\n        return prev.filter(fav => fav.en !== tag.en);\n      } else {\n        return [...prev, tag];\n      }\n    });\n  };\n\n  // åˆ†ç±»å±•å¼€/æ”¶èµ·\n  const toggleCategory = (categoryKey) => {\n    setExpandedCategories(prev => ({\n      ...prev,\n      [categoryKey]: !prev[categoryKey]\n    }));\n  };\n\n  // é€‰æ‹©åˆ†ç±»\n  const selectCategory = (categoryKey, subcategoryKey = null) => {\n    setSelectedCategory(categoryKey);\n    setSelectedSubcategory(subcategoryKey);\n  };\n\n  // è·å–å½“å‰æ˜¾ç¤ºçš„æ ‡ç­¾\n  const getCurrentTags = () => {\n    if (searchQuery.trim()) {\n      return searchResults;\n    }\n    \n    if (selectedCategory === 'favorites') {\n      if (selectedSubcategory === 'personal') {\n        return favorites;\n      } else {\n        // æ˜¾ç¤ºçƒ­é—¨æ ‡ç­¾\n        return getPopularTags(20);\n      }\n    }\n    \n    const category = TAG_DATABASE[selectedCategory];\n    if (!category) return [];\n    \n    if (selectedSubcategory) {\n      const subcategory = category.subcategories[selectedSubcategory];\n      return subcategory ? subcategory.tags : [];\n    }\n    \n    // è¿”å›è¯¥åˆ†ç±»ä¸‹æ‰€æœ‰æ ‡ç­¾\n    const allTags = [];\n    Object.values(category.subcategories).forEach(subcategory => {\n      allTags.push(...subcategory.tags);\n    });\n    return allTags;\n  };\n\n  // åŠ¨æ€æ›´æ–°TAG_DATABASEä¸­çš„æ”¶è—æ ‡ç­¾\n  useEffect(() => {\n    if (TAG_DATABASE.favorites && TAG_DATABASE.favorites.subcategories.personal) {\n      TAG_DATABASE.favorites.subcategories.personal.tags = favorites;\n    }\n  }, [favorites]);\n\n  const currentTags = getCurrentTags();\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50\">\n      {/* é¡µé¢æ ‡é¢˜ */}\n      <div className=\"bg-white/80 backdrop-blur-sm border-b border-gray-200 px-6 py-4\">\n        <div className=\"max-w-7xl mx-auto\">\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-2 flex items-center\">\n            <Sparkles className=\"text-blue-600 mr-3\" size={28} />\n            æ™ºèƒ½æç¤ºè¯åº“ 3.0\n          </h1>\n          <p className=\"text-gray-600\">\n            ä¸“ä¸šçš„æç¤ºè¯ç¼–è¾‘å’Œç®¡ç†å·¥å…· â€¢ æ”¯æŒå¤šå¼•æ“ç¿»è¯‘ â€¢ æ™ºèƒ½åˆ†ç±» â€¢ è®©AIç»˜ç”»åˆ›ä½œæ›´é«˜æ•ˆ\n          </p>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto p-6 space-y-6\">\n        {/* è‹±æ–‡æç¤ºè¯è¾“å…¥åŒº */}\n        <div className=\"bg-white rounded-xl shadow-lg border border-gray-200\">\n          <div className=\"p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n                <TagIcon className=\"text-blue-600 mr-2\" size={20} />\n                æç¤ºè¯é¢„è§ˆ\n              </h2>\n              <div className=\"flex items-center gap-2\">\n                <button\n                  onClick={() => setShowTranslatorSettings(!showTranslatorSettings)}\n                  className=\"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm\"\n                >\n                  <Settings size={14} />\n                  ç¿»è¯‘è®¾ç½®\n                </button>\n                <button\n                  onClick={translateAllTags}\n                  className=\"flex items-center gap-2 px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm\"\n                >\n                  <Languages size={14} />\n                  ä¸€é”®ç¿»è¯‘\n                </button>\n                <button\n                  onClick={() => handleCopy()}\n                  className=\"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n                >\n                  <Copy size={16} />\n                  å¤åˆ¶\n                </button>\n                <button\n                  onClick={() => {\n                    setPrompt('');\n                    setSelectedTags([]);\n                    setDisabledTags(new Set());\n                  }}\n                  className=\"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors\"\n                >\n                  <X size={16} />\n                </button>\n              </div>\n            </div>\n\n            <textarea\n              ref={textareaRef}\n              value={prompt}\n              onChange={(e) => handlePromptChange(e.target.value)}\n              placeholder=\"è¾“å…¥æˆ–ç‚¹å‡»ä¸‹æ–¹æ ‡ç­¾æ·»åŠ æç¤ºè¯...\"\n              className=\"w-full h-32 p-4 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all font-mono text-sm overflow-y-auto\"\n            />\n            \n            <div className=\"flex items-center justify-between text-xs text-gray-500 mt-2\">\n              <span>å­—ç¬¦æ•°: {prompt.length}</span>\n              <span>æ ‡ç­¾æ•°: {selectedTags.filter((_, i) => !disabledTags.has(i)).length}/{selectedTags.length}</span>\n            </div>\n\n            {/* å¿«é€Ÿå†å²è®°å½• */}\n            {promptHistory.length > 0 && (\n              <div className=\"mt-4 p-4 bg-gray-50 rounded-lg\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <Clock size={16} className=\"text-gray-600\" />\n                  <span className=\"text-sm font-medium text-gray-700\">æœ€è¿‘ä½¿ç”¨</span>\n                </div>\n                <div className=\"flex flex-wrap gap-2\">\n                  {promptHistory.slice(0, 5).map((historyPrompt, index) => (\n                    <button\n                      key={index}\n                      onClick={() => setPrompt(historyPrompt)}\n                      className=\"px-3 py-1 text-xs bg-white border border-gray-200 rounded-full hover:bg-blue-50 hover:border-blue-300 transition-colors truncate max-w-xs\"\n                    >\n                      {historyPrompt}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* ç¿»è¯‘å¼•æ“è®¾ç½®é¢æ¿ */}\n        {showTranslatorSettings && (\n          <TranslatorSettings\n            availableTranslators={availableTranslators}\n            selectedTranslator={selectedTranslator}\n            setSelectedTranslator={setSelectedTranslator}\n            translatorStatus={translatorStatus}\n            onTestTranslator={handleTestTranslator}\n            onClose={() => setShowTranslatorSettings(false)}\n          />\n        )}\n\n        {/* æç¤ºè¯ç¼–è¾‘åŒº - å•ç‹¬ä¸€è¡Œï¼Œè‡ªé€‚åº”é«˜åº¦ */}\n        <div className=\"bg-white rounded-xl shadow-lg border border-gray-200\">\n          <div className=\"p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n                <Edit3 className=\"text-blue-600 mr-2\" size={20} />\n                æç¤ºè¯ç¼–è¾‘åŒº\n                <span className=\"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full ml-2\">\n                  æ‚¬åœç¼–è¾‘ â€¢ æƒé‡è°ƒèŠ‚ â€¢ æ‹¬å·æ§åˆ¶\n                </span>\n              </h2>\n            </div>\n            \n            <div \n              className=\"border border-gray-300 rounded-lg p-6 bg-blue-50/20 overflow-y-auto\"\n              style={{\n                minHeight: '200px',\n                maxHeight: '1200px',\n                height: 'auto'\n              }}\n            >\n              {selectedTags.length === 0 ? (\n                <div className=\"flex items-center justify-center h-32 text-gray-500\">\n                  <div className=\"text-center\">\n                    <TagIcon size={32} className=\"mx-auto mb-2 opacity-50\" />\n                    <p className=\"text-sm\">ç‚¹å‡»ä¸‹æ–¹æ ‡ç­¾åº“æ·»åŠ æ ‡ç­¾</p>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"flex flex-wrap gap-4\">\n                  {selectedTags.map((tag, index) => (\n                    <TagPill\n                      key={index}\n                      tag={tag}\n                      index={index}\n                      isDisabled={disabledTags.has(index)}\n                      onDelete={() => deleteTag(index)}\n                      onToggleDisabled={() => toggleDisabled(index)}\n                      onAdjustWeight={(delta) => adjustWeight(index, delta)}\n                      onAdjustBrackets={(bracketType, delta) => adjustBrackets(index, bracketType, delta)}\n                      onCopy={() => copyTag(tag)}\n                      onFavorite={() => favoriteTag(tag)}\n                      onTranslate={translateSingleTag}\n                      translatedTags={translatedTags}\n                      hoveredTag={hoveredTag}\n                      setHoveredTag={setHoveredTag}\n                    />\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* ä¸»è¦å†…å®¹åŒºåŸŸ */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n          {/* å·¦ä¾§åˆ†ç±»å¯¼èˆª */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-white rounded-xl shadow-lg border border-gray-200 p-4 sticky top-6\">\n              <div className=\"mb-4\">\n                <div className=\"relative\">\n                  <Search className=\"absolute left-3 top-3 text-gray-400\" size={16} />\n                  <input\n                    type=\"text\"\n                    value={searchQuery}\n                    onChange={(e) => setSearchQuery(e.target.value)}\n                    placeholder=\"æœç´¢æ ‡ç­¾...\"\n                    className=\"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"space-y-1\">\n                {Object.entries(TAG_DATABASE).map(([categoryKey, category]) => (\n                  <div key={categoryKey}>\n                    <button\n                      onClick={() => toggleCategory(categoryKey)}\n                      className={`w-full flex items-center justify-between p-3 rounded-lg transition-colors ${\n                        selectedCategory === categoryKey && !selectedSubcategory\n                          ? 'bg-blue-50 text-blue-700 border border-blue-200'\n                          : 'hover:bg-gray-50'\n                      }`}\n                    >\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"text-lg\">{category.icon}</span>\n                        <span className=\"font-medium\">{category.name}</span>\n                      </div>\n                      {expandedCategories[categoryKey] ? (\n                        <ChevronDown size={16} />\n                      ) : (\n                        <ChevronRight size={16} />\n                      )}\n                    </button>\n\n                    {expandedCategories[categoryKey] && (\n                      <div className=\"ml-4 mt-1 space-y-1\">\n                        {Object.entries(category.subcategories).map(([subcategoryKey, subcategory]) => (\n                          <button\n                            key={subcategoryKey}\n                            onClick={() => selectCategory(categoryKey, subcategoryKey)}\n                            className={`w-full text-left p-2 rounded-lg text-sm transition-colors ${\n                              selectedCategory === categoryKey && selectedSubcategory === subcategoryKey\n                                ? 'bg-blue-50 text-blue-700'\n                                : 'hover:bg-gray-50 text-gray-600'\n                            }`}\n                          >\n                            {subcategory.name}\n                          </button>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          {/* å³ä¾§æ ‡ç­¾å±•ç¤ºåŒº */}\n          <div className=\"lg:col-span-3\">\n            <div className=\"bg-white rounded-xl shadow-lg border border-gray-200\">\n              <div className=\"p-6 border-b border-gray-200\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <h3 className=\"text-lg font-semibold text-gray-900\">\n                      {searchQuery ? 'æœç´¢ç»“æœ' : \n                       selectedSubcategory ? \n                       `${TAG_DATABASE[selectedCategory]?.name} - ${TAG_DATABASE[selectedCategory]?.subcategories[selectedSubcategory]?.name}` :\n                       TAG_DATABASE[selectedCategory]?.name || 'æ ‡ç­¾åº“'}\n                    </h3>\n                    <p className=\"text-sm text-gray-600 mt-1\">\n                      {searchQuery ? `æ‰¾åˆ° ${currentTags.length} ä¸ªç›¸å…³æ ‡ç­¾` : \n                       `å…± ${currentTags.length} ä¸ªæ ‡ç­¾`}\n                    </p>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full\">\n                      ç‚¹å‡»æ ‡ç­¾æ·»åŠ åˆ°æç¤ºè¯\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"p-6\">\n                {currentTags.length === 0 ? (\n                  <div className=\"text-center py-12\">\n                    <TagIcon className=\"mx-auto text-gray-400 mb-4\" size={48} />\n                    <p className=\"text-gray-500 mb-4\">\n                      {searchQuery ? 'æœªæ‰¾åˆ°åŒ¹é…çš„æ ‡ç­¾' : 'è¯¥åˆ†ç±»æš‚æ— æ ‡ç­¾'}\n                    </p>\n                  </div>\n                ) : (\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-3\">\n                    {currentTags.map((tag, index) => (\n                      <TagCard\n                        key={`${tag.en}-${index}`}\n                        tag={tag}\n                        onAdd={() => addTagToPrompt(tag)}\n                        onToggleFavorite={() => toggleFavorite(tag)}\n                        isFavorited={favorites.some(fav => fav.en === tag.en)}\n                      />\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* å¤åˆ¶çŠ¶æ€æç¤º */}\n      {copyStatus && (\n        <div className={`fixed bottom-4 right-4 px-4 py-2 rounded-lg text-white text-sm transition-all duration-300 shadow-lg z-50 ${\n          copyStatus === 'copied' ? 'bg-green-600' : \n          copyStatus === 'translating' ? 'bg-blue-600' :\n          copyStatus === 'translate-success' ? 'bg-green-600' :\n          copyStatus === 'translate-error' ? 'bg-red-600' :\n          copyStatus === 'no-untranslated' ? 'bg-yellow-600' :\n          copyStatus === 'test-success' ? 'bg-green-600' :\n          copyStatus === 'test-failed' ? 'bg-red-600' :\n          'bg-red-600'\n        }`}>\n          {copyStatus === 'copied' ? 'âœ… å·²å¤åˆ¶åˆ°å‰ªè´´æ¿' : \n           copyStatus === 'translating' ? 'ğŸ”„ æ­£åœ¨ç¿»è¯‘ä¸­...' :\n           copyStatus === 'translate-success' ? 'âœ… ç¿»è¯‘å®Œæˆ' :\n           copyStatus === 'translate-error' ? 'âŒ ç¿»è¯‘å¤±è´¥' :\n           copyStatus === 'no-untranslated' ? 'ğŸ’¡ æ‰€æœ‰æ ‡ç­¾å·²ç¿»è¯‘' :\n           copyStatus === 'test-success' ? 'âœ… æµ‹è¯•æˆåŠŸ' :\n           copyStatus === 'test-failed' ? 'âŒ æµ‹è¯•å¤±è´¥' :\n           'âŒ æ“ä½œå¤±è´¥'}\n        </div>\n      )}\n    </div>\n  );\n};\n\n/**\n * ç¿»è¯‘å¼•æ“è®¾ç½®ç»„ä»¶\n */\nconst TranslatorSettings = ({ \n  availableTranslators, \n  selectedTranslator, \n  setSelectedTranslator, \n  translatorStatus, \n  onTestTranslator, \n  onClose \n}) => (\n  <div className=\"bg-white rounded-xl shadow-lg border border-gray-200\">\n    <div className=\"p-6\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n          <Settings className=\"text-blue-600 mr-2\" size={20} />\n          ç¿»è¯‘å¼•æ“è®¾ç½®\n        </h3>\n        <button\n          onClick={onClose}\n          className=\"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors\"\n        >\n          <X size={16} />\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {Object.entries(availableTranslators).map(([key, translator]) => (\n          <div \n            key={key}\n            className={`p-4 border-2 rounded-lg cursor-pointer transition-all ${\n              selectedTranslator === key \n                ? 'border-blue-500 bg-blue-50' \n                : 'border-gray-200 hover:border-gray-300'\n            }`}\n            onClick={() => setSelectedTranslator(key)}\n          >\n            <div className=\"flex items-center justify-between mb-2\">\n              <h4 className=\"font-medium text-gray-900\">{translator.name}</h4>\n              <div className=\"flex items-center gap-2\">\n                {translatorStatus[key] === 'testing' && (\n                  <div className=\"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin\" />\n                )}\n                {translatorStatus[key] === 'available' && (\n                  <CheckCircle className=\"text-green-600\" size={16} />\n                )}\n                {translatorStatus[key] === 'unavailable' && (\n                  <XCircle className=\"text-red-600\" size={16} />\n                )}\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    onTestTranslator(key);\n                  }}\n                  className=\"p-1 text-gray-500 hover:bg-gray-100 rounded transition-colors\"\n                >\n                  <TestTube size={14} />\n                </button>\n              </div>\n            </div>\n            <p className=\"text-xs text-gray-600\">{translator.description}</p>\n            <div className={`mt-2 text-xs px-2 py-1 rounded-full inline-block ${\n              translator.status === 'stable' ? 'bg-green-100 text-green-700' :\n              translator.status === 'premium' ? 'bg-purple-100 text-purple-700' :\n              'bg-gray-100 text-gray-700'\n            }`}>\n              {translator.status === 'stable' ? 'ç¨³å®š' :\n               translator.status === 'premium' ? 'é«˜çº§' : 'æœªçŸ¥'}\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"mt-4 p-4 bg-gray-50 rounded-lg\">\n        <h4 className=\"font-medium text-gray-900 mb-2\">å½“å‰è®¾ç½®</h4>\n        <p className=\"text-sm text-gray-600\">\n          é€‰ä¸­å¼•æ“: <span className=\"font-medium\">{availableTranslators[selectedTranslator]?.name || 'æœªé€‰æ‹©'}</span>\n        </p>\n        <p className=\"text-sm text-gray-600 mt-1\">\n          çŠ¶æ€: {translatorStatus[selectedTranslator] === 'available' ? 'âœ… å¯ç”¨' :\n                 translatorStatus[selectedTranslator] === 'unavailable' ? 'âŒ ä¸å¯ç”¨' :\n                 translatorStatus[selectedTranslator] === 'testing' ? 'ğŸ”„ æµ‹è¯•ä¸­' :\n                 'â“ æœªæµ‹è¯•'}\n        </p>\n      </div>\n    </div>\n  </div>\n);\n\n/**\n * æ ‡ç­¾èƒ¶å›Šç»„ä»¶ - é‡æ–°è®¾è®¡\n */\nconst TagPill = ({ \n  tag, \n  index,\n  isDisabled,\n  onDelete, \n  onToggleDisabled,\n  onAdjustWeight,\n  onAdjustBrackets,\n  onCopy,\n  onFavorite,\n  onTranslate,\n  translatedTags,\n  hoveredTag,\n  setHoveredTag\n}) => {\n  const [translation, setTranslation] = useState('');\n  const [isTranslating, setIsTranslating] = useState(false);\n\n  // è§£ææ ‡ç­¾\n  const parseTag = (tag) => {\n    // æ£€æµ‹æƒé‡ (tag:1.2)\n    const weightMatch = tag.match(/^(.+?):([0-9.]+)$/);\n    if (weightMatch) {\n      return {\n        text: weightMatch[1],\n        weight: parseFloat(weightMatch[2]),\n        bracketType: 'none',\n        brackets: 0\n      };\n    }\n    \n    // æ£€æµ‹æ‹¬å·ç±»å‹å’Œå±‚çº§\n    let brackets = 0;\n    let text = tag;\n    let bracketType = 'none';\n    \n    // æ£€æµ‹åœ†æ‹¬å· ()\n    if (text.startsWith('(') && text.endsWith(')')) {\n      bracketType = 'round';\n      while (text.startsWith('(') && text.endsWith(')')) {\n        brackets++;\n        text = text.slice(1, -1);\n      }\n    }\n    // æ£€æµ‹èŠ±æ‹¬å· {}\n    else if (text.startsWith('{') && text.endsWith('}')) {\n      bracketType = 'curly';\n      while (text.startsWith('{') && text.endsWith('}')) {\n        brackets++;\n        text = text.slice(1, -1);\n      }\n    }\n    // æ£€æµ‹æ–¹æ‹¬å· []\n    else if (text.startsWith('[') && text.endsWith(']')) {\n      bracketType = 'square';\n      while (text.startsWith('[') && text.endsWith(']')) {\n        brackets++;\n        text = text.slice(1, -1);\n      }\n    }\n    \n    return { text, weight: 1.0, bracketType, brackets };\n  };\n\n  const parsed = parseTag(tag);\n  const isHovered = hoveredTag === index;\n\n  // åŠ è½½ç¿»è¯‘\n  useEffect(() => {\n    if (parsed.text && !translatedTags[parsed.text]) {\n      setIsTranslating(true);\n      onTranslate(tag).then(result => {\n        setTranslation(result);\n        setIsTranslating(false);\n      });\n    } else if (translatedTags[parsed.text]) {\n      setTranslation(translatedTags[parsed.text]);\n    }\n  }, [tag, translatedTags, onTranslate, parsed.text]);\n\n  return (\n    <div \n      className=\"relative group\"\n      onMouseEnter={() => setHoveredTag(index)}\n      onMouseLeave={(e) => {\n        // æ‰©å¤§åˆ¤å®šèŒƒå›´ï¼šæ£€æŸ¥é¼ æ ‡æ˜¯å¦çœŸçš„ç¦»å¼€äº†æ•´ä¸ªåŒºåŸŸ\n        const rect = e.currentTarget.getBoundingClientRect();\n        const x = e.clientX;\n        const y = e.clientY;\n        \n        // æ‰©å¤§æ£€æµ‹èŒƒå›´20åƒç´ \n        const margin = 20;\n        if (x < rect.left - margin || x > rect.right + margin || \n            y < rect.top - margin || y > rect.bottom + 140) { // åº•éƒ¨å¤šç•™140pxç»™ç¼–è¾‘æ \n          setHoveredTag(null);\n        }\n      }}\n    >\n      {/* ä¸»æ ‡ç­¾èƒ¶å›Š */}\n      <div\n        className={`inline-flex flex-col gap-1 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 cursor-pointer min-w-0 ${\n          isDisabled \n            ? 'bg-gray-300 text-gray-500 opacity-50' \n            : 'bg-blue-100 text-blue-800 hover:bg-blue-200'\n        }`}\n      >\n        <div className=\"flex items-center gap-2\">\n          <span className={`break-all ${isDisabled ? 'line-through' : ''}`}>{tag}</span>\n          <button\n            onClick={onDelete}\n            className=\"flex-shrink-0 w-4 h-4 rounded-full bg-blue-600 text-white flex items-center justify-center hover:bg-red-500 transition-colors\"\n          >\n            <X size={10} />\n          </button>\n        </div>\n        \n        {/* ä¸­æ–‡ç¿»è¯‘ */}\n        {translation && (\n          <div className=\"text-xs text-gray-600 px-1\">\n            {isTranslating ? 'ç¿»è¯‘ä¸­...' : translation}\n          </div>\n        )}\n      </div>\n\n      {/* æ‚¬åœç¼–è¾‘æ  */}\n      {isHovered && (\n        <div \n          className=\"absolute top-full left-0 mt-3 bg-white border-2 border-gray-300 rounded-xl shadow-xl p-4 z-30 min-w-max\"\n          onMouseEnter={() => setHoveredTag(index)}\n          onMouseLeave={() => setHoveredTag(null)}\n        >\n          <div className=\"flex flex-col gap-4\">\n            {/* ç¬¬ä¸€è¡Œï¼šæƒé‡è°ƒæ•´ */}\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-sm text-gray-700 min-w-12 font-medium\">æƒé‡:</span>\n              <button\n                onClick={() => onAdjustWeight(-0.1)}\n                className=\"w-8 h-8 rounded-lg bg-gray-100 hover:bg-gray-200 flex items-center justify-center font-bold text-gray-600\"\n              >\n                -\n              </button>\n              <div className=\"text-sm font-mono min-w-12 text-center bg-gray-50 px-3 py-1 rounded-lg border\">\n                {parsed.weight.toFixed(1)}\n              </div>\n              <button\n                onClick={() => onAdjustWeight(0.1)}\n                className=\"w-8 h-8 rounded-lg bg-gray-100 hover:bg-gray-200 flex items-center justify-center font-bold text-gray-600\"\n              >\n                +\n              </button>\n            </div>\n\n            {/* ç¬¬äºŒè¡Œï¼šæ‹¬å·ç±»å‹æ§åˆ¶ */}\n            <div className=\"flex items-center gap-3\">\n              <span className=\"text-sm text-gray-700 min-w-12 font-medium\">æ‹¬å·:</span>\n              \n              {/* åœ†æ‹¬å· () - 1.1å€æƒé‡ */}\n              <div className=\"flex items-center gap-1\">\n                <button\n                  onClick={() => onAdjustBrackets('round', -1)}\n                  className={`w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${\n                    parsed.bracketType === 'round' \n                      ? 'bg-orange-500 hover:bg-orange-600 text-white' \n                      : 'bg-gray-100 hover:bg-gray-200 text-gray-400'\n                  }`}\n                  disabled={parsed.bracketType !== 'none' && parsed.bracketType !== 'round'}\n                >\n                  -\n                </button>\n                <div className={`px-3 py-1 rounded-lg text-sm font-mono border-2 ${\n                  parsed.bracketType === 'round' \n                    ? 'bg-orange-100 text-orange-800 border-orange-300' \n                    : 'bg-gray-100 text-gray-500 border-gray-300'\n                }`}>\n                  () {parsed.bracketType === 'round' ? parsed.brackets : 0}\n                </div>\n                <button\n                  onClick={() => onAdjustBrackets('round', 1)}\n                  className={`w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${\n                    (parsed.bracketType === 'none' || parsed.bracketType === 'round') && parsed.brackets < 5\n                      ? 'bg-orange-500 hover:bg-orange-600 text-white' \n                      : 'bg-gray-100 text-gray-400'\n                  }`}\n                  disabled={parsed.bracketType !== 'none' && parsed.bracketType !== 'round'}\n                >\n                  +\n                </button>\n              </div>\n\n              {/* èŠ±æ‹¬å· {} - 1.05å€æƒé‡ */}\n              <div className=\"flex items-center gap-1\">\n                <button\n                  onClick={() => onAdjustBrackets('curly', -1)}\n                  className={`w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${\n                    parsed.bracketType === 'curly' \n                      ? 'bg-yellow-500 hover:bg-yellow-600 text-white' \n                      : 'bg-gray-100 hover:bg-gray-200 text-gray-400'\n                  }`}\n                  disabled={parsed.bracketType !== 'none' && parsed.bracketType !== 'curly'}\n                >\n                  -\n                </button>\n                <div className={`px-3 py-1 rounded-lg text-sm font-mono border-2 ${\n                  parsed.bracketType === 'curly' \n                    ? 'bg-yellow-100 text-yellow-800 border-yellow-300' \n                    : 'bg-gray-100 text-gray-500 border-gray-300'\n                }`}>\n                  {`{}`} {parsed.bracketType === 'curly' ? parsed.brackets : 0}\n                </div>\n                <button\n                  onClick={() => onAdjustBrackets('curly', 1)}\n                  className={`w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${\n                    (parsed.bracketType === 'none' || parsed.bracketType === 'curly') && parsed.brackets < 5\n                      ? 'bg-yellow-500 hover:bg-yellow-600 text-white' \n                      : 'bg-gray-100 text-gray-400'\n                  }`}\n                  disabled={parsed.bracketType !== 'none' && parsed.bracketType !== 'curly'}\n                >\n                  +\n                </button>\n              </div>\n\n              {/* æ–¹æ‹¬å· [] - 0.9å€æƒé‡ */}\n              <div className=\"flex items-center gap-1\">\n                <button\n                  onClick={() => onAdjustBrackets('square', -1)}\n                  className={`w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${\n                    parsed.bracketType === 'square' \n                      ? 'bg-blue-500 hover:bg-blue-600 text-white' \n                      : 'bg-gray-100 hover:bg-gray-200 text-gray-400'\n                  }`}\n                  disabled={parsed.bracketType !== 'none' && parsed.bracketType !== 'square'}\n                >\n                  -\n                </button>\n                <div className={`px-3 py-1 rounded-lg text-sm font-mono border-2 ${\n                  parsed.bracketType === 'square' \n                    ? 'bg-blue-100 text-blue-800 border-blue-300' \n                    : 'bg-gray-100 text-gray-500 border-gray-300'\n                }`}>\n                  [] {parsed.bracketType === 'square' ? parsed.brackets : 0}\n                </div>\n                <button\n                  onClick={() => onAdjustBrackets('square', 1)}\n                  className={`w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${\n                    (parsed.bracketType === 'none' || parsed.bracketType === 'square') && parsed.brackets < 5\n                      ? 'bg-blue-500 hover:bg-blue-600 text-white' \n                      : 'bg-gray-100 text-gray-400'\n                  }`}\n                  disabled={parsed.bracketType !== 'none' && parsed.bracketType !== 'square'}\n                >\n                  +\n                </button>\n              </div>\n            </div>\n\n            {/* ç¬¬ä¸‰è¡Œï¼šåŠŸèƒ½æŒ‰é’® */}\n            <div className=\"flex items-center gap-2\">\n              <button\n                onClick={onCopy}\n                className=\"flex items-center gap-1 px-3 py-2 rounded-lg bg-green-100 hover:bg-green-200 text-green-700 text-sm transition-colors\"\n                title=\"å¤åˆ¶\"\n              >\n                <Copy size={14} />\n                å¤åˆ¶\n              </button>\n              <button\n                onClick={onFavorite}\n                className=\"flex items-center gap-1 px-3 py-2 rounded-lg bg-red-100 hover:bg-red-200 text-red-700 text-sm transition-colors\"\n                title=\"æ”¶è—\"\n              >\n                <Heart size={14} />\n                æ”¶è—\n              </button>\n              <button\n                onClick={onToggleDisabled}\n                className={`flex items-center gap-1 px-3 py-2 rounded-lg text-sm transition-colors ${\n                  isDisabled \n                    ? 'bg-blue-100 hover:bg-blue-200 text-blue-700' \n                    : 'bg-gray-100 hover:bg-gray-200 text-gray-700'\n                }`}\n                title={isDisabled ? \"å¯ç”¨\" : \"ç¦ç”¨\"}\n              >\n                {isDisabled ? <Eye size={14} /> : <EyeOff size={14} />}\n                {isDisabled ? \"å¯ç”¨\" : \"ç¦ç”¨\"}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n/**\n * æ ‡ç­¾å¡ç‰‡ç»„ä»¶\n */\nconst TagCard = ({ tag, onAdd, onToggleFavorite, isFavorited }) => (\n  <div className=\"group bg-gradient-to-r from-gray-50 to-white border border-gray-200 rounded-lg p-4 hover:shadow-md hover:border-blue-300 transition-all duration-200 cursor-pointer\">\n    <div onClick={onAdd} className=\"flex-1\">\n      <div className=\"flex items-start justify-between mb-2\">\n        <div className=\"flex-1\">\n          <h4 className=\"font-medium text-gray-900 text-sm mb-1 group-hover:text-blue-700 transition-colors\">\n            {tag.en}\n          </h4>\n          <p className=\"text-xs text-blue-600 mb-2\">\n            {tag.cn}\n          </p>\n        </div>\n        <button\n          onClick={(e) => {\n            e.stopPropagation();\n            onToggleFavorite();\n          }}\n          className={`p-1 rounded-full transition-colors ${\n            isFavorited \n              ? 'text-red-500 hover:bg-red-50' \n              : 'text-gray-400 hover:bg-gray-100 hover:text-red-500'\n          }`}\n        >\n          <Heart size={14} fill={isFavorited ? 'currentColor' : 'none'} />\n        </button>\n      </div>\n      \n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"flex items-center gap-1\">\n            <TrendingUp size={12} className=\"text-green-600\" />\n            <span className=\"text-xs text-green-600 font-medium\">{tag.frequency}%</span>\n          </div>\n          <div className=\"w-12 bg-gray-200 rounded-full h-1\">\n            <div \n              className=\"bg-green-500 h-1 rounded-full transition-all\" \n              style={{ width: `${tag.frequency}%` }}\n            />\n          </div>\n        </div>\n        \n        <button\n          onClick={onAdd}\n          className=\"opacity-0 group-hover:opacity-100 transition-opacity text-xs bg-blue-600 text-white px-2 py-1 rounded-full hover:bg-blue-700\"\n        >\n          <Plus size={10} className=\"inline mr-1\" />\n          æ·»åŠ \n        </button>\n      </div>\n    </div>\n  </div>\n);\n\nexport default PromptLibraryPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}