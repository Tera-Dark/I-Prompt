{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wjx19\\\\Documents\\\\GitHub\\\\I-Prompt\\\\src\\\\pages\\\\PromptLibraryPage.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Plus, Search, Copy, Heart, X, Languages, ChevronDown, ChevronRight, Tag as TagIcon, Sparkles, Bookmark, Clock, TrendingUp, Edit3, Minus, Trash2, Star, Weight, Zap, ChevronLeft, ChevronRight as ChevronRightIcon, EyeOff, Eye, Settings, TestTube, CheckCircle, XCircle } from 'lucide-react';\nimport { copyToClipboard } from '../utils/clipboard';\nimport { translateText, translateTag, getAvailableTranslators, testTranslator, batchTranslate } from '../services/translationService';\nimport { TAG_DATABASE, searchTags, getPopularTags } from '../constants/tagDatabase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PromptLibraryPage = () => {\n  _s();\n  var _TAG_DATABASE$selecte, _TAG_DATABASE$selecte2, _TAG_DATABASE$selecte3, _TAG_DATABASE$selecte4;\n  // 提示词编辑状态\n  const [prompt, setPrompt] = useState('');\n  const [promptHistory, setPromptHistory] = useState([]);\n\n  // 提示词编辑器状态\n  const [selectedTags, setSelectedTags] = useState([]);\n  const [disabledTags, setDisabledTags] = useState(new Set());\n  const [translatedTags, setTranslatedTags] = useState({});\n  const [hoveredTag, setHoveredTag] = useState(null);\n\n  // 翻译设置状态\n  const [availableTranslators, setAvailableTranslators] = useState({});\n  const [selectedTranslator, setSelectedTranslator] = useState('google');\n  const [showTranslatorSettings, setShowTranslatorSettings] = useState(false);\n  const [translatorStatus, setTranslatorStatus] = useState({});\n\n  // 标签库状态\n  const [selectedCategory, setSelectedCategory] = useState('favorites');\n  const [selectedSubcategory, setSelectedSubcategory] = useState(null);\n  const [expandedCategories, setExpandedCategories] = useState({\n    favorites: true\n  });\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n\n  // UI状态\n  const [favorites, setFavorites] = useState([]);\n  const [copyStatus, setCopyStatus] = useState('');\n  const textareaRef = useRef(null);\n\n  // 加载翻译引擎列表\n  useEffect(() => {\n    loadTranslators();\n  }, []);\n  const loadTranslators = async () => {\n    try {\n      const translators = await getAvailableTranslators();\n      setAvailableTranslators(translators);\n    } catch (error) {\n      console.error('加载翻译引擎失败:', error);\n    }\n  };\n\n  // 实时搜索建议\n  useEffect(() => {\n    if (searchQuery.trim()) {\n      const results = searchTags(searchQuery).slice(0, 20);\n      setSearchResults(results);\n    } else {\n      setSearchResults([]);\n    }\n  }, [searchQuery]);\n\n  // 同步提示词和选中标签\n  useEffect(() => {\n    const tagsFromPrompt = prompt.split(',').map(tag => tag.trim()).filter(tag => tag);\n    setSelectedTags(tagsFromPrompt);\n  }, [prompt]);\n\n  // 更新英文提示词（排除禁用的标签）\n  const updatePrompt = tags => {\n    const enabledTags = tags.filter((_, index) => !disabledTags.has(index));\n    const newPrompt = enabledTags.join(', ');\n    setPrompt(newPrompt);\n\n    // 添加到历史记录\n    if (newPrompt.trim() && !promptHistory.includes(newPrompt.trim())) {\n      setPromptHistory(prev => [newPrompt.trim(), ...prev.slice(0, 9)]);\n    }\n  };\n\n  // 处理提示词变化\n  const handlePromptChange = value => {\n    setPrompt(value);\n\n    // 添加到历史记录\n    if (value.trim() && !promptHistory.includes(value.trim())) {\n      setPromptHistory(prev => [value.trim(), ...prev.slice(0, 9)]);\n    }\n  };\n\n  // 添加标签到提示词\n  const addTagToPrompt = tag => {\n    const newTags = [...selectedTags, tag.en];\n    setSelectedTags(newTags);\n    updatePrompt(newTags);\n\n    // 聚焦到文本框末尾\n    if (textareaRef.current) {\n      textareaRef.current.focus();\n      textareaRef.current.setSelectionRange(prompt.length, prompt.length);\n    }\n  };\n\n  // 删除标签\n  const deleteTag = index => {\n    const newTags = selectedTags.filter((_, i) => i !== index);\n    const newDisabled = new Set([...disabledTags].map(i => i > index ? i - 1 : i).filter(i => i !== index));\n    setSelectedTags(newTags);\n    setDisabledTags(newDisabled);\n    updatePrompt(newTags);\n  };\n\n  // 切换禁用状态\n  const toggleDisabled = index => {\n    const newDisabled = new Set(disabledTags);\n    if (newDisabled.has(index)) {\n      newDisabled.delete(index);\n    } else {\n      newDisabled.add(index);\n    }\n    setDisabledTags(newDisabled);\n    updatePrompt(selectedTags);\n  };\n\n  // 解析标签，提取权重和括号信息\n  const parseTag = tag => {\n    // 检测权重 (tag:1.2)\n    const weightMatch = tag.match(/^(.+?):([0-9.]+)$/);\n    if (weightMatch) {\n      return {\n        text: weightMatch[1],\n        weight: parseFloat(weightMatch[2]),\n        bracketType: 'none',\n        brackets: 0\n      };\n    }\n\n    // 检测括号类型和层级\n    let brackets = 0;\n    let text = tag;\n    let bracketType = 'none';\n\n    // 检测圆括号 ()\n    if (text.startsWith('(') && text.endsWith(')')) {\n      bracketType = 'round';\n      while (text.startsWith('(') && text.endsWith(')')) {\n        brackets++;\n        text = text.slice(1, -1);\n      }\n    }\n    // 检测花括号 {}\n    else if (text.startsWith('{') && text.endsWith('}')) {\n      bracketType = 'curly';\n      while (text.startsWith('{') && text.endsWith('}')) {\n        brackets++;\n        text = text.slice(1, -1);\n      }\n    }\n    // 检测方括号 []\n    else if (text.startsWith('[') && text.endsWith(']')) {\n      bracketType = 'square';\n      while (text.startsWith('[') && text.endsWith(']')) {\n        brackets++;\n        text = text.slice(1, -1);\n      }\n    }\n    return {\n      text,\n      weight: 1.0,\n      bracketType,\n      brackets\n    };\n  };\n\n  // 构建标签字符串\n  const buildTag = (text, weight, bracketType, brackets) => {\n    let result = text;\n\n    // 添加权重\n    if (weight !== 1.0) {\n      result = `${text}:${weight.toFixed(1)}`;\n    }\n\n    // 添加括号\n    if (bracketType === 'round') {\n      for (let i = 0; i < brackets; i++) {\n        result = `(${result})`;\n      }\n    } else if (bracketType === 'curly') {\n      for (let i = 0; i < brackets; i++) {\n        result = `{${result}}`;\n      }\n    } else if (bracketType === 'square') {\n      for (let i = 0; i < brackets; i++) {\n        result = `[${result}]`;\n      }\n    }\n    return result;\n  };\n\n  // 调整权重\n  const adjustWeight = (index, delta) => {\n    const tag = selectedTags[index];\n    const parsed = parseTag(tag);\n    const newWeight = Math.max(0.1, Math.min(2.0, parsed.weight + delta));\n    const newTag = buildTag(parsed.text, newWeight, parsed.bracketType, parsed.brackets);\n    const newTags = [...selectedTags];\n    newTags[index] = newTag;\n    setSelectedTags(newTags);\n    updatePrompt(newTags);\n  };\n\n  // 调整括号\n  const adjustBrackets = (index, bracketType, delta) => {\n    const tag = selectedTags[index];\n    const parsed = parseTag(tag);\n\n    // 如果要增加括号且当前没有括号，或者类型相同，才允许调整\n    if (delta > 0 && parsed.bracketType !== 'none' && parsed.bracketType !== bracketType) {\n      return; // 不允许混用不同类型的括号\n    }\n    const newBrackets = Math.max(0, Math.min(5, parsed.brackets + delta));\n    const newBracketType = newBrackets === 0 ? 'none' : bracketType;\n    const newTag = buildTag(parsed.text, parsed.weight, newBracketType, newBrackets);\n    const newTags = [...selectedTags];\n    newTags[index] = newTag;\n    setSelectedTags(newTags);\n    updatePrompt(newTags);\n  };\n\n  // 测试翻译引擎\n  const handleTestTranslator = async translatorKey => {\n    setTranslatorStatus(prev => ({\n      ...prev,\n      [translatorKey]: 'testing'\n    }));\n    try {\n      const result = await testTranslator(translatorKey);\n      setTranslatorStatus(prev => ({\n        ...prev,\n        [translatorKey]: result.success ? 'available' : 'unavailable'\n      }));\n      if (result.success) {\n        setCopyStatus('test-success');\n      } else {\n        setCopyStatus('test-failed');\n      }\n    } catch (error) {\n      setTranslatorStatus(prev => ({\n        ...prev,\n        [translatorKey]: 'unavailable'\n      }));\n      setCopyStatus('test-failed');\n    }\n    setTimeout(() => setCopyStatus(''), 2000);\n  };\n\n  // 一键翻译所有未翻译的标签\n  const translateAllTags = async () => {\n    const untranslatedTags = selectedTags.filter(tag => {\n      const parsed = parseTag(tag);\n      return !translatedTags[parsed.text];\n    });\n    if (untranslatedTags.length === 0) {\n      setCopyStatus('no-untranslated');\n      setTimeout(() => setCopyStatus(''), 2000);\n      return;\n    }\n    setCopyStatus('translating');\n    try {\n      const texts = untranslatedTags.map(tag => parseTag(tag).text);\n      const results = await batchTranslate(texts, {\n        translator: selectedTranslator,\n        targetLang: 'zh',\n        sourceLang: 'auto'\n      });\n      const newTranslations = {};\n      results.forEach(result => {\n        if (result.success) {\n          newTranslations[result.original] = result.translated;\n        }\n      });\n      setTranslatedTags(prev => ({\n        ...prev,\n        ...newTranslations\n      }));\n      setCopyStatus('translate-success');\n    } catch (error) {\n      console.error('批量翻译失败:', error);\n      setCopyStatus('translate-error');\n    }\n    setTimeout(() => setCopyStatus(''), 2000);\n  };\n\n  // 翻译单个标签\n  const translateSingleTag = async tag => {\n    // 提取纯文本进行翻译\n    const parsed = parseTag(tag);\n    const pureText = parsed.text;\n    if (translatedTags[pureText]) {\n      return translatedTags[pureText];\n    }\n    try {\n      const translated = await translateTag(pureText, {\n        translator: selectedTranslator,\n        targetLang: 'zh',\n        sourceLang: 'auto'\n      });\n      setTranslatedTags(prev => ({\n        ...prev,\n        [pureText]: translated\n      }));\n      return translated;\n    } catch (error) {\n      console.error('翻译失败:', error);\n      return pureText;\n    }\n  };\n\n  // 复制标签\n  const copyTag = async tag => {\n    const success = await copyToClipboard(tag);\n    setCopyStatus(success ? 'copied' : 'error');\n    setTimeout(() => setCopyStatus(''), 2000);\n  };\n\n  // 收藏标签\n  const favoriteTag = tag => {\n    const parsed = parseTag(tag);\n    const tagObj = {\n      en: parsed.text,\n      cn: translatedTags[parsed.text] || parsed.text,\n      frequency: 80\n    };\n    toggleFavorite(tagObj);\n  };\n\n  // 复制功能\n  const handleCopy = async text => {\n    const success = await copyToClipboard(text || prompt);\n    setCopyStatus(success ? 'copied' : 'error');\n    setTimeout(() => setCopyStatus(''), 2000);\n  };\n\n  // 收藏功能\n  const toggleFavorite = tag => {\n    setFavorites(prev => {\n      const isAlreadyFavorited = prev.some(fav => fav.en === tag.en);\n      if (isAlreadyFavorited) {\n        return prev.filter(fav => fav.en !== tag.en);\n      } else {\n        return [...prev, tag];\n      }\n    });\n  };\n\n  // 分类展开/收起\n  const toggleCategory = categoryKey => {\n    setExpandedCategories(prev => ({\n      ...prev,\n      [categoryKey]: !prev[categoryKey]\n    }));\n  };\n\n  // 选择分类\n  const selectCategory = (categoryKey, subcategoryKey = null) => {\n    setSelectedCategory(categoryKey);\n    setSelectedSubcategory(subcategoryKey);\n  };\n\n  // 获取当前显示的标签\n  const getCurrentTags = () => {\n    if (searchQuery.trim()) {\n      return searchResults;\n    }\n    if (selectedCategory === 'favorites') {\n      if (selectedSubcategory === 'personal') {\n        return favorites;\n      } else {\n        // 显示热门标签\n        return getPopularTags(20);\n      }\n    }\n    const category = TAG_DATABASE[selectedCategory];\n    if (!category) return [];\n    if (selectedSubcategory) {\n      const subcategory = category.subcategories[selectedSubcategory];\n      return subcategory ? subcategory.tags : [];\n    }\n\n    // 返回该分类下所有标签\n    const allTags = [];\n    Object.values(category.subcategories).forEach(subcategory => {\n      allTags.push(...subcategory.tags);\n    });\n    return allTags;\n  };\n\n  // 动态更新TAG_DATABASE中的收藏标签\n  useEffect(() => {\n    if (TAG_DATABASE.favorites && TAG_DATABASE.favorites.subcategories.personal) {\n      TAG_DATABASE.favorites.subcategories.personal.tags = favorites;\n    }\n  }, [favorites]);\n  const currentTags = getCurrentTags();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white/80 backdrop-blur-sm border-b border-gray-200 px-6 py-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-900 mb-2 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n            className: \"text-blue-600 mr-3\",\n            size: 28\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this), \"\\u667A\\u80FD\\u63D0\\u793A\\u8BCD\\u5E93 3.0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"\\u4E13\\u4E1A\\u7684\\u63D0\\u793A\\u8BCD\\u7F16\\u8F91\\u548C\\u7BA1\\u7406\\u5DE5\\u5177 \\u2022 \\u652F\\u6301\\u591A\\u5F15\\u64CE\\u7FFB\\u8BD1 \\u2022 \\u667A\\u80FD\\u5206\\u7C7B \\u2022 \\u8BA9AI\\u7ED8\\u753B\\u521B\\u4F5C\\u66F4\\u9AD8\\u6548\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto p-6 space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-lg border border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold text-gray-900 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(TagIcon, {\n                className: \"text-blue-600 mr-2\",\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 17\n              }, this), \"\\u82F1\\u6587\\u63D0\\u793A\\u8BCD\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowTranslatorSettings(!showTranslatorSettings),\n                className: \"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(Settings, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 19\n                }, this), \"\\u7FFB\\u8BD1\\u8BBE\\u7F6E\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: translateAllTags,\n                className: \"flex items-center gap-2 px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(Languages, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 19\n                }, this), \"\\u4E00\\u952E\\u7FFB\\u8BD1\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleCopy(),\n                className: \"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(Copy, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 19\n                }, this), \"\\u590D\\u5236\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setPrompt('');\n                  setSelectedTags([]);\n                  setDisabledTags(new Set());\n                },\n                className: \"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(X, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            ref: textareaRef,\n            value: prompt,\n            onChange: e => handlePromptChange(e.target.value),\n            placeholder: \"\\u8F93\\u5165\\u6216\\u70B9\\u51FB\\u4E0B\\u65B9\\u6807\\u7B7E\\u6DFB\\u52A0\\u63D0\\u793A\\u8BCD...\",\n            className: \"w-full h-32 p-4 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all font-mono text-sm overflow-y-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between text-xs text-gray-500 mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u5B57\\u7B26\\u6570: \", prompt.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u6807\\u7B7E\\u6570: \", selectedTags.filter((_, i) => !disabledTags.has(i)).length, \"/\", selectedTags.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this), promptHistory.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 p-4 bg-gray-50 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(Clock, {\n                size: 16,\n                className: \"text-gray-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-gray-700\",\n                children: \"\\u6700\\u8FD1\\u4F7F\\u7528\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-2\",\n              children: promptHistory.slice(0, 5).map((historyPrompt, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setPrompt(historyPrompt),\n                className: \"px-3 py-1 text-xs bg-white border border-gray-200 rounded-full hover:bg-blue-50 hover:border-blue-300 transition-colors truncate max-w-xs\",\n                children: historyPrompt\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 9\n      }, this), showTranslatorSettings && /*#__PURE__*/_jsxDEV(TranslatorSettings, {\n        availableTranslators: availableTranslators,\n        selectedTranslator: selectedTranslator,\n        setSelectedTranslator: setSelectedTranslator,\n        translatorStatus: translatorStatus,\n        onTestTranslator: handleTestTranslator,\n        onClose: () => setShowTranslatorSettings(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-lg border border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold text-gray-900 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Edit3, {\n                className: \"text-blue-600 mr-2\",\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 17\n              }, this), \"\\u63D0\\u793A\\u8BCD\\u7F16\\u8F91\\u533A\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full ml-2\",\n                children: \"\\u60AC\\u505C\\u7F16\\u8F91 \\u2022 \\u6743\\u91CD\\u8C03\\u8282 \\u2022 \\u62EC\\u53F7\\u63A7\\u5236\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border border-gray-300 rounded-lg p-6 bg-blue-50/20 overflow-y-auto\",\n            style: {\n              minHeight: '200px',\n              maxHeight: '1200px',\n              height: 'auto'\n            },\n            children: selectedTags.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-center h-32 text-gray-500\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(TagIcon, {\n                  size: 32,\n                  className: \"mx-auto mb-2 opacity-50\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm\",\n                  children: \"\\u70B9\\u51FB\\u4E0B\\u65B9\\u6807\\u7B7E\\u5E93\\u6DFB\\u52A0\\u6807\\u7B7E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 548,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-4\",\n              children: selectedTags.map((tag, index) => /*#__PURE__*/_jsxDEV(TagPill, {\n                tag: tag,\n                index: index,\n                isDisabled: disabledTags.has(index),\n                onDelete: () => deleteTag(index),\n                onToggleDisabled: () => toggleDisabled(index),\n                onAdjustWeight: delta => adjustWeight(index, delta),\n                onAdjustBrackets: (bracketType, delta) => adjustBrackets(index, bracketType, delta),\n                onCopy: () => copyTag(tag),\n                onFavorite: () => favoriteTag(tag),\n                onTranslate: translateSingleTag,\n                translatedTags: translatedTags,\n                hoveredTag: hoveredTag,\n                setHoveredTag: setHoveredTag\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-4 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-xl shadow-lg border border-gray-200 p-4 sticky top-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(Search, {\n                  className: \"absolute left-3 top-3 text-gray-400\",\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: searchQuery,\n                  onChange: e => setSearchQuery(e.target.value),\n                  placeholder: \"\\u641C\\u7D22\\u6807\\u7B7E...\",\n                  className: \"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 585,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1\",\n              children: Object.entries(TAG_DATABASE).map(([categoryKey, category]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => toggleCategory(categoryKey),\n                  className: `w-full flex items-center justify-between p-3 rounded-lg transition-colors ${selectedCategory === categoryKey && !selectedSubcategory ? 'bg-blue-50 text-blue-700 border border-blue-200' : 'hover:bg-gray-50'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-lg\",\n                      children: category.icon\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 607,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: category.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 608,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 606,\n                    columnNumber: 23\n                  }, this), expandedCategories[categoryKey] ? /*#__PURE__*/_jsxDEV(ChevronDown, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 611,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(ChevronRight, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 613,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 598,\n                  columnNumber: 21\n                }, this), expandedCategories[categoryKey] && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ml-4 mt-1 space-y-1\",\n                  children: Object.entries(category.subcategories).map(([subcategoryKey, subcategory]) => /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => selectCategory(categoryKey, subcategoryKey),\n                    className: `w-full text-left p-2 rounded-lg text-sm transition-colors ${selectedCategory === categoryKey && selectedSubcategory === subcategoryKey ? 'bg-blue-50 text-blue-700' : 'hover:bg-gray-50 text-gray-600'}`,\n                    children: subcategory.name\n                  }, subcategoryKey, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 620,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 618,\n                  columnNumber: 23\n                }, this)]\n              }, categoryKey, true, {\n                fileName: _jsxFileName,\n                lineNumber: 597,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 595,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-xl shadow-lg border border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6 border-b border-gray-200\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-lg font-semibold text-gray-900\",\n                    children: searchQuery ? '搜索结果' : selectedSubcategory ? `${(_TAG_DATABASE$selecte = TAG_DATABASE[selectedCategory]) === null || _TAG_DATABASE$selecte === void 0 ? void 0 : _TAG_DATABASE$selecte.name} - ${(_TAG_DATABASE$selecte2 = TAG_DATABASE[selectedCategory]) === null || _TAG_DATABASE$selecte2 === void 0 ? void 0 : (_TAG_DATABASE$selecte3 = _TAG_DATABASE$selecte2.subcategories[selectedSubcategory]) === null || _TAG_DATABASE$selecte3 === void 0 ? void 0 : _TAG_DATABASE$selecte3.name}` : ((_TAG_DATABASE$selecte4 = TAG_DATABASE[selectedCategory]) === null || _TAG_DATABASE$selecte4 === void 0 ? void 0 : _TAG_DATABASE$selecte4.name) || '标签库'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 646,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 mt-1\",\n                    children: searchQuery ? `找到 ${currentTags.length} 个相关标签` : `共 ${currentTags.length} 个标签`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 652,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 645,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full\",\n                    children: \"\\u70B9\\u51FB\\u6807\\u7B7E\\u6DFB\\u52A0\\u5230\\u63D0\\u793A\\u8BCD\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 658,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 657,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 644,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 643,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6\",\n              children: currentTags.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center py-12\",\n                children: [/*#__PURE__*/_jsxDEV(TagIcon, {\n                  className: \"mx-auto text-gray-400 mb-4\",\n                  size: 48\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 668,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-500 mb-4\",\n                  children: searchQuery ? '未找到匹配的标签' : '该分类暂无标签'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 669,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 667,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-3\",\n                children: currentTags.map((tag, index) => /*#__PURE__*/_jsxDEV(TagCard, {\n                  tag: tag,\n                  onAdd: () => addTagToPrompt(tag),\n                  onToggleFavorite: () => toggleFavorite(tag),\n                  isFavorited: favorites.some(fav => fav.en === tag.en)\n                }, `${tag.en}-${index}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 676,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 674,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 665,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 642,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 641,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 7\n    }, this), copyStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed bottom-4 right-4 px-4 py-2 rounded-lg text-white text-sm transition-all duration-300 shadow-lg z-50 ${copyStatus === 'copied' ? 'bg-green-600' : copyStatus === 'translating' ? 'bg-blue-600' : copyStatus === 'translate-success' ? 'bg-green-600' : copyStatus === 'translate-error' ? 'bg-red-600' : copyStatus === 'no-untranslated' ? 'bg-yellow-600' : copyStatus === 'test-success' ? 'bg-green-600' : copyStatus === 'test-failed' ? 'bg-red-600' : 'bg-red-600'}`,\n      children: copyStatus === 'copied' ? '✅ 已复制到剪贴板' : copyStatus === 'translating' ? '🔄 正在翻译中...' : copyStatus === 'translate-success' ? '✅ 翻译完成' : copyStatus === 'translate-error' ? '❌ 翻译失败' : copyStatus === 'no-untranslated' ? '💡 所有标签已翻译' : copyStatus === 'test-success' ? '✅ 测试成功' : copyStatus === 'test-failed' ? '❌ 测试失败' : '❌ 操作失败'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 694,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 417,\n    columnNumber: 5\n  }, this);\n};\n\n/**\r\n * 翻译引擎设置组件\r\n */\n_s(PromptLibraryPage, \"gIRZ9IkCzmHurQCE7N1K+EejRkw=\");\n_c = PromptLibraryPage;\nconst TranslatorSettings = ({\n  availableTranslators,\n  selectedTranslator,\n  setSelectedTranslator,\n  translatorStatus,\n  onTestTranslator,\n  onClose\n}) => {\n  var _availableTranslators;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-xl shadow-lg border border-gray-200\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-900 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Settings, {\n            className: \"text-blue-600 mr-2\",\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 733,\n            columnNumber: 11\n          }, this), \"\\u7FFB\\u8BD1\\u5F15\\u64CE\\u8BBE\\u7F6E\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 732,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 740,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 736,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 731,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",\n        children: Object.entries(availableTranslators).map(([key, translator]) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `p-4 border-2 rounded-lg cursor-pointer transition-all ${selectedTranslator === key ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-gray-300'}`,\n          onClick: () => setSelectedTranslator(key),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-medium text-gray-900\",\n              children: translator.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 756,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [translatorStatus[key] === 'testing' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 759,\n                columnNumber: 19\n              }, this), translatorStatus[key] === 'available' && /*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"text-green-600\",\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 762,\n                columnNumber: 19\n              }, this), translatorStatus[key] === 'unavailable' && /*#__PURE__*/_jsxDEV(XCircle, {\n                className: \"text-red-600\",\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 765,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: e => {\n                  e.stopPropagation();\n                  onTestTranslator(key);\n                },\n                className: \"p-1 text-gray-500 hover:bg-gray-100 rounded transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(TestTube, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 774,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 767,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 757,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 755,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-600\",\n            children: translator.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 778,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `mt-2 text-xs px-2 py-1 rounded-full inline-block ${translator.status === 'stable' ? 'bg-green-100 text-green-700' : translator.status === 'premium' ? 'bg-purple-100 text-purple-700' : 'bg-gray-100 text-gray-700'}`,\n            children: translator.status === 'stable' ? '稳定' : translator.status === 'premium' ? '高级' : '未知'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 779,\n            columnNumber: 13\n          }, this)]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 746,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 744,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 p-4 bg-gray-50 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-medium text-gray-900 mb-2\",\n          children: \"\\u5F53\\u524D\\u8BBE\\u7F6E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 792,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: [\"\\u9009\\u4E2D\\u5F15\\u64CE: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: ((_availableTranslators = availableTranslators[selectedTranslator]) === null || _availableTranslators === void 0 ? void 0 : _availableTranslators.name) || '未选择'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 794,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 793,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600 mt-1\",\n          children: [\"\\u72B6\\u6001: \", translatorStatus[selectedTranslator] === 'available' ? '✅ 可用' : translatorStatus[selectedTranslator] === 'unavailable' ? '❌ 不可用' : translatorStatus[selectedTranslator] === 'testing' ? '🔄 测试中' : '❓ 未测试']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 796,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 791,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 730,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 729,\n    columnNumber: 3\n  }, this);\n};\n\n/**\r\n * 标签胶囊组件 - 重新设计\r\n */\n_c2 = TranslatorSettings;\nconst TagPill = ({\n  tag,\n  index,\n  isDisabled,\n  onDelete,\n  onToggleDisabled,\n  onAdjustWeight,\n  onAdjustBrackets,\n  onCopy,\n  onFavorite,\n  onTranslate,\n  translatedTags,\n  hoveredTag,\n  setHoveredTag\n}) => {\n  _s2();\n  const [translation, setTranslation] = useState('');\n  const [isTranslating, setIsTranslating] = useState(false);\n\n  // 解析标签\n  const parseTag = tag => {\n    // 检测权重 (tag:1.2)\n    const weightMatch = tag.match(/^(.+?):([0-9.]+)$/);\n    if (weightMatch) {\n      return {\n        text: weightMatch[1],\n        weight: parseFloat(weightMatch[2]),\n        bracketType: 'none',\n        brackets: 0\n      };\n    }\n\n    // 检测括号类型和层级\n    let brackets = 0;\n    let text = tag;\n    let bracketType = 'none';\n\n    // 检测圆括号 ()\n    if (text.startsWith('(') && text.endsWith(')')) {\n      bracketType = 'round';\n      while (text.startsWith('(') && text.endsWith(')')) {\n        brackets++;\n        text = text.slice(1, -1);\n      }\n    }\n    // 检测花括号 {}\n    else if (text.startsWith('{') && text.endsWith('}')) {\n      bracketType = 'curly';\n      while (text.startsWith('{') && text.endsWith('}')) {\n        brackets++;\n        text = text.slice(1, -1);\n      }\n    }\n    // 检测方括号 []\n    else if (text.startsWith('[') && text.endsWith(']')) {\n      bracketType = 'square';\n      while (text.startsWith('[') && text.endsWith(']')) {\n        brackets++;\n        text = text.slice(1, -1);\n      }\n    }\n    return {\n      text,\n      weight: 1.0,\n      bracketType,\n      brackets\n    };\n  };\n  const parsed = parseTag(tag);\n  const isHovered = hoveredTag === index;\n\n  // 加载翻译\n  useEffect(() => {\n    if (parsed.text && !translatedTags[parsed.text]) {\n      setIsTranslating(true);\n      onTranslate(tag).then(result => {\n        setTranslation(result);\n        setIsTranslating(false);\n      });\n    } else if (translatedTags[parsed.text]) {\n      setTranslation(translatedTags[parsed.text]);\n    }\n  }, [tag, translatedTags, onTranslate, parsed.text]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative group\",\n    onMouseEnter: () => setHoveredTag(index),\n    onMouseLeave: e => {\n      // 扩大判定范围：检查鼠标是否真的离开了整个区域\n      const rect = e.currentTarget.getBoundingClientRect();\n      const x = e.clientX;\n      const y = e.clientY;\n\n      // 扩大检测范围20像素\n      const margin = 20;\n      if (x < rect.left - margin || x > rect.right + margin || y < rect.top - margin || y > rect.bottom + 140) {\n        // 底部多留140px给编辑栏\n        setHoveredTag(null);\n      }\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `inline-flex flex-col gap-1 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 cursor-pointer min-w-0 ${isDisabled ? 'bg-gray-300 text-gray-500 opacity-50' : 'bg-blue-100 text-blue-800 hover:bg-blue-200'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: `break-all ${isDisabled ? 'line-through' : ''}`,\n          children: tag\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 917,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onDelete,\n          className: \"flex-shrink-0 w-4 h-4 rounded-full bg-blue-600 text-white flex items-center justify-center hover:bg-red-500 transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 10\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 922,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 918,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 916,\n        columnNumber: 9\n      }, this), translation && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-gray-600 px-1\",\n        children: isTranslating ? '翻译中...' : translation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 928,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 909,\n      columnNumber: 7\n    }, this), isHovered && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-full left-0 mt-3 bg-white border-2 border-gray-300 rounded-xl shadow-xl p-4 z-30 min-w-max\",\n      onMouseEnter: () => setHoveredTag(index),\n      onMouseLeave: () => setHoveredTag(null),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-700 min-w-12 font-medium\",\n            children: \"\\u6743\\u91CD:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 944,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onAdjustWeight(-0.1),\n            className: \"w-8 h-8 rounded-lg bg-gray-100 hover:bg-gray-200 flex items-center justify-center font-bold text-gray-600\",\n            children: \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 945,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm font-mono min-w-12 text-center bg-gray-50 px-3 py-1 rounded-lg border\",\n            children: parsed.weight.toFixed(1)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 951,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onAdjustWeight(0.1),\n            className: \"w-8 h-8 rounded-lg bg-gray-100 hover:bg-gray-200 flex items-center justify-center font-bold text-gray-600\",\n            children: \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 954,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 943,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-700 min-w-12 font-medium\",\n            children: \"\\u62EC\\u53F7:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 964,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onAdjustBrackets('round', -1),\n              className: `w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${parsed.bracketType === 'round' ? 'bg-orange-500 hover:bg-orange-600 text-white' : 'bg-gray-100 hover:bg-gray-200 text-gray-400'}`,\n              disabled: parsed.bracketType !== 'none' && parsed.bracketType !== 'round',\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 968,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `px-3 py-1 rounded-lg text-sm font-mono border-2 ${parsed.bracketType === 'round' ? 'bg-orange-100 text-orange-800 border-orange-300' : 'bg-gray-100 text-gray-500 border-gray-300'}`,\n              children: [\"() \", parsed.bracketType === 'round' ? parsed.brackets : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 979,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onAdjustBrackets('round', 1),\n              className: `w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${(parsed.bracketType === 'none' || parsed.bracketType === 'round') && parsed.brackets < 5 ? 'bg-orange-500 hover:bg-orange-600 text-white' : 'bg-gray-100 text-gray-400'}`,\n              disabled: parsed.bracketType !== 'none' && parsed.bracketType !== 'round',\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 986,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 967,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onAdjustBrackets('curly', -1),\n              className: `w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${parsed.bracketType === 'curly' ? 'bg-yellow-500 hover:bg-yellow-600 text-white' : 'bg-gray-100 hover:bg-gray-200 text-gray-400'}`,\n              disabled: parsed.bracketType !== 'none' && parsed.bracketType !== 'curly',\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1001,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `px-3 py-1 rounded-lg text-sm font-mono border-2 ${parsed.bracketType === 'curly' ? 'bg-yellow-100 text-yellow-800 border-yellow-300' : 'bg-gray-100 text-gray-500 border-gray-300'}`,\n              children: [`{}`, \" \", parsed.bracketType === 'curly' ? parsed.brackets : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1012,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onAdjustBrackets('curly', 1),\n              className: `w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${(parsed.bracketType === 'none' || parsed.bracketType === 'curly') && parsed.brackets < 5 ? 'bg-yellow-500 hover:bg-yellow-600 text-white' : 'bg-gray-100 text-gray-400'}`,\n              disabled: parsed.bracketType !== 'none' && parsed.bracketType !== 'curly',\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1019,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1000,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onAdjustBrackets('square', -1),\n              className: `w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${parsed.bracketType === 'square' ? 'bg-blue-500 hover:bg-blue-600 text-white' : 'bg-gray-100 hover:bg-gray-200 text-gray-400'}`,\n              disabled: parsed.bracketType !== 'none' && parsed.bracketType !== 'square',\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1034,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `px-3 py-1 rounded-lg text-sm font-mono border-2 ${parsed.bracketType === 'square' ? 'bg-blue-100 text-blue-800 border-blue-300' : 'bg-gray-100 text-gray-500 border-gray-300'}`,\n              children: [\"[] \", parsed.bracketType === 'square' ? parsed.brackets : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1045,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onAdjustBrackets('square', 1),\n              className: `w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${(parsed.bracketType === 'none' || parsed.bracketType === 'square') && parsed.brackets < 5 ? 'bg-blue-500 hover:bg-blue-600 text-white' : 'bg-gray-100 text-gray-400'}`,\n              disabled: parsed.bracketType !== 'none' && parsed.bracketType !== 'square',\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1052,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1033,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 963,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onCopy,\n            className: \"flex items-center gap-1 px-3 py-2 rounded-lg bg-green-100 hover:bg-green-200 text-green-700 text-sm transition-colors\",\n            title: \"\\u590D\\u5236\",\n            children: [/*#__PURE__*/_jsxDEV(Copy, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1073,\n              columnNumber: 17\n            }, this), \"\\u590D\\u5236\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1068,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onFavorite,\n            className: \"flex items-center gap-1 px-3 py-2 rounded-lg bg-red-100 hover:bg-red-200 text-red-700 text-sm transition-colors\",\n            title: \"\\u6536\\u85CF\",\n            children: [/*#__PURE__*/_jsxDEV(Heart, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1081,\n              columnNumber: 17\n            }, this), \"\\u6536\\u85CF\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1076,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onToggleDisabled,\n            className: `flex items-center gap-1 px-3 py-2 rounded-lg text-sm transition-colors ${isDisabled ? 'bg-blue-100 hover:bg-blue-200 text-blue-700' : 'bg-gray-100 hover:bg-gray-200 text-gray-700'}`,\n            title: isDisabled ? \"启用\" : \"禁用\",\n            children: [isDisabled ? /*#__PURE__*/_jsxDEV(Eye, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1093,\n              columnNumber: 31\n            }, this) : /*#__PURE__*/_jsxDEV(EyeOff, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1093,\n              columnNumber: 51\n            }, this), isDisabled ? \"启用\" : \"禁用\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1084,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1067,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 941,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 936,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 891,\n    columnNumber: 5\n  }, this);\n};\n\n/**\r\n * 标签卡片组件\r\n */\n_s2(TagPill, \"fgX1dRwEzZm8/VG2ryQUcBNj6bo=\");\n_c3 = TagPill;\nconst TagCard = ({\n  tag,\n  onAdd,\n  onToggleFavorite,\n  isFavorited\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"group bg-gradient-to-r from-gray-50 to-white border border-gray-200 rounded-lg p-4 hover:shadow-md hover:border-blue-300 transition-all duration-200 cursor-pointer\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: onAdd,\n    className: \"flex-1\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-start justify-between mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-medium text-gray-900 text-sm mb-1 group-hover:text-blue-700 transition-colors\",\n          children: tag.en\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-blue-600 mb-2\",\n          children: tag.cn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => {\n          e.stopPropagation();\n          onToggleFavorite();\n        },\n        className: `p-1 rounded-full transition-colors ${isFavorited ? 'text-red-500 hover:bg-red-50' : 'text-gray-400 hover:bg-gray-100 hover:text-red-500'}`,\n        children: /*#__PURE__*/_jsxDEV(Heart, {\n          size: 14,\n          fill: isFavorited ? 'currentColor' : 'none'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1130,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-1\",\n          children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n            size: 12,\n            className: \"text-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs text-green-600 font-medium\",\n            children: [tag.frequency, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1138,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-12 bg-gray-200 rounded-full h-1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-green-500 h-1 rounded-full transition-all\",\n            style: {\n              width: `${tag.frequency}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1141,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1140,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onAdd,\n        className: \"opacity-0 group-hover:opacity-100 transition-opacity text-xs bg-blue-600 text-white px-2 py-1 rounded-full hover:bg-blue-700\",\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          size: 10,\n          className: \"inline mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1152,\n          columnNumber: 11\n        }, this), \"\\u6DFB\\u52A0\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1148,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1134,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1109,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 1108,\n  columnNumber: 3\n}, this);\n_c4 = TagCard;\nexport default PromptLibraryPage;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"PromptLibraryPage\");\n$RefreshReg$(_c2, \"TranslatorSettings\");\n$RefreshReg$(_c3, \"TagPill\");\n$RefreshReg$(_c4, \"TagCard\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Plus","Search","Copy","Heart","X","Languages","ChevronDown","ChevronRight","Tag","TagIcon","Sparkles","Bookmark","Clock","TrendingUp","Edit3","Minus","Trash2","Star","Weight","Zap","ChevronLeft","ChevronRightIcon","EyeOff","Eye","Settings","TestTube","CheckCircle","XCircle","copyToClipboard","translateText","translateTag","getAvailableTranslators","testTranslator","batchTranslate","TAG_DATABASE","searchTags","getPopularTags","jsxDEV","_jsxDEV","PromptLibraryPage","_s","_TAG_DATABASE$selecte","_TAG_DATABASE$selecte2","_TAG_DATABASE$selecte3","_TAG_DATABASE$selecte4","prompt","setPrompt","promptHistory","setPromptHistory","selectedTags","setSelectedTags","disabledTags","setDisabledTags","Set","translatedTags","setTranslatedTags","hoveredTag","setHoveredTag","availableTranslators","setAvailableTranslators","selectedTranslator","setSelectedTranslator","showTranslatorSettings","setShowTranslatorSettings","translatorStatus","setTranslatorStatus","selectedCategory","setSelectedCategory","selectedSubcategory","setSelectedSubcategory","expandedCategories","setExpandedCategories","favorites","searchQuery","setSearchQuery","searchResults","setSearchResults","setFavorites","copyStatus","setCopyStatus","textareaRef","loadTranslators","translators","error","console","trim","results","slice","tagsFromPrompt","split","map","tag","filter","updatePrompt","tags","enabledTags","_","index","has","newPrompt","join","includes","prev","handlePromptChange","value","addTagToPrompt","newTags","en","current","focus","setSelectionRange","length","deleteTag","i","newDisabled","toggleDisabled","delete","add","parseTag","weightMatch","match","text","weight","parseFloat","bracketType","brackets","startsWith","endsWith","buildTag","result","toFixed","adjustWeight","delta","parsed","newWeight","Math","max","min","newTag","adjustBrackets","newBrackets","newBracketType","handleTestTranslator","translatorKey","success","setTimeout","translateAllTags","untranslatedTags","texts","translator","targetLang","sourceLang","newTranslations","forEach","original","translated","translateSingleTag","pureText","copyTag","favoriteTag","tagObj","cn","frequency","toggleFavorite","handleCopy","isAlreadyFavorited","some","fav","toggleCategory","categoryKey","selectCategory","subcategoryKey","getCurrentTags","category","subcategory","subcategories","allTags","Object","values","push","personal","currentTags","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","onChange","e","target","placeholder","historyPrompt","TranslatorSettings","onTestTranslator","onClose","style","minHeight","maxHeight","height","TagPill","isDisabled","onDelete","onToggleDisabled","onAdjustWeight","onAdjustBrackets","onCopy","onFavorite","onTranslate","type","entries","icon","name","TagCard","onAdd","onToggleFavorite","isFavorited","_c","_availableTranslators","key","stopPropagation","description","status","_c2","_s2","translation","setTranslation","isTranslating","setIsTranslating","isHovered","then","onMouseEnter","onMouseLeave","rect","currentTarget","getBoundingClientRect","x","clientX","y","clientY","margin","left","right","top","bottom","disabled","title","_c3","fill","width","_c4","$RefreshReg$"],"sources":["C:/Users/wjx19/Documents/GitHub/I-Prompt/src/pages/PromptLibraryPage.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { \r\n  Plus, Search, Copy, Heart, X, Languages, \r\n  ChevronDown, ChevronRight, Tag as TagIcon,\r\n  Sparkles, Bookmark, Clock, TrendingUp, Edit3,\r\n  Minus, Trash2, Star, Weight, Zap, ChevronLeft, ChevronRight as ChevronRightIcon,\r\n  EyeOff, Eye, Settings, TestTube, CheckCircle, XCircle\r\n} from 'lucide-react';\r\nimport { copyToClipboard } from '../utils/clipboard';\r\nimport { \r\n  translateText, \r\n  translateTag, \r\n  getAvailableTranslators, \r\n  testTranslator, \r\n  batchTranslate \r\n} from '../services/translationService';\r\nimport { TAG_DATABASE, searchTags, getPopularTags } from '../constants/tagDatabase';\r\n\r\nconst PromptLibraryPage = () => {\r\n  // 提示词编辑状态\r\n  const [prompt, setPrompt] = useState('');\r\n  const [promptHistory, setPromptHistory] = useState([]);\r\n  \r\n  // 提示词编辑器状态\r\n  const [selectedTags, setSelectedTags] = useState([]);\r\n  const [disabledTags, setDisabledTags] = useState(new Set());\r\n  const [translatedTags, setTranslatedTags] = useState({});\r\n  const [hoveredTag, setHoveredTag] = useState(null);\r\n  \r\n  // 翻译设置状态\r\n  const [availableTranslators, setAvailableTranslators] = useState({});\r\n  const [selectedTranslator, setSelectedTranslator] = useState('google');\r\n  const [showTranslatorSettings, setShowTranslatorSettings] = useState(false);\r\n  const [translatorStatus, setTranslatorStatus] = useState({});\r\n  \r\n  // 标签库状态\r\n  const [selectedCategory, setSelectedCategory] = useState('favorites');\r\n  const [selectedSubcategory, setSelectedSubcategory] = useState(null);\r\n  const [expandedCategories, setExpandedCategories] = useState({ favorites: true });\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  \r\n  // UI状态\r\n  const [favorites, setFavorites] = useState([]);\r\n  const [copyStatus, setCopyStatus] = useState('');\r\n  \r\n  const textareaRef = useRef(null);\r\n\r\n  // 加载翻译引擎列表\r\n  useEffect(() => {\r\n    loadTranslators();\r\n  }, []);\r\n\r\n  const loadTranslators = async () => {\r\n    try {\r\n      const translators = await getAvailableTranslators();\r\n      setAvailableTranslators(translators);\r\n    } catch (error) {\r\n      console.error('加载翻译引擎失败:', error);\r\n    }\r\n  };\r\n\r\n  // 实时搜索建议\r\n  useEffect(() => {\r\n    if (searchQuery.trim()) {\r\n      const results = searchTags(searchQuery).slice(0, 20);\r\n      setSearchResults(results);\r\n    } else {\r\n      setSearchResults([]);\r\n    }\r\n  }, [searchQuery]);\r\n\r\n  // 同步提示词和选中标签\r\n  useEffect(() => {\r\n    const tagsFromPrompt = prompt.split(',').map(tag => tag.trim()).filter(tag => tag);\r\n    setSelectedTags(tagsFromPrompt);\r\n  }, [prompt]);\r\n\r\n  // 更新英文提示词（排除禁用的标签）\r\n  const updatePrompt = (tags) => {\r\n    const enabledTags = tags.filter((_, index) => !disabledTags.has(index));\r\n    const newPrompt = enabledTags.join(', ');\r\n    setPrompt(newPrompt);\r\n    \r\n    // 添加到历史记录\r\n    if (newPrompt.trim() && !promptHistory.includes(newPrompt.trim())) {\r\n      setPromptHistory(prev => [newPrompt.trim(), ...prev.slice(0, 9)]);\r\n    }\r\n  };\r\n\r\n  // 处理提示词变化\r\n  const handlePromptChange = (value) => {\r\n    setPrompt(value);\r\n    \r\n    // 添加到历史记录\r\n    if (value.trim() && !promptHistory.includes(value.trim())) {\r\n      setPromptHistory(prev => [value.trim(), ...prev.slice(0, 9)]);\r\n    }\r\n  };\r\n\r\n  // 添加标签到提示词\r\n  const addTagToPrompt = (tag) => {\r\n    const newTags = [...selectedTags, tag.en];\r\n    setSelectedTags(newTags);\r\n    updatePrompt(newTags);\r\n    \r\n    // 聚焦到文本框末尾\r\n    if (textareaRef.current) {\r\n      textareaRef.current.focus();\r\n      textareaRef.current.setSelectionRange(prompt.length, prompt.length);\r\n    }\r\n  };\r\n\r\n  // 删除标签\r\n  const deleteTag = (index) => {\r\n    const newTags = selectedTags.filter((_, i) => i !== index);\r\n    const newDisabled = new Set([...disabledTags].map(i => i > index ? i - 1 : i).filter(i => i !== index));\r\n    setSelectedTags(newTags);\r\n    setDisabledTags(newDisabled);\r\n    updatePrompt(newTags);\r\n  };\r\n\r\n  // 切换禁用状态\r\n  const toggleDisabled = (index) => {\r\n    const newDisabled = new Set(disabledTags);\r\n    if (newDisabled.has(index)) {\r\n      newDisabled.delete(index);\r\n    } else {\r\n      newDisabled.add(index);\r\n    }\r\n    setDisabledTags(newDisabled);\r\n    updatePrompt(selectedTags);\r\n  };\r\n\r\n  // 解析标签，提取权重和括号信息\r\n  const parseTag = (tag) => {\r\n    // 检测权重 (tag:1.2)\r\n    const weightMatch = tag.match(/^(.+?):([0-9.]+)$/);\r\n    if (weightMatch) {\r\n      return {\r\n        text: weightMatch[1],\r\n        weight: parseFloat(weightMatch[2]),\r\n        bracketType: 'none',\r\n        brackets: 0\r\n      };\r\n    }\r\n    \r\n    // 检测括号类型和层级\r\n    let brackets = 0;\r\n    let text = tag;\r\n    let bracketType = 'none';\r\n    \r\n    // 检测圆括号 ()\r\n    if (text.startsWith('(') && text.endsWith(')')) {\r\n      bracketType = 'round';\r\n      while (text.startsWith('(') && text.endsWith(')')) {\r\n        brackets++;\r\n        text = text.slice(1, -1);\r\n      }\r\n    }\r\n    // 检测花括号 {}\r\n    else if (text.startsWith('{') && text.endsWith('}')) {\r\n      bracketType = 'curly';\r\n      while (text.startsWith('{') && text.endsWith('}')) {\r\n        brackets++;\r\n        text = text.slice(1, -1);\r\n      }\r\n    }\r\n    // 检测方括号 []\r\n    else if (text.startsWith('[') && text.endsWith(']')) {\r\n      bracketType = 'square';\r\n      while (text.startsWith('[') && text.endsWith(']')) {\r\n        brackets++;\r\n        text = text.slice(1, -1);\r\n      }\r\n    }\r\n    \r\n    return { text, weight: 1.0, bracketType, brackets };\r\n  };\r\n\r\n  // 构建标签字符串\r\n  const buildTag = (text, weight, bracketType, brackets) => {\r\n    let result = text;\r\n    \r\n    // 添加权重\r\n    if (weight !== 1.0) {\r\n      result = `${text}:${weight.toFixed(1)}`;\r\n    }\r\n    \r\n    // 添加括号\r\n    if (bracketType === 'round') {\r\n      for (let i = 0; i < brackets; i++) {\r\n        result = `(${result})`;\r\n      }\r\n    } else if (bracketType === 'curly') {\r\n      for (let i = 0; i < brackets; i++) {\r\n        result = `{${result}}`;\r\n      }\r\n    } else if (bracketType === 'square') {\r\n      for (let i = 0; i < brackets; i++) {\r\n        result = `[${result}]`;\r\n      }\r\n    }\r\n    \r\n    return result;\r\n  };\r\n\r\n  // 调整权重\r\n  const adjustWeight = (index, delta) => {\r\n    const tag = selectedTags[index];\r\n    const parsed = parseTag(tag);\r\n    const newWeight = Math.max(0.1, Math.min(2.0, parsed.weight + delta));\r\n    const newTag = buildTag(parsed.text, newWeight, parsed.bracketType, parsed.brackets);\r\n    \r\n    const newTags = [...selectedTags];\r\n    newTags[index] = newTag;\r\n    setSelectedTags(newTags);\r\n    updatePrompt(newTags);\r\n  };\r\n\r\n  // 调整括号\r\n  const adjustBrackets = (index, bracketType, delta) => {\r\n    const tag = selectedTags[index];\r\n    const parsed = parseTag(tag);\r\n    \r\n    // 如果要增加括号且当前没有括号，或者类型相同，才允许调整\r\n    if (delta > 0 && parsed.bracketType !== 'none' && parsed.bracketType !== bracketType) {\r\n      return; // 不允许混用不同类型的括号\r\n    }\r\n    \r\n    const newBrackets = Math.max(0, Math.min(5, parsed.brackets + delta));\r\n    const newBracketType = newBrackets === 0 ? 'none' : bracketType;\r\n    const newTag = buildTag(parsed.text, parsed.weight, newBracketType, newBrackets);\r\n    \r\n    const newTags = [...selectedTags];\r\n    newTags[index] = newTag;\r\n    setSelectedTags(newTags);\r\n    updatePrompt(newTags);\r\n  };\r\n\r\n  // 测试翻译引擎\r\n  const handleTestTranslator = async (translatorKey) => {\r\n    setTranslatorStatus(prev => ({ ...prev, [translatorKey]: 'testing' }));\r\n    \r\n    try {\r\n      const result = await testTranslator(translatorKey);\r\n      setTranslatorStatus(prev => ({ \r\n        ...prev, \r\n        [translatorKey]: result.success ? 'available' : 'unavailable'\r\n      }));\r\n      \r\n      if (result.success) {\r\n        setCopyStatus('test-success');\r\n      } else {\r\n        setCopyStatus('test-failed');\r\n      }\r\n    } catch (error) {\r\n      setTranslatorStatus(prev => ({ ...prev, [translatorKey]: 'unavailable' }));\r\n      setCopyStatus('test-failed');\r\n    }\r\n    \r\n    setTimeout(() => setCopyStatus(''), 2000);\r\n  };\r\n\r\n  // 一键翻译所有未翻译的标签\r\n  const translateAllTags = async () => {\r\n    const untranslatedTags = selectedTags.filter(tag => {\r\n      const parsed = parseTag(tag);\r\n      return !translatedTags[parsed.text];\r\n    });\r\n\r\n    if (untranslatedTags.length === 0) {\r\n      setCopyStatus('no-untranslated');\r\n      setTimeout(() => setCopyStatus(''), 2000);\r\n      return;\r\n    }\r\n\r\n    setCopyStatus('translating');\r\n    \r\n    try {\r\n      const texts = untranslatedTags.map(tag => parseTag(tag).text);\r\n      const results = await batchTranslate(texts, {\r\n        translator: selectedTranslator,\r\n        targetLang: 'zh',\r\n        sourceLang: 'auto'\r\n      });\r\n\r\n      const newTranslations = {};\r\n      results.forEach(result => {\r\n        if (result.success) {\r\n          newTranslations[result.original] = result.translated;\r\n        }\r\n      });\r\n\r\n      setTranslatedTags(prev => ({ ...prev, ...newTranslations }));\r\n      setCopyStatus('translate-success');\r\n    } catch (error) {\r\n      console.error('批量翻译失败:', error);\r\n      setCopyStatus('translate-error');\r\n    }\r\n    \r\n    setTimeout(() => setCopyStatus(''), 2000);\r\n  };\r\n\r\n  // 翻译单个标签\r\n  const translateSingleTag = async (tag) => {\r\n    // 提取纯文本进行翻译\r\n    const parsed = parseTag(tag);\r\n    const pureText = parsed.text;\r\n    \r\n    if (translatedTags[pureText]) {\r\n      return translatedTags[pureText];\r\n    }\r\n    \r\n    try {\r\n      const translated = await translateTag(pureText, {\r\n        translator: selectedTranslator,\r\n        targetLang: 'zh',\r\n        sourceLang: 'auto'\r\n      });\r\n      setTranslatedTags(prev => ({ ...prev, [pureText]: translated }));\r\n      return translated;\r\n    } catch (error) {\r\n      console.error('翻译失败:', error);\r\n      return pureText;\r\n    }\r\n  };\r\n\r\n  // 复制标签\r\n  const copyTag = async (tag) => {\r\n    const success = await copyToClipboard(tag);\r\n    setCopyStatus(success ? 'copied' : 'error');\r\n    setTimeout(() => setCopyStatus(''), 2000);\r\n  };\r\n\r\n  // 收藏标签\r\n  const favoriteTag = (tag) => {\r\n    const parsed = parseTag(tag);\r\n    const tagObj = { en: parsed.text, cn: translatedTags[parsed.text] || parsed.text, frequency: 80 };\r\n    toggleFavorite(tagObj);\r\n  };\r\n\r\n  // 复制功能\r\n  const handleCopy = async (text) => {\r\n    const success = await copyToClipboard(text || prompt);\r\n    setCopyStatus(success ? 'copied' : 'error');\r\n    setTimeout(() => setCopyStatus(''), 2000);\r\n  };\r\n\r\n  // 收藏功能\r\n  const toggleFavorite = (tag) => {\r\n    setFavorites(prev => {\r\n      const isAlreadyFavorited = prev.some(fav => fav.en === tag.en);\r\n      if (isAlreadyFavorited) {\r\n        return prev.filter(fav => fav.en !== tag.en);\r\n      } else {\r\n        return [...prev, tag];\r\n      }\r\n    });\r\n  };\r\n\r\n  // 分类展开/收起\r\n  const toggleCategory = (categoryKey) => {\r\n    setExpandedCategories(prev => ({\r\n      ...prev,\r\n      [categoryKey]: !prev[categoryKey]\r\n    }));\r\n  };\r\n\r\n  // 选择分类\r\n  const selectCategory = (categoryKey, subcategoryKey = null) => {\r\n    setSelectedCategory(categoryKey);\r\n    setSelectedSubcategory(subcategoryKey);\r\n  };\r\n\r\n  // 获取当前显示的标签\r\n  const getCurrentTags = () => {\r\n    if (searchQuery.trim()) {\r\n      return searchResults;\r\n    }\r\n    \r\n    if (selectedCategory === 'favorites') {\r\n      if (selectedSubcategory === 'personal') {\r\n        return favorites;\r\n      } else {\r\n        // 显示热门标签\r\n        return getPopularTags(20);\r\n      }\r\n    }\r\n    \r\n    const category = TAG_DATABASE[selectedCategory];\r\n    if (!category) return [];\r\n    \r\n    if (selectedSubcategory) {\r\n      const subcategory = category.subcategories[selectedSubcategory];\r\n      return subcategory ? subcategory.tags : [];\r\n    }\r\n    \r\n    // 返回该分类下所有标签\r\n    const allTags = [];\r\n    Object.values(category.subcategories).forEach(subcategory => {\r\n      allTags.push(...subcategory.tags);\r\n    });\r\n    return allTags;\r\n  };\r\n\r\n  // 动态更新TAG_DATABASE中的收藏标签\r\n  useEffect(() => {\r\n    if (TAG_DATABASE.favorites && TAG_DATABASE.favorites.subcategories.personal) {\r\n      TAG_DATABASE.favorites.subcategories.personal.tags = favorites;\r\n    }\r\n  }, [favorites]);\r\n\r\n  const currentTags = getCurrentTags();\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50\">\r\n      {/* 页面标题 */}\r\n      <div className=\"bg-white/80 backdrop-blur-sm border-b border-gray-200 px-6 py-4\">\r\n        <div className=\"max-w-7xl mx-auto\">\r\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-2 flex items-center\">\r\n            <Sparkles className=\"text-blue-600 mr-3\" size={28} />\r\n            智能提示词库 3.0\r\n          </h1>\r\n          <p className=\"text-gray-600\">\r\n            专业的提示词编辑和管理工具 • 支持多引擎翻译 • 智能分类 • 让AI绘画创作更高效\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto p-6 space-y-6\">\r\n        {/* 英文提示词输入区 */}\r\n        <div className=\"bg-white rounded-xl shadow-lg border border-gray-200\">\r\n          <div className=\"p-6\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\r\n                <TagIcon className=\"text-blue-600 mr-2\" size={20} />\r\n                英文提示词\r\n              </h2>\r\n              <div className=\"flex items-center gap-2\">\r\n                <button\r\n                  onClick={() => setShowTranslatorSettings(!showTranslatorSettings)}\r\n                  className=\"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm\"\r\n                >\r\n                  <Settings size={14} />\r\n                  翻译设置\r\n                </button>\r\n                <button\r\n                  onClick={translateAllTags}\r\n                  className=\"flex items-center gap-2 px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm\"\r\n                >\r\n                  <Languages size={14} />\r\n                  一键翻译\r\n                </button>\r\n                <button\r\n                  onClick={() => handleCopy()}\r\n                  className=\"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\r\n                >\r\n                  <Copy size={16} />\r\n                  复制\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    setPrompt('');\r\n                    setSelectedTags([]);\r\n                    setDisabledTags(new Set());\r\n                  }}\r\n                  className=\"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                >\r\n                  <X size={16} />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <textarea\r\n              ref={textareaRef}\r\n              value={prompt}\r\n              onChange={(e) => handlePromptChange(e.target.value)}\r\n              placeholder=\"输入或点击下方标签添加提示词...\"\r\n              className=\"w-full h-32 p-4 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all font-mono text-sm overflow-y-auto\"\r\n            />\r\n            \r\n            <div className=\"flex items-center justify-between text-xs text-gray-500 mt-2\">\r\n              <span>字符数: {prompt.length}</span>\r\n              <span>标签数: {selectedTags.filter((_, i) => !disabledTags.has(i)).length}/{selectedTags.length}</span>\r\n            </div>\r\n\r\n            {/* 快速历史记录 */}\r\n            {promptHistory.length > 0 && (\r\n              <div className=\"mt-4 p-4 bg-gray-50 rounded-lg\">\r\n                <div className=\"flex items-center gap-2 mb-2\">\r\n                  <Clock size={16} className=\"text-gray-600\" />\r\n                  <span className=\"text-sm font-medium text-gray-700\">最近使用</span>\r\n                </div>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {promptHistory.slice(0, 5).map((historyPrompt, index) => (\r\n                    <button\r\n                      key={index}\r\n                      onClick={() => setPrompt(historyPrompt)}\r\n                      className=\"px-3 py-1 text-xs bg-white border border-gray-200 rounded-full hover:bg-blue-50 hover:border-blue-300 transition-colors truncate max-w-xs\"\r\n                    >\r\n                      {historyPrompt}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* 翻译引擎设置面板 */}\r\n        {showTranslatorSettings && (\r\n          <TranslatorSettings\r\n            availableTranslators={availableTranslators}\r\n            selectedTranslator={selectedTranslator}\r\n            setSelectedTranslator={setSelectedTranslator}\r\n            translatorStatus={translatorStatus}\r\n            onTestTranslator={handleTestTranslator}\r\n            onClose={() => setShowTranslatorSettings(false)}\r\n          />\r\n        )}\r\n\r\n        {/* 提示词编辑区 - 单独一行，自适应高度 */}\r\n        <div className=\"bg-white rounded-xl shadow-lg border border-gray-200\">\r\n          <div className=\"p-6\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\r\n                <Edit3 className=\"text-blue-600 mr-2\" size={20} />\r\n                提示词编辑区\r\n                <span className=\"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full ml-2\">\r\n                  悬停编辑 • 权重调节 • 括号控制\r\n                </span>\r\n              </h2>\r\n            </div>\r\n            \r\n            <div \r\n              className=\"border border-gray-300 rounded-lg p-6 bg-blue-50/20 overflow-y-auto\"\r\n              style={{\r\n                minHeight: '200px',\r\n                maxHeight: '1200px',\r\n                height: 'auto'\r\n              }}\r\n            >\r\n              {selectedTags.length === 0 ? (\r\n                <div className=\"flex items-center justify-center h-32 text-gray-500\">\r\n                  <div className=\"text-center\">\r\n                    <TagIcon size={32} className=\"mx-auto mb-2 opacity-50\" />\r\n                    <p className=\"text-sm\">点击下方标签库添加标签</p>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"flex flex-wrap gap-4\">\r\n                  {selectedTags.map((tag, index) => (\r\n                    <TagPill\r\n                      key={index}\r\n                      tag={tag}\r\n                      index={index}\r\n                      isDisabled={disabledTags.has(index)}\r\n                      onDelete={() => deleteTag(index)}\r\n                      onToggleDisabled={() => toggleDisabled(index)}\r\n                      onAdjustWeight={(delta) => adjustWeight(index, delta)}\r\n                      onAdjustBrackets={(bracketType, delta) => adjustBrackets(index, bracketType, delta)}\r\n                      onCopy={() => copyTag(tag)}\r\n                      onFavorite={() => favoriteTag(tag)}\r\n                      onTranslate={translateSingleTag}\r\n                      translatedTags={translatedTags}\r\n                      hoveredTag={hoveredTag}\r\n                      setHoveredTag={setHoveredTag}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* 主要内容区域 */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\r\n          {/* 左侧分类导航 */}\r\n          <div className=\"lg:col-span-1\">\r\n            <div className=\"bg-white rounded-xl shadow-lg border border-gray-200 p-4 sticky top-6\">\r\n              <div className=\"mb-4\">\r\n                <div className=\"relative\">\r\n                  <Search className=\"absolute left-3 top-3 text-gray-400\" size={16} />\r\n                  <input\r\n                    type=\"text\"\r\n                    value={searchQuery}\r\n                    onChange={(e) => setSearchQuery(e.target.value)}\r\n                    placeholder=\"搜索标签...\"\r\n                    className=\"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-1\">\r\n                {Object.entries(TAG_DATABASE).map(([categoryKey, category]) => (\r\n                  <div key={categoryKey}>\r\n                    <button\r\n                      onClick={() => toggleCategory(categoryKey)}\r\n                      className={`w-full flex items-center justify-between p-3 rounded-lg transition-colors ${\r\n                        selectedCategory === categoryKey && !selectedSubcategory\r\n                          ? 'bg-blue-50 text-blue-700 border border-blue-200'\r\n                          : 'hover:bg-gray-50'\r\n                      }`}\r\n                    >\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <span className=\"text-lg\">{category.icon}</span>\r\n                        <span className=\"font-medium\">{category.name}</span>\r\n                      </div>\r\n                      {expandedCategories[categoryKey] ? (\r\n                        <ChevronDown size={16} />\r\n                      ) : (\r\n                        <ChevronRight size={16} />\r\n                      )}\r\n                    </button>\r\n\r\n                    {expandedCategories[categoryKey] && (\r\n                      <div className=\"ml-4 mt-1 space-y-1\">\r\n                        {Object.entries(category.subcategories).map(([subcategoryKey, subcategory]) => (\r\n                          <button\r\n                            key={subcategoryKey}\r\n                            onClick={() => selectCategory(categoryKey, subcategoryKey)}\r\n                            className={`w-full text-left p-2 rounded-lg text-sm transition-colors ${\r\n                              selectedCategory === categoryKey && selectedSubcategory === subcategoryKey\r\n                                ? 'bg-blue-50 text-blue-700'\r\n                                : 'hover:bg-gray-50 text-gray-600'\r\n                            }`}\r\n                          >\r\n                            {subcategory.name}\r\n                          </button>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* 右侧标签展示区 */}\r\n          <div className=\"lg:col-span-3\">\r\n            <div className=\"bg-white rounded-xl shadow-lg border border-gray-200\">\r\n              <div className=\"p-6 border-b border-gray-200\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                      {searchQuery ? '搜索结果' : \r\n                       selectedSubcategory ? \r\n                       `${TAG_DATABASE[selectedCategory]?.name} - ${TAG_DATABASE[selectedCategory]?.subcategories[selectedSubcategory]?.name}` :\r\n                       TAG_DATABASE[selectedCategory]?.name || '标签库'}\r\n                    </h3>\r\n                    <p className=\"text-sm text-gray-600 mt-1\">\r\n                      {searchQuery ? `找到 ${currentTags.length} 个相关标签` : \r\n                       `共 ${currentTags.length} 个标签`}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <span className=\"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full\">\r\n                      点击标签添加到提示词\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"p-6\">\r\n                {currentTags.length === 0 ? (\r\n                  <div className=\"text-center py-12\">\r\n                    <TagIcon className=\"mx-auto text-gray-400 mb-4\" size={48} />\r\n                    <p className=\"text-gray-500 mb-4\">\r\n                      {searchQuery ? '未找到匹配的标签' : '该分类暂无标签'}\r\n                    </p>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-3\">\r\n                    {currentTags.map((tag, index) => (\r\n                      <TagCard\r\n                        key={`${tag.en}-${index}`}\r\n                        tag={tag}\r\n                        onAdd={() => addTagToPrompt(tag)}\r\n                        onToggleFavorite={() => toggleFavorite(tag)}\r\n                        isFavorited={favorites.some(fav => fav.en === tag.en)}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 复制状态提示 */}\r\n      {copyStatus && (\r\n        <div className={`fixed bottom-4 right-4 px-4 py-2 rounded-lg text-white text-sm transition-all duration-300 shadow-lg z-50 ${\r\n          copyStatus === 'copied' ? 'bg-green-600' : \r\n          copyStatus === 'translating' ? 'bg-blue-600' :\r\n          copyStatus === 'translate-success' ? 'bg-green-600' :\r\n          copyStatus === 'translate-error' ? 'bg-red-600' :\r\n          copyStatus === 'no-untranslated' ? 'bg-yellow-600' :\r\n          copyStatus === 'test-success' ? 'bg-green-600' :\r\n          copyStatus === 'test-failed' ? 'bg-red-600' :\r\n          'bg-red-600'\r\n        }`}>\r\n          {copyStatus === 'copied' ? '✅ 已复制到剪贴板' : \r\n           copyStatus === 'translating' ? '🔄 正在翻译中...' :\r\n           copyStatus === 'translate-success' ? '✅ 翻译完成' :\r\n           copyStatus === 'translate-error' ? '❌ 翻译失败' :\r\n           copyStatus === 'no-untranslated' ? '💡 所有标签已翻译' :\r\n           copyStatus === 'test-success' ? '✅ 测试成功' :\r\n           copyStatus === 'test-failed' ? '❌ 测试失败' :\r\n           '❌ 操作失败'}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * 翻译引擎设置组件\r\n */\r\nconst TranslatorSettings = ({ \r\n  availableTranslators, \r\n  selectedTranslator, \r\n  setSelectedTranslator, \r\n  translatorStatus, \r\n  onTestTranslator, \r\n  onClose \r\n}) => (\r\n  <div className=\"bg-white rounded-xl shadow-lg border border-gray-200\">\r\n    <div className=\"p-6\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\r\n          <Settings className=\"text-blue-600 mr-2\" size={20} />\r\n          翻译引擎设置\r\n        </h3>\r\n        <button\r\n          onClick={onClose}\r\n          className=\"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors\"\r\n        >\r\n          <X size={16} />\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n        {Object.entries(availableTranslators).map(([key, translator]) => (\r\n          <div \r\n            key={key}\r\n            className={`p-4 border-2 rounded-lg cursor-pointer transition-all ${\r\n              selectedTranslator === key \r\n                ? 'border-blue-500 bg-blue-50' \r\n                : 'border-gray-200 hover:border-gray-300'\r\n            }`}\r\n            onClick={() => setSelectedTranslator(key)}\r\n          >\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <h4 className=\"font-medium text-gray-900\">{translator.name}</h4>\r\n              <div className=\"flex items-center gap-2\">\r\n                {translatorStatus[key] === 'testing' && (\r\n                  <div className=\"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin\" />\r\n                )}\r\n                {translatorStatus[key] === 'available' && (\r\n                  <CheckCircle className=\"text-green-600\" size={16} />\r\n                )}\r\n                {translatorStatus[key] === 'unavailable' && (\r\n                  <XCircle className=\"text-red-600\" size={16} />\r\n                )}\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    onTestTranslator(key);\r\n                  }}\r\n                  className=\"p-1 text-gray-500 hover:bg-gray-100 rounded transition-colors\"\r\n                >\r\n                  <TestTube size={14} />\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <p className=\"text-xs text-gray-600\">{translator.description}</p>\r\n            <div className={`mt-2 text-xs px-2 py-1 rounded-full inline-block ${\r\n              translator.status === 'stable' ? 'bg-green-100 text-green-700' :\r\n              translator.status === 'premium' ? 'bg-purple-100 text-purple-700' :\r\n              'bg-gray-100 text-gray-700'\r\n            }`}>\r\n              {translator.status === 'stable' ? '稳定' :\r\n               translator.status === 'premium' ? '高级' : '未知'}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"mt-4 p-4 bg-gray-50 rounded-lg\">\r\n        <h4 className=\"font-medium text-gray-900 mb-2\">当前设置</h4>\r\n        <p className=\"text-sm text-gray-600\">\r\n          选中引擎: <span className=\"font-medium\">{availableTranslators[selectedTranslator]?.name || '未选择'}</span>\r\n        </p>\r\n        <p className=\"text-sm text-gray-600 mt-1\">\r\n          状态: {translatorStatus[selectedTranslator] === 'available' ? '✅ 可用' :\r\n                 translatorStatus[selectedTranslator] === 'unavailable' ? '❌ 不可用' :\r\n                 translatorStatus[selectedTranslator] === 'testing' ? '🔄 测试中' :\r\n                 '❓ 未测试'}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n/**\r\n * 标签胶囊组件 - 重新设计\r\n */\r\nconst TagPill = ({ \r\n  tag, \r\n  index,\r\n  isDisabled,\r\n  onDelete, \r\n  onToggleDisabled,\r\n  onAdjustWeight,\r\n  onAdjustBrackets,\r\n  onCopy,\r\n  onFavorite,\r\n  onTranslate,\r\n  translatedTags,\r\n  hoveredTag,\r\n  setHoveredTag\r\n}) => {\r\n  const [translation, setTranslation] = useState('');\r\n  const [isTranslating, setIsTranslating] = useState(false);\r\n\r\n  // 解析标签\r\n  const parseTag = (tag) => {\r\n    // 检测权重 (tag:1.2)\r\n    const weightMatch = tag.match(/^(.+?):([0-9.]+)$/);\r\n    if (weightMatch) {\r\n      return {\r\n        text: weightMatch[1],\r\n        weight: parseFloat(weightMatch[2]),\r\n        bracketType: 'none',\r\n        brackets: 0\r\n      };\r\n    }\r\n    \r\n    // 检测括号类型和层级\r\n    let brackets = 0;\r\n    let text = tag;\r\n    let bracketType = 'none';\r\n    \r\n    // 检测圆括号 ()\r\n    if (text.startsWith('(') && text.endsWith(')')) {\r\n      bracketType = 'round';\r\n      while (text.startsWith('(') && text.endsWith(')')) {\r\n        brackets++;\r\n        text = text.slice(1, -1);\r\n      }\r\n    }\r\n    // 检测花括号 {}\r\n    else if (text.startsWith('{') && text.endsWith('}')) {\r\n      bracketType = 'curly';\r\n      while (text.startsWith('{') && text.endsWith('}')) {\r\n        brackets++;\r\n        text = text.slice(1, -1);\r\n      }\r\n    }\r\n    // 检测方括号 []\r\n    else if (text.startsWith('[') && text.endsWith(']')) {\r\n      bracketType = 'square';\r\n      while (text.startsWith('[') && text.endsWith(']')) {\r\n        brackets++;\r\n        text = text.slice(1, -1);\r\n      }\r\n    }\r\n    \r\n    return { text, weight: 1.0, bracketType, brackets };\r\n  };\r\n\r\n  const parsed = parseTag(tag);\r\n  const isHovered = hoveredTag === index;\r\n\r\n  // 加载翻译\r\n  useEffect(() => {\r\n    if (parsed.text && !translatedTags[parsed.text]) {\r\n      setIsTranslating(true);\r\n      onTranslate(tag).then(result => {\r\n        setTranslation(result);\r\n        setIsTranslating(false);\r\n      });\r\n    } else if (translatedTags[parsed.text]) {\r\n      setTranslation(translatedTags[parsed.text]);\r\n    }\r\n  }, [tag, translatedTags, onTranslate, parsed.text]);\r\n\r\n  return (\r\n    <div \r\n      className=\"relative group\"\r\n      onMouseEnter={() => setHoveredTag(index)}\r\n      onMouseLeave={(e) => {\r\n        // 扩大判定范围：检查鼠标是否真的离开了整个区域\r\n        const rect = e.currentTarget.getBoundingClientRect();\r\n        const x = e.clientX;\r\n        const y = e.clientY;\r\n        \r\n        // 扩大检测范围20像素\r\n        const margin = 20;\r\n        if (x < rect.left - margin || x > rect.right + margin || \r\n            y < rect.top - margin || y > rect.bottom + 140) { // 底部多留140px给编辑栏\r\n          setHoveredTag(null);\r\n        }\r\n      }}\r\n    >\r\n      {/* 主标签胶囊 */}\r\n      <div\r\n        className={`inline-flex flex-col gap-1 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 cursor-pointer min-w-0 ${\r\n          isDisabled \r\n            ? 'bg-gray-300 text-gray-500 opacity-50' \r\n            : 'bg-blue-100 text-blue-800 hover:bg-blue-200'\r\n        }`}\r\n      >\r\n        <div className=\"flex items-center gap-2\">\r\n          <span className={`break-all ${isDisabled ? 'line-through' : ''}`}>{tag}</span>\r\n          <button\r\n            onClick={onDelete}\r\n            className=\"flex-shrink-0 w-4 h-4 rounded-full bg-blue-600 text-white flex items-center justify-center hover:bg-red-500 transition-colors\"\r\n          >\r\n            <X size={10} />\r\n          </button>\r\n        </div>\r\n        \r\n        {/* 中文翻译 */}\r\n        {translation && (\r\n          <div className=\"text-xs text-gray-600 px-1\">\r\n            {isTranslating ? '翻译中...' : translation}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* 悬停编辑栏 */}\r\n      {isHovered && (\r\n        <div \r\n          className=\"absolute top-full left-0 mt-3 bg-white border-2 border-gray-300 rounded-xl shadow-xl p-4 z-30 min-w-max\"\r\n          onMouseEnter={() => setHoveredTag(index)}\r\n          onMouseLeave={() => setHoveredTag(null)}\r\n        >\r\n          <div className=\"flex flex-col gap-4\">\r\n            {/* 第一行：权重调整 */}\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-sm text-gray-700 min-w-12 font-medium\">权重:</span>\r\n              <button\r\n                onClick={() => onAdjustWeight(-0.1)}\r\n                className=\"w-8 h-8 rounded-lg bg-gray-100 hover:bg-gray-200 flex items-center justify-center font-bold text-gray-600\"\r\n              >\r\n                -\r\n              </button>\r\n              <div className=\"text-sm font-mono min-w-12 text-center bg-gray-50 px-3 py-1 rounded-lg border\">\r\n                {parsed.weight.toFixed(1)}\r\n              </div>\r\n              <button\r\n                onClick={() => onAdjustWeight(0.1)}\r\n                className=\"w-8 h-8 rounded-lg bg-gray-100 hover:bg-gray-200 flex items-center justify-center font-bold text-gray-600\"\r\n              >\r\n                +\r\n              </button>\r\n            </div>\r\n\r\n            {/* 第二行：括号类型控制 */}\r\n            <div className=\"flex items-center gap-3\">\r\n              <span className=\"text-sm text-gray-700 min-w-12 font-medium\">括号:</span>\r\n              \r\n              {/* 圆括号 () - 1.1倍权重 */}\r\n              <div className=\"flex items-center gap-1\">\r\n                <button\r\n                  onClick={() => onAdjustBrackets('round', -1)}\r\n                  className={`w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${\r\n                    parsed.bracketType === 'round' \r\n                      ? 'bg-orange-500 hover:bg-orange-600 text-white' \r\n                      : 'bg-gray-100 hover:bg-gray-200 text-gray-400'\r\n                  }`}\r\n                  disabled={parsed.bracketType !== 'none' && parsed.bracketType !== 'round'}\r\n                >\r\n                  -\r\n                </button>\r\n                <div className={`px-3 py-1 rounded-lg text-sm font-mono border-2 ${\r\n                  parsed.bracketType === 'round' \r\n                    ? 'bg-orange-100 text-orange-800 border-orange-300' \r\n                    : 'bg-gray-100 text-gray-500 border-gray-300'\r\n                }`}>\r\n                  () {parsed.bracketType === 'round' ? parsed.brackets : 0}\r\n                </div>\r\n                <button\r\n                  onClick={() => onAdjustBrackets('round', 1)}\r\n                  className={`w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${\r\n                    (parsed.bracketType === 'none' || parsed.bracketType === 'round') && parsed.brackets < 5\r\n                      ? 'bg-orange-500 hover:bg-orange-600 text-white' \r\n                      : 'bg-gray-100 text-gray-400'\r\n                  }`}\r\n                  disabled={parsed.bracketType !== 'none' && parsed.bracketType !== 'round'}\r\n                >\r\n                  +\r\n                </button>\r\n              </div>\r\n\r\n              {/* 花括号 {} - 1.05倍权重 */}\r\n              <div className=\"flex items-center gap-1\">\r\n                <button\r\n                  onClick={() => onAdjustBrackets('curly', -1)}\r\n                  className={`w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${\r\n                    parsed.bracketType === 'curly' \r\n                      ? 'bg-yellow-500 hover:bg-yellow-600 text-white' \r\n                      : 'bg-gray-100 hover:bg-gray-200 text-gray-400'\r\n                  }`}\r\n                  disabled={parsed.bracketType !== 'none' && parsed.bracketType !== 'curly'}\r\n                >\r\n                  -\r\n                </button>\r\n                <div className={`px-3 py-1 rounded-lg text-sm font-mono border-2 ${\r\n                  parsed.bracketType === 'curly' \r\n                    ? 'bg-yellow-100 text-yellow-800 border-yellow-300' \r\n                    : 'bg-gray-100 text-gray-500 border-gray-300'\r\n                }`}>\r\n                  {`{}`} {parsed.bracketType === 'curly' ? parsed.brackets : 0}\r\n                </div>\r\n                <button\r\n                  onClick={() => onAdjustBrackets('curly', 1)}\r\n                  className={`w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${\r\n                    (parsed.bracketType === 'none' || parsed.bracketType === 'curly') && parsed.brackets < 5\r\n                      ? 'bg-yellow-500 hover:bg-yellow-600 text-white' \r\n                      : 'bg-gray-100 text-gray-400'\r\n                  }`}\r\n                  disabled={parsed.bracketType !== 'none' && parsed.bracketType !== 'curly'}\r\n                >\r\n                  +\r\n                </button>\r\n              </div>\r\n\r\n              {/* 方括号 [] - 0.9倍权重 */}\r\n              <div className=\"flex items-center gap-1\">\r\n                <button\r\n                  onClick={() => onAdjustBrackets('square', -1)}\r\n                  className={`w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${\r\n                    parsed.bracketType === 'square' \r\n                      ? 'bg-blue-500 hover:bg-blue-600 text-white' \r\n                      : 'bg-gray-100 hover:bg-gray-200 text-gray-400'\r\n                  }`}\r\n                  disabled={parsed.bracketType !== 'none' && parsed.bracketType !== 'square'}\r\n                >\r\n                  -\r\n                </button>\r\n                <div className={`px-3 py-1 rounded-lg text-sm font-mono border-2 ${\r\n                  parsed.bracketType === 'square' \r\n                    ? 'bg-blue-100 text-blue-800 border-blue-300' \r\n                    : 'bg-gray-100 text-gray-500 border-gray-300'\r\n                }`}>\r\n                  [] {parsed.bracketType === 'square' ? parsed.brackets : 0}\r\n                </div>\r\n                <button\r\n                  onClick={() => onAdjustBrackets('square', 1)}\r\n                  className={`w-7 h-7 rounded-lg text-xs flex items-center justify-center font-bold ${\r\n                    (parsed.bracketType === 'none' || parsed.bracketType === 'square') && parsed.brackets < 5\r\n                      ? 'bg-blue-500 hover:bg-blue-600 text-white' \r\n                      : 'bg-gray-100 text-gray-400'\r\n                  }`}\r\n                  disabled={parsed.bracketType !== 'none' && parsed.bracketType !== 'square'}\r\n                >\r\n                  +\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* 第三行：功能按钮 */}\r\n            <div className=\"flex items-center gap-2\">\r\n              <button\r\n                onClick={onCopy}\r\n                className=\"flex items-center gap-1 px-3 py-2 rounded-lg bg-green-100 hover:bg-green-200 text-green-700 text-sm transition-colors\"\r\n                title=\"复制\"\r\n              >\r\n                <Copy size={14} />\r\n                复制\r\n              </button>\r\n              <button\r\n                onClick={onFavorite}\r\n                className=\"flex items-center gap-1 px-3 py-2 rounded-lg bg-red-100 hover:bg-red-200 text-red-700 text-sm transition-colors\"\r\n                title=\"收藏\"\r\n              >\r\n                <Heart size={14} />\r\n                收藏\r\n              </button>\r\n              <button\r\n                onClick={onToggleDisabled}\r\n                className={`flex items-center gap-1 px-3 py-2 rounded-lg text-sm transition-colors ${\r\n                  isDisabled \r\n                    ? 'bg-blue-100 hover:bg-blue-200 text-blue-700' \r\n                    : 'bg-gray-100 hover:bg-gray-200 text-gray-700'\r\n                }`}\r\n                title={isDisabled ? \"启用\" : \"禁用\"}\r\n              >\r\n                {isDisabled ? <Eye size={14} /> : <EyeOff size={14} />}\r\n                {isDisabled ? \"启用\" : \"禁用\"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * 标签卡片组件\r\n */\r\nconst TagCard = ({ tag, onAdd, onToggleFavorite, isFavorited }) => (\r\n  <div className=\"group bg-gradient-to-r from-gray-50 to-white border border-gray-200 rounded-lg p-4 hover:shadow-md hover:border-blue-300 transition-all duration-200 cursor-pointer\">\r\n    <div onClick={onAdd} className=\"flex-1\">\r\n      <div className=\"flex items-start justify-between mb-2\">\r\n        <div className=\"flex-1\">\r\n          <h4 className=\"font-medium text-gray-900 text-sm mb-1 group-hover:text-blue-700 transition-colors\">\r\n            {tag.en}\r\n          </h4>\r\n          <p className=\"text-xs text-blue-600 mb-2\">\r\n            {tag.cn}\r\n          </p>\r\n        </div>\r\n        <button\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            onToggleFavorite();\r\n          }}\r\n          className={`p-1 rounded-full transition-colors ${\r\n            isFavorited \r\n              ? 'text-red-500 hover:bg-red-50' \r\n              : 'text-gray-400 hover:bg-gray-100 hover:text-red-500'\r\n          }`}\r\n        >\r\n          <Heart size={14} fill={isFavorited ? 'currentColor' : 'none'} />\r\n        </button>\r\n      </div>\r\n      \r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className=\"flex items-center gap-1\">\r\n            <TrendingUp size={12} className=\"text-green-600\" />\r\n            <span className=\"text-xs text-green-600 font-medium\">{tag.frequency}%</span>\r\n          </div>\r\n          <div className=\"w-12 bg-gray-200 rounded-full h-1\">\r\n            <div \r\n              className=\"bg-green-500 h-1 rounded-full transition-all\" \r\n              style={{ width: `${tag.frequency}%` }}\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        <button\r\n          onClick={onAdd}\r\n          className=\"opacity-0 group-hover:opacity-100 transition-opacity text-xs bg-blue-600 text-white px-2 py-1 rounded-full hover:bg-blue-700\"\r\n        >\r\n          <Plus size={10} className=\"inline mr-1\" />\r\n          添加\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default PromptLibraryPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}