/*! For license information please see main.d5500eeb.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var r=n(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!o.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:l.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},159:(e,t,n)=>{e.exports=function e(t,n,r){function a(i,l){if(!n[i]){if(!t[i]){if(s)return s(i,!0);var o=new Error("Cannot find module '"+i+"'");throw o.code="MODULE_NOT_FOUND",o}var c=n[i]={exports:{}};t[i][0].call(c.exports,(function(e){return a(t[i][1][e]||e)}),c,c.exports,e,t,n,r)}return n[i].exports}for(var s=void 0,i=0;i<r.length;i++)a(r[i]);return a}({1:[function(e,t,n){"use strict";var r=e("./utils"),a=e("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,a,i,l,o,c,u=[],d=0,h=e.length,f=h,p="string"!==r.getTypeOf(e);d<e.length;)f=h-d,a=p?(t=e[d++],n=d<h?e[d++]:0,d<h?e[d++]:0):(t=e.charCodeAt(d++),n=d<h?e.charCodeAt(d++):0,d<h?e.charCodeAt(d++):0),i=t>>2,l=(3&t)<<4|n>>4,o=1<f?(15&n)<<2|a>>6:64,c=2<f?63&a:64,u.push(s.charAt(i)+s.charAt(l)+s.charAt(o)+s.charAt(c));return u.join("")},n.decode=function(e){var t,n,r,i,l,o,c=0,u=0,d="data:";if(e.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var h,f=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===s.charAt(64)&&f--,e.charAt(e.length-2)===s.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=a.uint8array?new Uint8Array(0|f):new Array(0|f);c<e.length;)t=s.indexOf(e.charAt(c++))<<2|(i=s.indexOf(e.charAt(c++)))>>4,n=(15&i)<<4|(l=s.indexOf(e.charAt(c++)))>>2,r=(3&l)<<6|(o=s.indexOf(e.charAt(c++))),h[u++]=t,64!==l&&(h[u++]=n),64!==o&&(h[u++]=r);return h}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),a=e("./stream/DataWorker"),s=e("./stream/Crc32Probe"),i=e("./stream/DataLengthProbe");function l(e,t,n,r,a){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=a}l.prototype={getContentWorker:function(){var e=new a(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new i("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new a(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(e,t,n){return e.pipe(new s).pipe(new i("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new i("compressedSize")).withStreamInfo("compression",t)},t.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),a=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var s=a,i=r+n;e^=-1;for(var l=r;l<i;l++)e=e>>>8^s[255&(e^t[l])];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var s=a,i=r+n;e^=-1;for(var l=r;l<i;l++)e=e>>>8^s[255&(e^t.charCodeAt(l))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,a=e("pako"),s=e("./utils"),i=e("./stream/GenericWorker"),l=r?"uint8array":"array";function o(e,t){i.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",s.inherits(o,i),o.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(l,e.data),!1)},o.prototype.flush=function(){i.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this._pako=null},o.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new o("Deflate",e)},n.uncompressWorker=function(){return new o("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function a(e,t,n,a,i,u){var d,h,f=e.file,p=e.compression,m=u!==l.utf8encode,g=s.transformTo("string",u(f.name)),x=s.transformTo("string",l.utf8encode(f.name)),b=f.comment,y=s.transformTo("string",u(b)),v=s.transformTo("string",l.utf8encode(b)),w=x.length!==f.name.length,j=v.length!==b.length,N="",k="",_="",S=f.dir,C=f.date,E={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(E.crc32=e.crc32,E.compressedSize=e.compressedSize,E.uncompressedSize=e.uncompressedSize);var T=0;t&&(T|=8),m||!w&&!j||(T|=2048);var A=0,z=0;S&&(A|=16),"UNIX"===i?(z=798,A|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(f.unixPermissions,S)):(z=20,A|=function(e){return 63&(e||0)}(f.dosPermissions)),d=C.getUTCHours(),d<<=6,d|=C.getUTCMinutes(),d<<=5,d|=C.getUTCSeconds()/2,h=C.getUTCFullYear()-1980,h<<=4,h|=C.getUTCMonth()+1,h<<=5,h|=C.getUTCDate(),w&&(k=r(1,1)+r(o(g),4)+x,N+="up"+r(k.length,2)+k),j&&(_=r(1,1)+r(o(y),4)+v,N+="uc"+r(_.length,2)+_);var I="";return I+="\n\0",I+=r(T,2),I+=p.magic,I+=r(d,2),I+=r(h,2),I+=r(E.crc32,4),I+=r(E.compressedSize,4),I+=r(E.uncompressedSize,4),I+=r(g.length,2),I+=r(N.length,2),{fileRecord:c.LOCAL_FILE_HEADER+I+g+N,dirRecord:c.CENTRAL_FILE_HEADER+r(z,2)+I+r(y.length,2)+"\0\0\0\0"+r(A,4)+r(a,4)+g+N+y}}var s=e("../utils"),i=e("../stream/GenericWorker"),l=e("../utf8"),o=e("../crc32"),c=e("../signature");function u(e,t,n,r){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(u,i),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=a(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=a(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,a=function(e,t,n,a,i){var l=s.transformTo("string",i(a));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(l.length,2)+l}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:a,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},u.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),a=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var s=new a(t.streamFiles,n,t.platform,t.encodeFileName),i=0;try{e.forEach((function(e,n){i++;var a=function(e,t){var n=e||t,a=r[n];if(!a)throw new Error(n+" is not a valid compression method !");return a}(n.options.compression,t.compression),l=n.options.compressionOptions||t.compressionOptions||{},o=n.dir,c=n.date;n._compressWorker(a,l).withStreamInfo("file",{name:e,dir:o,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(s)})),s.entriesCount=i}catch(e){s.error(e)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),a=e("./external"),s=e("./utf8"),i=e("./zipEntries"),l=e("./stream/Crc32Probe"),o=e("./nodejsUtils");function c(e){return new a.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new l);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),o.isNode&&o.isStream(e)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new i(t);return n.load(e),n})).then((function(e){var n=[a.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var s=0;s<r.length;s++)n.push(c(r[s]));return a.Promise.all(n)})).then((function(e){for(var a=e.shift(),s=a.files,i=0;i<s.length;i++){var l=s[i],o=l.fileNameStr,c=r.resolve(l.fileNameStr);n.file(c,l.decompressed,{binary:!0,optimizedBinaryString:!0,date:l.date,dir:l.dir,comment:l.fileCommentStr.length?l.fileCommentStr:null,unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions,createFolders:t.createFolders}),l.dir||(n.file(c).unsafeOriginalName=o)}return a.zipComment.length&&(n.comment=a.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),a=e("../stream/GenericWorker");function s(e,t){a.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(s,a),s.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},s.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function a(e,t,n){r.call(this,t),this._helper=e;var a=this;e.on("data",(function(e,t){a.push(e)||a._helper.pause(),n&&n(t)})).on("error",(function(e){a.emit("error",e)})).on("end",(function(){a.push(null)}))}e("../utils").inherits(a,r),a.prototype._read=function(){this._helper.resume()},t.exports=a},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,a=s.getTypeOf(t),l=s.extend(n||{},o);l.date=l.date||new Date,null!==l.compression&&(l.compression=l.compression.toUpperCase()),"string"==typeof l.unixPermissions&&(l.unixPermissions=parseInt(l.unixPermissions,8)),l.unixPermissions&&16384&l.unixPermissions&&(l.dir=!0),l.dosPermissions&&16&l.dosPermissions&&(l.dir=!0),l.dir&&(e=m(e)),l.createFolders&&(r=p(e))&&g.call(this,r,!0);var d="string"===a&&!1===l.binary&&!1===l.base64;n&&void 0!==n.binary||(l.binary=!d),(t instanceof c&&0===t.uncompressedSize||l.dir||!t||0===t.length)&&(l.base64=!1,l.binary=!0,t="",l.compression="STORE",a="string");var x=null;x=t instanceof c||t instanceof i?t:h.isNode&&h.isStream(t)?new f(e,t):s.prepareContent(e,t,l.binary,l.optimizedBinaryString,l.base64);var b=new u(e,x,l);this.files[e]=b}var a=e("./utf8"),s=e("./utils"),i=e("./stream/GenericWorker"),l=e("./stream/StreamHelper"),o=e("./defaults"),c=e("./compressedObject"),u=e("./zipObject"),d=e("./generate"),h=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:o.createFolders,e=m(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function x(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(x(e)){var a=e;return this.filter((function(e,t){return!t.dir&&a.test(e)}))}var s=this.files[this.root+e];return s&&!s.dir?s:null},folder:function(e){if(!e)return this;if(x(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=g.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=s.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");s.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=d.generateWorker(this,n,r)}catch(e){(t=new i("error")).error(e)}return new l(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function a(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(a,r),a.prototype.byteAt=function(e){return this.data[this.zero+e]},a.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),a=e.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===t&&this.data[s+1]===n&&this.data[s+2]===r&&this.data[s+3]===a)return s-this.zero;return-1},a.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),a=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&n===s[1]&&r===s[2]&&a===s[3]},a.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=a},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function a(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=a},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function a(e){r.call(this,e)}e("../utils").inherits(a,r),a.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function a(e){r.call(this,e)}e("../utils").inherits(a,r),a.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},a.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},a.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},a.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=a},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function a(e){r.call(this,e)}e("../utils").inherits(a,r),a.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),a=e("../support"),s=e("./ArrayReader"),i=e("./StringReader"),l=e("./NodeBufferReader"),o=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||a.uint8array?"nodebuffer"===t?new l(e):a.uint8array?new o(r.transformTo("uint8array",e)):new s(r.transformTo("array",e)):new i(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),a=e("../utils");function s(e){r.call(this,"ConvertWorker to "+e),this.destType=e}a.inherits(s,r),s.prototype.processChunk=function(e){this.push({data:a.transformTo(this.destType,e.data),meta:e.meta})},t.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),a=e("../crc32");function s(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(s,r),s.prototype.processChunk=function(e){this.streamInfo.crc32=a(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),a=e("./GenericWorker");function s(e){a.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(s,a),s.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}a.prototype.processChunk.call(this,e)},t.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),a=e("./GenericWorker");function s(e){a.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(s,a),s.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){"use strict";var r=e("../utils"),a=e("./ConvertWorker"),s=e("./GenericWorker"),i=e("../base64"),l=e("../support"),o=e("../external"),c=null;if(l.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t){return new o.Promise((function(n,a){var s=[],l=e._internalType,o=e._outputType,c=e._mimeType;e.on("data",(function(e,n){s.push(e),t&&t(n)})).on("error",(function(e){s=[],a(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return i.encode(t);default:return r.transformTo(e,t)}}(o,function(e,t){var n,r=0,a=null,s=0;for(n=0;n<t.length;n++)s+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(a=new Uint8Array(s),n=0;n<t.length;n++)a.set(t[n],r),r+=t[n].length;return a;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(l,s),c);n(e)}catch(e){a(e)}s=[]})).resume()}))}function d(e,t,n){var i=t;switch(t){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=t,this._mimeType=n,r.checkSupport(i),this._worker=e.pipe(new a(i)),e.lock()}catch(e){this._worker=new s("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){return u(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(r),n.blob=0===a.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),a=e("./support"),s=e("./nodejsUtils"),i=e("./stream/GenericWorker"),l=new Array(256),o=0;o<256;o++)l[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function c(){i.call(this,"utf-8 decode"),this.leftOver=null}function u(){i.call(this,"utf-8 encode")}l[254]=l[254]=1,n.utf8encode=function(e){return a.nodebuffer?s.newBufferFrom(e,"utf-8"):function(e){var t,n,r,s,i,l=e.length,o=0;for(s=0;s<l;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<l&&56320==(64512&(r=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(r-56320),s++),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=a.uint8array?new Uint8Array(o):new Array(o),s=i=0;i<o;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<l&&56320==(64512&(r=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(r-56320),s++),n<128?t[i++]=n:(n<2048?t[i++]=192|n>>>6:(n<65536?t[i++]=224|n>>>12:(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63),t[i++]=128|n>>>6&63),t[i++]=128|63&n);return t}(e)},n.utf8decode=function(e){return a.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,a,s,i=e.length,o=new Array(2*i);for(t=n=0;t<i;)if((a=e[t++])<128)o[n++]=a;else if(4<(s=l[a]))o[n++]=65533,t+=s-1;else{for(a&=2===s?31:3===s?15:7;1<s&&t<i;)a=a<<6|63&e[t++],s--;1<s?o[n++]=65533:a<65536?o[n++]=a:(a-=65536,o[n++]=55296|a>>10&1023,o[n++]=56320|1023&a)}return o.length!==n&&(o.subarray?o=o.subarray(0,n):o.length=n),r.applyFromCharCode(o)}(e=r.transformTo(a.uint8array?"uint8array":"array",e))},r.inherits(c,i),c.prototype.processChunk=function(e){var t=r.transformTo(a.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var s=t;(t=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),t.set(s,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var i=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+l[e[n]]>t?n:t}(t),o=t;i!==t.length&&(a.uint8array?(o=t.subarray(0,i),this.leftOver=t.subarray(i,t.length)):(o=t.slice(0,i),this.leftOver=t.slice(i,t.length))),this.push({data:n.utf8decode(o),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,r.inherits(u,i),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),a=e("./base64"),s=e("./nodejsUtils"),i=e("./external");function l(e){return e}function o(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(t,r){n.checkSupport("blob");try{return new Blob([t],{type:r})}catch(e){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return a.append(t),a.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,n){var r=[],a=0,s=e.length;if(s<=n)return String.fromCharCode.apply(null,e);for(;a<s;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(a,Math.min(a+n,s)))):r.push(String.fromCharCode.apply(null,e.subarray(a,Math.min(a+n,s)))),a+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,s.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var t=65536,r=n.getTypeOf(e),a=!0;if("uint8array"===r?a=c.applyCanBeUsed.uint8array:"nodebuffer"===r&&(a=c.applyCanBeUsed.nodebuffer),a)for(;1<t;)try{return c.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=u;var h={};h.string={string:l,array:function(e){return o(e,new Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return o(e,new Uint8Array(e.length))},nodebuffer:function(e){return o(e,s.allocBuffer(e.length))}},h.array={string:u,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(e)}},h.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(new Uint8Array(e))}},h.uint8array={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return s.newBufferFrom(e)}},h.nodebuffer={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:l},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return h[r][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var a=t[r];"."===a||""===a&&0!==r&&r!==t.length-1||(".."===a?n.pop():n.push(a))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&s.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,s,l,c){return i.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new i.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var u=n.getTypeOf(t);return u?("arraybuffer"===u?t=n.transformTo("uint8array",t):"string"===u&&(c?t=a.decode(t):s&&!0!==l&&(t=function(e){return o(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):i.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),a=e("./utils"),s=e("./signature"),i=e("./zipEntry"),l=e("./support");function o(e){this.files=[],this.loadOptions=e}o.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(t)+", expected "+a.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=l.uint8array?"uint8array":"array",n=a.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new i({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=o},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),a=e("./utils"),s=e("./compressedObject"),i=e("./crc32"),l=e("./utf8"),o=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in o)if(Object.prototype.hasOwnProperty.call(o,t)&&o[t].magic===e)return o[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,a=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<a;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(a)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=a.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var s=a.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||i(this.fileName)!==t.readInt(4)?null:l.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||i(this.fileComment)!==t.readInt(4)?null:l.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var a=e("./stream/StreamHelper"),s=e("./stream/DataWorker"),i=e("./utf8"),l=e("./compressedObject"),o=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var s=!this._dataBinary;s&&!r&&(t=t.pipe(new i.Utf8EncodeWorker)),!s&&r&&(t=t.pipe(new i.Utf8DecodeWorker))}catch(e){(t=new o("error")).error(e)}return new a(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof l&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new i.Utf8EncodeWorker)),l.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof o?this._data:new s(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<c.length;d++)r.prototype[c[d]]=u;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var n,r,a=e.MutationObserver||e.WebKitMutationObserver;if(a){var s=0,i=new a(u),l=e.document.createTextNode("");i.observe(l,{characterData:!0}),n=function(){l.data=s=++s%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var o=new e.MessageChannel;o.port1.onmessage=u,n=function(){o.port2.postMessage(0)}}var c=[];function u(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function a(){}var s={},i=["REJECTED"],l=["FULFILLED"],o=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=o,this.queue=[],this.outcome=void 0,e!==a&&f(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return s.reject(e,r)}r===e?s.reject(e,new TypeError("Cannot resolve promise with itself")):s.resolve(e,r)}))}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function r(t){n||(n=!0,s.reject(e,t))}function a(t){n||(n=!0,s.resolve(e,t))}var i=p((function(){t(a,r)}));"error"===i.status&&r(i.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===l||"function"!=typeof t&&this.state===i)return this;var n=new this.constructor(a);return this.state!==o?d(n,this.state===l?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){s.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){s.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},s.resolve=function(e,t){var n=p(h,t);if("error"===n.status)return s.reject(e,n.value);var r=n.value;if(r)f(e,r);else{e.state=l,e.outcome=t;for(var a=-1,i=e.queue.length;++a<i;)e.queue[a].callFulfilled(t)}return e},s.reject=function(e,t){e.state=i,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:s.resolve(new this(a),e)},c.reject=function(e){var t=new this(a);return s.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var i=new Array(n),l=0,o=-1,c=new this(a);++o<n;)u(e[o],o);return c;function u(e,a){t.resolve(e).then((function(e){i[a]=e,++l!==n||r||(r=!0,s.resolve(c,i))}),(function(e){r||(r=!0,s.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var i,l=-1,o=new this(a);++l<n;)i=e[l],t.resolve(i).then((function(e){r||(r=!0,s.resolve(o,e))}),(function(e){r||(r=!0,s.reject(o,e))}));return o}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),a=e("./utils/common"),s=e("./utils/strings"),i=e("./zlib/messages"),l=e("./zlib/zstream"),o=Object.prototype.toString,c=0,u=-1,d=0,h=8;function f(e){if(!(this instanceof f))return new f(e);this.options=a.assign({level:u,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(i[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===o.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==c)throw new Error(i[n]);this._dict_set=!0}}function p(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||i[n.err];return n.result}f.prototype.push=function(e,t){var n,i,l=this.strm,u=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:!0===t?4:0,"string"==typeof e?l.input=s.string2buf(e):"[object ArrayBuffer]"===o.call(e)?l.input=new Uint8Array(e):l.input=e,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new a.Buf8(u),l.next_out=0,l.avail_out=u),1!==(n=r.deflate(l,i))&&n!==c)return this.onEnd(n),!(this.ended=!0);0!==l.avail_out&&(0!==l.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(s.buf2binstring(a.shrinkBuf(l.output,l.next_out))):this.onData(a.shrinkBuf(l.output,l.next_out)))}while((0<l.avail_in||0===l.avail_out)&&1!==n);return 4===i?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==i||(this.onEnd(c),!(l.avail_out=0))},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=f,n.deflate=p,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),a=e("./utils/common"),s=e("./utils/strings"),i=e("./zlib/constants"),l=e("./zlib/messages"),o=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==i.Z_OK)throw new Error(l[n]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function h(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||l[n.err];return n.result}d.prototype.push=function(e,t){var n,l,o,c,d,h,f=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;l=t===~~t?t:!0===t?i.Z_FINISH:i.Z_NO_FLUSH,"string"==typeof e?f.input=s.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new a.Buf8(p),f.next_out=0,f.avail_out=p),(n=r.inflate(f,i.Z_NO_FLUSH))===i.Z_NEED_DICT&&m&&(h="string"==typeof m?s.string2buf(m):"[object ArrayBuffer]"===u.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,h)),n===i.Z_BUF_ERROR&&!0===g&&(n=i.Z_OK,g=!1),n!==i.Z_STREAM_END&&n!==i.Z_OK)return this.onEnd(n),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&n!==i.Z_STREAM_END&&(0!==f.avail_in||l!==i.Z_FINISH&&l!==i.Z_SYNC_FLUSH)||("string"===this.options.to?(o=s.utf8border(f.output,f.next_out),c=f.next_out-o,d=s.buf2string(f.output,o),f.next_out=c,f.avail_out=p-c,c&&a.arraySet(f.output,f.output,o,c,0),this.onData(d)):this.onData(a.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((0<f.avail_in||0===f.avail_out)&&n!==i.Z_STREAM_END);return n===i.Z_STREAM_END&&(l=i.Z_FINISH),l===i.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===i.Z_OK):l!==i.Z_SYNC_FLUSH||(this.onEnd(i.Z_OK),!(f.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===i.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=h,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},n.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,n,r,a){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),a);else for(var s=0;s<r;s++)e[a+s]=t[n+s]},flattenChunks:function(e){var t,n,r,a,s,i;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(i=new Uint8Array(r),t=a=0,n=e.length;t<n;t++)s=e[t],i.set(s,a),a+=s.length;return i}},s={arraySet:function(e,t,n,r,a){for(var s=0;s<r;s++)e[a+s]=t[n+s]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,a)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var i=new r.Buf8(256),l=0;l<256;l++)i[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function o(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&a))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}i[254]=i[254]=1,n.string2buf=function(e){var t,n,a,s,i,l=e.length,o=0;for(s=0;s<l;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<l&&56320==(64512&(a=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(a-56320),s++),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(o),s=i=0;i<o;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<l&&56320==(64512&(a=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(a-56320),s++),n<128?t[i++]=n:(n<2048?t[i++]=192|n>>>6:(n<65536?t[i++]=224|n>>>12:(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63),t[i++]=128|n>>>6&63),t[i++]=128|63&n);return t},n.buf2binstring=function(e){return o(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,a=t.length;n<a;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,a,s,l=t||e.length,c=new Array(2*l);for(n=r=0;n<l;)if((a=e[n++])<128)c[r++]=a;else if(4<(s=i[a]))c[r++]=65533,n+=s-1;else{for(a&=2===s?31:3===s?15:7;1<s&&n<l;)a=a<<6|63&e[n++],s--;1<s?c[r++]=65533:a<65536?c[r++]=a:(a-=65536,c[r++]=55296|a>>10&1023,c[r++]=56320|1023&a)}return o(c,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+i[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var a=65535&e,s=e>>>16&65535,i=0;0!==n;){for(n-=i=2e3<n?2e3:n;s=s+(a=a+t[r++]|0)|0,--i;);a%=65521,s%=65521}return a|s<<16}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,a){var s=r,i=a+n;e^=-1;for(var l=a;l<i;l++)e=e>>>8^s[255&(e^t[l])];return-1^e}},{}],46:[function(e,t,n){"use strict";var r,a=e("../utils/common"),s=e("./trees"),i=e("./adler32"),l=e("./crc32"),o=e("./messages"),c=0,u=4,d=0,h=-2,f=-1,p=4,m=2,g=8,x=9,b=286,y=30,v=19,w=2*b+1,j=15,N=3,k=258,_=k+N+1,S=42,C=113,E=1,T=2,A=3,z=4;function I(e,t){return e.msg=o[t],t}function P(e){return(e<<1)-(4<e?9:0)}function O(e){for(var t=e.length;0<=--t;)e[t]=0}function D(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(a.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function L(e,t){s._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,D(e.strm)}function R(e,t){e.pending_buf[e.pending++]=t}function M(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function F(e,t){var n,r,a=e.max_chain_length,s=e.strstart,i=e.prev_length,l=e.nice_match,o=e.strstart>e.w_size-_?e.strstart-(e.w_size-_):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+k,f=c[s+i-1],p=c[s+i];e.prev_length>=e.good_match&&(a>>=2),l>e.lookahead&&(l=e.lookahead);do{if(c[(n=t)+i]===p&&c[n+i-1]===f&&c[n]===c[s]&&c[++n]===c[s+1]){s+=2,n++;do{}while(c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&s<h);if(r=k-(h-s),s=h-k,i<r){if(e.match_start=t,l<=(i=r))break;f=c[s+i-1],p=c[s+i]}}}while((t=d[t&u])>o&&0!=--a);return i<=e.lookahead?i:e.lookahead}function U(e){var t,n,r,s,o,c,u,d,h,f,p=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-_)){for(a.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;r=e.head[--t],e.head[t]=p<=r?r-p:0,--n;);for(t=n=p;r=e.prev[--t],e.prev[t]=p<=r?r-p:0,--n;);s+=p}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,d=e.strstart+e.lookahead,f=void 0,(h=s)<(f=c.avail_in)&&(f=h),n=0===f?0:(c.avail_in-=f,a.arraySet(u,c.input,c.next_in,f,d),1===c.state.wrap?c.adler=i(c.adler,u,f,d):2===c.state.wrap&&(c.adler=l(c.adler,u,f,d)),c.next_in+=f,c.total_in+=f,f),e.lookahead+=n,e.lookahead+e.insert>=N)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+N-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<N)););}while(e.lookahead<_&&0!==e.strm.avail_in)}function q(e,t){for(var n,r;;){if(e.lookahead<_){if(U(e),e.lookahead<_&&t===c)return E;if(0===e.lookahead)break}if(n=0,e.lookahead>=N&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-_&&(e.match_length=F(e,n)),e.match_length>=N)if(r=s._tr_tally(e,e.strstart-e.match_start,e.match_length-N),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=N){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(L(e,!1),0===e.strm.avail_out))return E}return e.insert=e.strstart<N-1?e.strstart:N-1,t===u?(L(e,!0),0===e.strm.avail_out?A:z):e.last_lit&&(L(e,!1),0===e.strm.avail_out)?E:T}function B(e,t){for(var n,r,a;;){if(e.lookahead<_){if(U(e),e.lookahead<_&&t===c)return E;if(0===e.lookahead)break}if(n=0,e.lookahead>=N&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=N-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-_&&(e.match_length=F(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===N&&4096<e.strstart-e.match_start)&&(e.match_length=N-1)),e.prev_length>=N&&e.match_length<=e.prev_length){for(a=e.strstart+e.lookahead-N,r=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-N),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=N-1,e.strstart++,r&&(L(e,!1),0===e.strm.avail_out))return E}else if(e.match_available){if((r=s._tr_tally(e,0,e.window[e.strstart-1]))&&L(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return E}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<N-1?e.strstart:N-1,t===u?(L(e,!0),0===e.strm.avail_out?A:z):e.last_lit&&(L(e,!1),0===e.strm.avail_out)?E:T}function H(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}function W(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*w),this.dyn_dtree=new a.Buf16(2*(2*y+1)),this.bl_tree=new a.Buf16(2*(2*v+1)),O(this.dyn_ltree),O(this.dyn_dtree),O(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(j+1),this.heap=new a.Buf16(2*b+1),O(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*b+1),O(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?S:C,e.adler=2===t.wrap?0:1,t.last_flush=c,s._tr_init(t),d):I(e,h)}function V(e){var t=G(e);return t===d&&function(e){e.window_size=2*e.w_size,O(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=N-1,e.match_available=0,e.ins_h=0}(e.state),t}function K(e,t,n,r,s,i){if(!e)return h;var l=1;if(t===f&&(t=6),r<0?(l=0,r=-r):15<r&&(l=2,r-=16),s<1||x<s||n!==g||r<8||15<r||t<0||9<t||i<0||p<i)return I(e,h);8===r&&(r=9);var o=new W;return(e.state=o).strm=e,o.wrap=l,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=s+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+N-1)/N),o.window=new a.Buf8(2*o.w_size),o.head=new a.Buf16(o.hash_size),o.prev=new a.Buf16(o.w_size),o.lit_bufsize=1<<s+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new a.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=i,o.method=n,V(e)}r=[new H(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(U(e),0===e.lookahead&&t===c)return E;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,L(e,!1),0===e.strm.avail_out))return E;if(e.strstart-e.block_start>=e.w_size-_&&(L(e,!1),0===e.strm.avail_out))return E}return e.insert=0,t===u?(L(e,!0),0===e.strm.avail_out?A:z):(e.strstart>e.block_start&&(L(e,!1),e.strm.avail_out),E)})),new H(4,4,8,4,q),new H(4,5,16,8,q),new H(4,6,32,32,q),new H(4,4,16,16,B),new H(8,16,32,32,B),new H(8,16,128,128,B),new H(8,32,128,256,B),new H(32,128,258,1024,B),new H(32,258,258,4096,B)],n.deflateInit=function(e,t){return K(e,t,g,15,8,0)},n.deflateInit2=K,n.deflateReset=V,n.deflateResetKeep=G,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?h:(e.state.gzhead=t,d):h},n.deflate=function(e,t){var n,a,i,o;if(!e||!e.state||5<t||t<0)return e?I(e,h):h;if(a=e.state,!e.output||!e.input&&0!==e.avail_in||666===a.status&&t!==u)return I(e,0===e.avail_out?-5:h);if(a.strm=e,n=a.last_flush,a.last_flush=t,a.status===S)if(2===a.wrap)e.adler=0,R(a,31),R(a,139),R(a,8),a.gzhead?(R(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),R(a,255&a.gzhead.time),R(a,a.gzhead.time>>8&255),R(a,a.gzhead.time>>16&255),R(a,a.gzhead.time>>24&255),R(a,9===a.level?2:2<=a.strategy||a.level<2?4:0),R(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(R(a,255&a.gzhead.extra.length),R(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=l(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(R(a,0),R(a,0),R(a,0),R(a,0),R(a,0),R(a,9===a.level?2:2<=a.strategy||a.level<2?4:0),R(a,3),a.status=C);else{var f=g+(a.w_bits-8<<4)<<8;f|=(2<=a.strategy||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(f|=32),f+=31-f%31,a.status=C,M(a,f),0!==a.strstart&&(M(a,e.adler>>>16),M(a,65535&e.adler)),e.adler=1}if(69===a.status)if(a.gzhead.extra){for(i=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>i&&(e.adler=l(e.adler,a.pending_buf,a.pending-i,i)),D(e),i=a.pending,a.pending!==a.pending_buf_size));)R(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>i&&(e.adler=l(e.adler,a.pending_buf,a.pending-i,i)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){i=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>i&&(e.adler=l(e.adler,a.pending_buf,a.pending-i,i)),D(e),i=a.pending,a.pending===a.pending_buf_size)){o=1;break}o=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,R(a,o)}while(0!==o);a.gzhead.hcrc&&a.pending>i&&(e.adler=l(e.adler,a.pending_buf,a.pending-i,i)),0===o&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){i=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>i&&(e.adler=l(e.adler,a.pending_buf,a.pending-i,i)),D(e),i=a.pending,a.pending===a.pending_buf_size)){o=1;break}o=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,R(a,o)}while(0!==o);a.gzhead.hcrc&&a.pending>i&&(e.adler=l(e.adler,a.pending_buf,a.pending-i,i)),0===o&&(a.status=103)}else a.status=103;if(103===a.status&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&D(e),a.pending+2<=a.pending_buf_size&&(R(a,255&e.adler),R(a,e.adler>>8&255),e.adler=0,a.status=C)):a.status=C),0!==a.pending){if(D(e),0===e.avail_out)return a.last_flush=-1,d}else if(0===e.avail_in&&P(t)<=P(n)&&t!==u)return I(e,-5);if(666===a.status&&0!==e.avail_in)return I(e,-5);if(0!==e.avail_in||0!==a.lookahead||t!==c&&666!==a.status){var p=2===a.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(U(e),0===e.lookahead)){if(t===c)return E;break}if(e.match_length=0,n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(L(e,!1),0===e.strm.avail_out))return E}return e.insert=0,t===u?(L(e,!0),0===e.strm.avail_out?A:z):e.last_lit&&(L(e,!1),0===e.strm.avail_out)?E:T}(a,t):3===a.strategy?function(e,t){for(var n,r,a,i,l=e.window;;){if(e.lookahead<=k){if(U(e),e.lookahead<=k&&t===c)return E;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=N&&0<e.strstart&&(r=l[a=e.strstart-1])===l[++a]&&r===l[++a]&&r===l[++a]){i=e.strstart+k;do{}while(r===l[++a]&&r===l[++a]&&r===l[++a]&&r===l[++a]&&r===l[++a]&&r===l[++a]&&r===l[++a]&&r===l[++a]&&a<i);e.match_length=k-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=N?(n=s._tr_tally(e,1,e.match_length-N),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(L(e,!1),0===e.strm.avail_out))return E}return e.insert=0,t===u?(L(e,!0),0===e.strm.avail_out?A:z):e.last_lit&&(L(e,!1),0===e.strm.avail_out)?E:T}(a,t):r[a.level].func(a,t);if(p!==A&&p!==z||(a.status=666),p===E||p===A)return 0===e.avail_out&&(a.last_flush=-1),d;if(p===T&&(1===t?s._tr_align(a):5!==t&&(s._tr_stored_block(a,0,0,!1),3===t&&(O(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),D(e),0===e.avail_out))return a.last_flush=-1,d}return t!==u?d:a.wrap<=0?1:(2===a.wrap?(R(a,255&e.adler),R(a,e.adler>>8&255),R(a,e.adler>>16&255),R(a,e.adler>>24&255),R(a,255&e.total_in),R(a,e.total_in>>8&255),R(a,e.total_in>>16&255),R(a,e.total_in>>24&255)):(M(a,e.adler>>>16),M(a,65535&e.adler)),D(e),0<a.wrap&&(a.wrap=-a.wrap),0!==a.pending?d:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==S&&69!==t&&73!==t&&91!==t&&103!==t&&t!==C&&666!==t?I(e,h):(e.state=null,t===C?I(e,-3):d):h},n.deflateSetDictionary=function(e,t){var n,r,s,l,o,c,u,f,p=t.length;if(!e||!e.state)return h;if(2===(l=(n=e.state).wrap)||1===l&&n.status!==S||n.lookahead)return h;for(1===l&&(e.adler=i(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===l&&(O(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new a.Buf8(n.w_size),a.arraySet(f,t,p-n.w_size,n.w_size,0),t=f,p=n.w_size),o=e.avail_in,c=e.next_in,u=e.input,e.avail_in=p,e.next_in=0,e.input=t,U(n);n.lookahead>=N;){for(r=n.strstart,s=n.lookahead-(N-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+N-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--s;);n.strstart=r,n.lookahead=N-1,U(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=N-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=o,n.wrap=l,d},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,a,s,i,l,o,c,u,d,h,f,p,m,g,x,b,y,v,w,j,N,k,_,S;n=e.state,r=e.next_in,_=e.input,a=r+(e.avail_in-5),s=e.next_out,S=e.output,i=s-(t-e.avail_out),l=s+(e.avail_out-257),o=n.dmax,c=n.wsize,u=n.whave,d=n.wnext,h=n.window,f=n.hold,p=n.bits,m=n.lencode,g=n.distcode,x=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;e:do{p<15&&(f+=_[r++]<<p,p+=8,f+=_[r++]<<p,p+=8),y=m[f&x];t:for(;;){if(f>>>=v=y>>>24,p-=v,0===(v=y>>>16&255))S[s++]=65535&y;else{if(!(16&v)){if(0==(64&v)){y=m[(65535&y)+(f&(1<<v)-1)];continue t}if(32&v){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&y,(v&=15)&&(p<v&&(f+=_[r++]<<p,p+=8),w+=f&(1<<v)-1,f>>>=v,p-=v),p<15&&(f+=_[r++]<<p,p+=8,f+=_[r++]<<p,p+=8),y=g[f&b];n:for(;;){if(f>>>=v=y>>>24,p-=v,!(16&(v=y>>>16&255))){if(0==(64&v)){y=g[(65535&y)+(f&(1<<v)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(j=65535&y,p<(v&=15)&&(f+=_[r++]<<p,(p+=8)<v&&(f+=_[r++]<<p,p+=8)),o<(j+=f&(1<<v)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=v,p-=v,(v=s-i)<j){if(u<(v=j-v)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=h,(N=0)===d){if(N+=c-v,v<w){for(w-=v;S[s++]=h[N++],--v;);N=s-j,k=S}}else if(d<v){if(N+=c+d-v,(v-=d)<w){for(w-=v;S[s++]=h[N++],--v;);if(N=0,d<w){for(w-=v=d;S[s++]=h[N++],--v;);N=s-j,k=S}}}else if(N+=d-v,v<w){for(w-=v;S[s++]=h[N++],--v;);N=s-j,k=S}for(;2<w;)S[s++]=k[N++],S[s++]=k[N++],S[s++]=k[N++],w-=3;w&&(S[s++]=k[N++],1<w&&(S[s++]=k[N++]))}else{for(N=s-j;S[s++]=S[N++],S[s++]=S[N++],S[s++]=S[N++],2<(w-=3););w&&(S[s++]=S[N++],1<w&&(S[s++]=S[N++]))}break}}break}}while(r<a&&s<l);r-=w=p>>3,f&=(1<<(p-=w<<3))-1,e.next_in=r,e.next_out=s,e.avail_in=r<a?a-r+5:5-(r-a),e.avail_out=s<l?l-s+257:257-(s-l),n.hold=f,n.bits=p}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),a=e("./adler32"),s=e("./crc32"),i=e("./inffast"),l=e("./inftrees"),o=1,c=2,u=0,d=-2,h=1,f=852,p=592;function m(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=h,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(f),t.distcode=t.distdyn=new r.Buf32(p),t.sane=1,t.back=-1,u):d}function b(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,x(e)):d}function y(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?d:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,b(e))):d}function v(e,t){var n,r;return e?(r=new g,(e.state=r).window=null,(n=y(e,t))!==u&&(e.state=null),n):d}var w,j,N=!0;function k(e){if(N){var t;for(w=new r.Buf32(512),j=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(l(o,e.lens,0,288,w,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;l(c,e.lens,0,32,j,0,e.work,{bits:5}),N=!1}e.lencode=w,e.lenbits=9,e.distcode=j,e.distbits=5}function _(e,t,n,a){var s,i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new r.Buf8(i.wsize)),a>=i.wsize?(r.arraySet(i.window,t,n-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(a<(s=i.wsize-i.wnext)&&(s=a),r.arraySet(i.window,t,n-a,s,i.wnext),(a-=s)?(r.arraySet(i.window,t,n-a,a,0),i.wnext=a,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0}n.inflateReset=b,n.inflateReset2=y,n.inflateResetKeep=x,n.inflateInit=function(e){return v(e,15)},n.inflateInit2=v,n.inflate=function(e,t){var n,f,p,g,x,b,y,v,w,j,N,S,C,E,T,A,z,I,P,O,D,L,R,M,F=0,U=new r.Buf8(4),q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return d;12===(n=e.state).mode&&(n.mode=13),x=e.next_out,p=e.output,y=e.avail_out,g=e.next_in,f=e.input,b=e.avail_in,v=n.hold,w=n.bits,j=b,N=y,L=u;e:for(;;)switch(n.mode){case h:if(0===n.wrap){n.mode=13;break}for(;w<16;){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}if(2&n.wrap&&35615===v){U[n.check=0]=255&v,U[1]=v>>>8&255,n.check=s(n.check,U,2,0),w=v=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&v)<<8)+(v>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&v)){e.msg="unknown compression method",n.mode=30;break}if(w-=4,D=8+(15&(v>>>=4)),0===n.wbits)n.wbits=D;else if(D>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<D,e.adler=n.check=1,n.mode=512&v?10:12,w=v=0;break;case 2:for(;w<16;){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}if(n.flags=v,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=v>>8&1),512&n.flags&&(U[0]=255&v,U[1]=v>>>8&255,n.check=s(n.check,U,2,0)),w=v=0,n.mode=3;case 3:for(;w<32;){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}n.head&&(n.head.time=v),512&n.flags&&(U[0]=255&v,U[1]=v>>>8&255,U[2]=v>>>16&255,U[3]=v>>>24&255,n.check=s(n.check,U,4,0)),w=v=0,n.mode=4;case 4:for(;w<16;){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}n.head&&(n.head.xflags=255&v,n.head.os=v>>8),512&n.flags&&(U[0]=255&v,U[1]=v>>>8&255,n.check=s(n.check,U,2,0)),w=v=0,n.mode=5;case 5:if(1024&n.flags){for(;w<16;){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}n.length=v,n.head&&(n.head.extra_len=v),512&n.flags&&(U[0]=255&v,U[1]=v>>>8&255,n.check=s(n.check,U,2,0)),w=v=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(b<(S=n.length)&&(S=b),S&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,f,g,S,D)),512&n.flags&&(n.check=s(n.check,f,S,g)),b-=S,g+=S,n.length-=S),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===b)break e;for(S=0;D=f[g+S++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D)),D&&S<b;);if(512&n.flags&&(n.check=s(n.check,f,S,g)),b-=S,g+=S,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===b)break e;for(S=0;D=f[g+S++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D)),D&&S<b;);if(512&n.flags&&(n.check=s(n.check,f,S,g)),b-=S,g+=S,D)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;w<16;){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}if(v!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}w=v=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;w<32;){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}e.adler=n.check=m(v),w=v=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=x,e.avail_out=y,e.next_in=g,e.avail_in=b,n.hold=v,n.bits=w,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){v>>>=7&w,w-=7&w,n.mode=27;break}for(;w<3;){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}switch(n.last=1&v,w-=1,3&(v>>>=1)){case 0:n.mode=14;break;case 1:if(k(n),n.mode=20,6!==t)break;v>>>=2,w-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}v>>>=2,w-=2;break;case 14:for(v>>>=7&w,w-=7&w;w<32;){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}if((65535&v)!=(v>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&v,w=v=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(S=n.length){if(b<S&&(S=b),y<S&&(S=y),0===S)break e;r.arraySet(p,f,g,S,x),b-=S,g+=S,y-=S,x+=S,n.length-=S;break}n.mode=12;break;case 17:for(;w<14;){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}if(n.nlen=257+(31&v),v>>>=5,w-=5,n.ndist=1+(31&v),v>>>=5,w-=5,n.ncode=4+(15&v),v>>>=4,w-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;w<3;){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}n.lens[q[n.have++]]=7&v,v>>>=3,w-=3}for(;n.have<19;)n.lens[q[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},L=l(0,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,L){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(F=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,z=65535&F,!((T=F>>>24)<=w);){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}if(z<16)v>>>=T,w-=T,n.lens[n.have++]=z;else{if(16===z){for(M=T+2;w<M;){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}if(v>>>=T,w-=T,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}D=n.lens[n.have-1],S=3+(3&v),v>>>=2,w-=2}else if(17===z){for(M=T+3;w<M;){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}w-=T,D=0,S=3+(7&(v>>>=T)),v>>>=3,w-=3}else{for(M=T+7;w<M;){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}w-=T,D=0,S=11+(127&(v>>>=T)),v>>>=7,w-=7}if(n.have+S>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;S--;)n.lens[n.have++]=D}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,R={bits:n.lenbits},L=l(o,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,L){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},L=l(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,L){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=b&&258<=y){e.next_out=x,e.avail_out=y,e.next_in=g,e.avail_in=b,n.hold=v,n.bits=w,i(e,N),x=e.next_out,p=e.output,y=e.avail_out,g=e.next_in,f=e.input,b=e.avail_in,v=n.hold,w=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;A=(F=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,z=65535&F,!((T=F>>>24)<=w);){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}if(A&&0==(240&A)){for(I=T,P=A,O=z;A=(F=n.lencode[O+((v&(1<<I+P)-1)>>I)])>>>16&255,z=65535&F,!(I+(T=F>>>24)<=w);){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}v>>>=I,w-=I,n.back+=I}if(v>>>=T,w-=T,n.back+=T,n.length=z,0===A){n.mode=26;break}if(32&A){n.back=-1,n.mode=12;break}if(64&A){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(M=n.extra;w<M;){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}n.length+=v&(1<<n.extra)-1,v>>>=n.extra,w-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(F=n.distcode[v&(1<<n.distbits)-1])>>>16&255,z=65535&F,!((T=F>>>24)<=w);){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}if(0==(240&A)){for(I=T,P=A,O=z;A=(F=n.distcode[O+((v&(1<<I+P)-1)>>I)])>>>16&255,z=65535&F,!(I+(T=F>>>24)<=w);){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}v>>>=I,w-=I,n.back+=I}if(v>>>=T,w-=T,n.back+=T,64&A){e.msg="invalid distance code",n.mode=30;break}n.offset=z,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(M=n.extra;w<M;){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}n.offset+=v&(1<<n.extra)-1,v>>>=n.extra,w-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===y)break e;if(S=N-y,n.offset>S){if((S=n.offset-S)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}C=S>n.wnext?(S-=n.wnext,n.wsize-S):n.wnext-S,S>n.length&&(S=n.length),E=n.window}else E=p,C=x-n.offset,S=n.length;for(y<S&&(S=y),y-=S,n.length-=S;p[x++]=E[C++],--S;);0===n.length&&(n.mode=21);break;case 26:if(0===y)break e;p[x++]=n.length,y--,n.mode=21;break;case 27:if(n.wrap){for(;w<32;){if(0===b)break e;b--,v|=f[g++]<<w,w+=8}if(N-=y,e.total_out+=N,n.total+=N,N&&(e.adler=n.check=n.flags?s(n.check,p,N,x-N):a(n.check,p,N,x-N)),N=y,(n.flags?v:m(v))!==n.check){e.msg="incorrect data check",n.mode=30;break}w=v=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;w<32;){if(0===b)break e;b--,v+=f[g++]<<w,w+=8}if(v!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}w=v=0}n.mode=29;case 29:L=1;break e;case 30:L=-3;break e;case 31:return-4;default:return d}return e.next_out=x,e.avail_out=y,e.next_in=g,e.avail_in=b,n.hold=v,n.bits=w,(n.wsize||N!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&_(e,e.output,e.next_out,N-e.avail_out)?(n.mode=31,-4):(j-=e.avail_in,N-=e.avail_out,e.total_in+=j,e.total_out+=N,n.total+=N,n.wrap&&N&&(e.adler=n.check=n.flags?s(n.check,p,N,e.next_out-N):a(n.check,p,N,e.next_out-N)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==j&&0===N||4===t)&&L===u&&(L=-5),L)},n.inflateEnd=function(e){if(!e||!e.state)return d;var t=e.state;return t.window&&(t.window=null),e.state=null,u},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?d:((n.head=t).done=!1,u):d},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?d:11===n.mode&&a(1,t,r,0)!==n.check?-3:_(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,u):d},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],i=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,o,c,u,d,h){var f,p,m,g,x,b,y,v,w,j=h.bits,N=0,k=0,_=0,S=0,C=0,E=0,T=0,A=0,z=0,I=0,P=null,O=0,D=new r.Buf16(16),L=new r.Buf16(16),R=null,M=0;for(N=0;N<=15;N++)D[N]=0;for(k=0;k<o;k++)D[t[n+k]]++;for(C=j,S=15;1<=S&&0===D[S];S--);if(S<C&&(C=S),0===S)return c[u++]=20971520,c[u++]=20971520,h.bits=1,0;for(_=1;_<S&&0===D[_];_++);for(C<_&&(C=_),N=A=1;N<=15;N++)if(A<<=1,(A-=D[N])<0)return-1;if(0<A&&(0===e||1!==S))return-1;for(L[1]=0,N=1;N<15;N++)L[N+1]=L[N]+D[N];for(k=0;k<o;k++)0!==t[n+k]&&(d[L[t[n+k]]++]=k);if(b=0===e?(P=R=d,19):1===e?(P=a,O-=257,R=s,M-=257,256):(P=i,R=l,-1),N=_,x=u,T=k=I=0,m=-1,g=(z=1<<(E=C))-1,1===e&&852<z||2===e&&592<z)return 1;for(;;){for(y=N-T,w=d[k]<b?(v=0,d[k]):d[k]>b?(v=R[M+d[k]],P[O+d[k]]):(v=96,0),f=1<<N-T,_=p=1<<E;c[x+(I>>T)+(p-=f)]=y<<24|v<<16|w,0!==p;);for(f=1<<N-1;I&f;)f>>=1;if(0!==f?(I&=f-1,I+=f):I=0,k++,0==--D[N]){if(N===S)break;N=t[n+d[k]]}if(C<N&&(I&g)!==m){for(0===T&&(T=C),x+=_,A=1<<(E=N-T);E+T<S&&!((A-=D[E+T])<=0);)E++,A<<=1;if(z+=1<<E,1===e&&852<z||2===e&&592<z)return 1;c[m=I&g]=C<<24|E<<16|x-u}}return 0!==I&&(c[x+I]=N-T<<24|64<<16),h.bits=C,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common"),a=0,s=1;function i(e){for(var t=e.length;0<=--t;)e[t]=0}var l=0,o=29,c=256,u=c+1+o,d=30,h=19,f=2*u+1,p=15,m=16,g=7,x=256,b=16,y=17,v=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_=new Array(2*(u+2));i(_);var S=new Array(2*d);i(S);var C=new Array(512);i(C);var E=new Array(256);i(E);var T=new Array(o);i(T);var A,z,I,P=new Array(d);function O(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}function D(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function L(e){return e<256?C[e]:C[256+(e>>>7)]}function R(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function M(e,t,n){e.bi_valid>m-n?(e.bi_buf|=t<<e.bi_valid&65535,R(e,e.bi_buf),e.bi_buf=t>>m-e.bi_valid,e.bi_valid+=n-m):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function F(e,t,n){M(e,n[2*t],n[2*t+1])}function U(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function q(e,t,n){var r,a,s=new Array(p+1),i=0;for(r=1;r<=p;r++)s[r]=i=i+n[r-1]<<1;for(a=0;a<=t;a++){var l=e[2*a+1];0!==l&&(e[2*a]=U(s[l]++,l))}}function B(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<h;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*x]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function H(e){8<e.bi_valid?R(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function W(e,t,n,r){var a=2*t,s=2*n;return e[a]<e[s]||e[a]===e[s]&&r[t]<=r[n]}function G(e,t,n){for(var r=e.heap[n],a=n<<1;a<=e.heap_len&&(a<e.heap_len&&W(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!W(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r}function V(e,t,n){var r,a,s,i,l=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],a=e.pending_buf[e.l_buf+l],l++,0===r?F(e,a,t):(F(e,(s=E[a])+c+1,t),0!==(i=w[s])&&M(e,a-=T[s],i),F(e,s=L(--r),n),0!==(i=j[s])&&M(e,r-=P[s],i)),l<e.last_lit;);F(e,x,t)}function K(e,t){var n,r,a,s=t.dyn_tree,i=t.stat_desc.static_tree,l=t.stat_desc.has_stree,o=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=f,n=0;n<o;n++)0!==s[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):s[2*n+1]=0;for(;e.heap_len<2;)s[2*(a=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[a]=0,e.opt_len--,l&&(e.static_len-=i[2*a+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)G(e,s,n);for(a=o;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],G(e,s,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,s[2*a]=s[2*n]+s[2*r],e.depth[a]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,s[2*n+1]=s[2*r+1]=a,e.heap[1]=a++,G(e,s,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,a,s,i,l,o=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,g=t.stat_desc.max_length,x=0;for(s=0;s<=p;s++)e.bl_count[s]=0;for(o[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<f;n++)g<(s=o[2*o[2*(r=e.heap[n])+1]+1]+1)&&(s=g,x++),o[2*r+1]=s,c<r||(e.bl_count[s]++,i=0,m<=r&&(i=h[r-m]),l=o[2*r],e.opt_len+=l*(s+i),d&&(e.static_len+=l*(u[2*r+1]+i)));if(0!==x){do{for(s=g-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[g]--,x-=2}while(0<x);for(s=g;0!==s;s--)for(r=e.bl_count[s];0!==r;)c<(a=e.heap[--n])||(o[2*a+1]!==s&&(e.opt_len+=(s-o[2*a+1])*o[2*a],o[2*a+1]=s),r--)}}(e,t),q(s,c,e.bl_count)}function Z(e,t,n){var r,a,s=-1,i=t[1],l=0,o=7,c=4;for(0===i&&(o=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=i,i=t[2*(r+1)+1],++l<o&&a===i||(l<c?e.bl_tree[2*a]+=l:0!==a?(a!==s&&e.bl_tree[2*a]++,e.bl_tree[2*b]++):l<=10?e.bl_tree[2*y]++:e.bl_tree[2*v]++,s=a,c=(l=0)===i?(o=138,3):a===i?(o=6,3):(o=7,4))}function $(e,t,n){var r,a,s=-1,i=t[1],l=0,o=7,c=4;for(0===i&&(o=138,c=3),r=0;r<=n;r++)if(a=i,i=t[2*(r+1)+1],!(++l<o&&a===i)){if(l<c)for(;F(e,a,e.bl_tree),0!=--l;);else 0!==a?(a!==s&&(F(e,a,e.bl_tree),l--),F(e,b,e.bl_tree),M(e,l-3,2)):l<=10?(F(e,y,e.bl_tree),M(e,l-3,3)):(F(e,v,e.bl_tree),M(e,l-11,7));s=a,c=(l=0)===i?(o=138,3):a===i?(o=6,3):(o=7,4)}}i(P);var Q=!1;function X(e,t,n,a){M(e,(l<<1)+(a?1:0),3),function(e,t,n,a){H(e),a&&(R(e,n),R(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){Q||(function(){var e,t,n,r,a,s=new Array(p+1);for(r=n=0;r<o-1;r++)for(T[r]=n,e=0;e<1<<w[r];e++)E[n++]=r;for(E[n-1]=r,r=a=0;r<16;r++)for(P[r]=a,e=0;e<1<<j[r];e++)C[a++]=r;for(a>>=7;r<d;r++)for(P[r]=a<<7,e=0;e<1<<j[r]-7;e++)C[256+a++]=r;for(t=0;t<=p;t++)s[t]=0;for(e=0;e<=143;)_[2*e+1]=8,e++,s[8]++;for(;e<=255;)_[2*e+1]=9,e++,s[9]++;for(;e<=279;)_[2*e+1]=7,e++,s[7]++;for(;e<=287;)_[2*e+1]=8,e++,s[8]++;for(q(_,u+1,s),e=0;e<d;e++)S[2*e+1]=5,S[2*e]=U(e,5);A=new O(_,w,c+1,u,p),z=new O(S,j,0,d,p),I=new O(new Array(0),N,0,h,g)}(),Q=!0),e.l_desc=new D(e.dyn_ltree,A),e.d_desc=new D(e.dyn_dtree,z),e.bl_desc=new D(e.bl_tree,I),e.bi_buf=0,e.bi_valid=0,B(e)},n._tr_stored_block=X,n._tr_flush_block=function(e,t,n,r){var i,l,o=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return a;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return s;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return s;return a}(e)),K(e,e.l_desc),K(e,e.d_desc),o=function(e){var t;for(Z(e,e.dyn_ltree,e.l_desc.max_code),Z(e,e.dyn_dtree,e.d_desc.max_code),K(e,e.bl_desc),t=h-1;3<=t&&0===e.bl_tree[2*k[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(l=e.static_len+3+7>>>3)<=i&&(i=l)):i=l=n+5,n+4<=i&&-1!==t?X(e,t,n,r):4===e.strategy||l===i?(M(e,2+(r?1:0),3),V(e,_,S)):(M(e,4+(r?1:0),3),function(e,t,n,r){var a;for(M(e,t-257,5),M(e,n-1,5),M(e,r-4,4),a=0;a<r;a++)M(e,e.bl_tree[2*k[a]+1],3);$(e,e.dyn_ltree,t-1),$(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),V(e,e.dyn_ltree,e.dyn_dtree)),B(e),r&&H(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(E[n]+c+1)]++,e.dyn_dtree[2*L(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){M(e,2,3),F(e,x,_),function(e){16===e.bi_valid?(R(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var n,r,a,s,i=1,l={},o=!1,c=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(s="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",f,!1):e.attachEvent("onmessage",f),function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){h(e.data)},function(e){a.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(h,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var a={callback:e,args:t};return l[i]=a,n(i),i++},u.clearImmediate=d}function d(e){delete l[e]}function h(e){if(o)setTimeout(h,0,e);else{var n=l[e];if(n){o=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{d(e),o=!1}}}}function f(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&h(+t.data.slice(s.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=x.prototype;var v=y.prototype=new b;v.constructor=y,m(v,x.prototype),v.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var a,s={},i=null,l=null;if(null!=t)for(a in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)j.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var o=arguments.length-2;if(1===o)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps)void 0===s[a]&&(s[a]=o[a]);return{$$typeof:n,type:e,key:i,ref:l,props:s,_owner:N.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,a,s,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o=!1;if(null===e)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case r:o=!0}}if(o)return i=i(o=e),e=""===s?"."+E(o,0):s,w(i)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),T(i,t,a,"",(function(e){return e}))):null!=i&&(S(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+E(l=e[c],c);o+=T(l,t,a,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(l=e.next()).done;)o+=T(l=l.value,t,a,u=s+E(l,c++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function A(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function z(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},P={transition:null},O={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:P,ReactCurrentOwner:N};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=a,t.Profiler=i,t.PureComponent=y,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),s=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];a.children=o}return{$$typeof:n,type:e.type,key:s,ref:i,props:a,_owner:l}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:z}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var l=2*(r+1)-1,o=e[l],c=l+1,u=e[c];if(0>s(o,n))c<a&&0>s(u,o)?(e[r]=u,e[c]=n,r=c):(e[r]=o,e[l]=n,r=l);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,v(e),!m)if(null!==r(c))m=!0,P(j);else{var t=r(u);null!==t&&O(w,t.startTime-e)}}function j(e,n){m=!1,g&&(g=!1,b(S),S=-1),p=!0;var s=f;try{for(v(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var l=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?h.callback=l:h===r(c)&&a(c),v(n)}else a(c);h=r(c)}if(null!==h)var o=!0;else{var d=r(u);null!==d&&O(w,d.startTime-n),o=!1}return o}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,_=null,S=-1,C=5,E=-1;function T(){return!(t.unstable_now()-E<C)}function A(){if(null!==_){var e=t.unstable_now();E=e;var n=!0;try{n=_(!0,e)}finally{n?N():(k=!1,_=null)}}else k=!1}if("function"===typeof y)N=function(){y(A)};else if("undefined"!==typeof MessageChannel){var z=new MessageChannel,I=z.port2;z.port1.onmessage=A,N=function(){I.postMessage(null)}}else N=function(){x(A,0)};function P(e){_=e,k||(k=!0,N())}function O(e,n){S=x((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>i?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(S),S=-1):g=!0,O(w,s-i))):(e.sortIndex=l,n(c,e),m||p||(m=!0,P(j))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),a=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var x=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(x,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(x,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(x,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,R=Object.assign;function M(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(1!==i||1!==l)do{if(i--,0>--l||a[i]!==s[l]){var o="\n"+a[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=i&&0<=l);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function q(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case _:return"Profiler";case k:return"StrictMode";case T:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case z:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Y(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var xe=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,ke=null;function _e(e){if(e=ya(e)){if("function"!==typeof je)throw Error(s(280));var t=e.stateNode;t&&(t=wa(t),je(e.stateNode,e.type,t))}}function Se(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Ce(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ee(e,t){return e(t)}function Te(){}var Ae=!1;function ze(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ee(e,t,n)}finally{Ae=!1,(null!==Ne||null!==ke)&&(Te(),Ce())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Pe=!1}function De(e,t,n,r,a,s,i,l,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Re=null,Me=!1,Fe=null,Ue={onError:function(e){Le=!0,Re=e}};function qe(e,t,n,r,a,s,i,l,o){Le=!1,Re=null,De.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return We(a),e;if(i===r)return We(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var l=!1,o=a.child;o;){if(o===n){l=!0,n=a,r=i;break}if(o===r){l=!0,r=a,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=a;break}if(o===r){l=!0,r=i,n=a;break}o=o.sibling}if(!l)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Ze=a.unstable_cancelCallback,$e=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Xe=a.unstable_now,Ye=a.unstable_getCurrentPriorityLevel,Je=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ot|0)|0},lt=Math.log,ot=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var l=i&~a;0!==l?r=dt(l):0!==(s&=i)&&(r=dt(s))}else 0!==(i=n&~a)?r=dt(i):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var yt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,Nt,kt,_t,St=!1,Ct=[],Et=null,Tt=null,At=null,zt=new Map,It=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":zt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Lt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=ya(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Rt(e){var t=ba(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void _t(e.priority,(function(){Nt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ya(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function Ft(e,t,n){Mt(e)&&n.delete(t)}function Ut(){St=!1,null!==Et&&Mt(Et)&&(Et=null),null!==Tt&&Mt(Tt)&&(Tt=null),null!==At&&Mt(At)&&(At=null),zt.forEach(Ft),It.forEach(Ft)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return qt(t,e)}if(0<Ct.length){qt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&qt(Et,e),null!==Tt&&qt(Tt,e),null!==At&&qt(At,e),zt.forEach(t),It.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Rt(n),null===n.blockedOn&&Pt.shift()}var Ht=v.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var a=yt,s=Ht.transition;Ht.transition=null;try{yt=1,Kt(e,t,n,r)}finally{yt=a,Ht.transition=s}}function Vt(e,t,n,r){var a=yt,s=Ht.transition;Ht.transition=null;try{yt=4,Kt(e,t,n,r)}finally{yt=a,Ht.transition=s}}function Kt(e,t,n,r){if(Wt){var a=$t(e,t,n,r);if(null===a)Wr(e,t,r,Zt,n),Dt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Et=Lt(Et,e,t,n,r,a),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,r,a),!0;case"mouseover":return At=Lt(At,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return zt.set(s,Lt(zt.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,It.set(s,Lt(It.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==a;){var s=ya(a);if(null!==s&&wt(s),null===(s=$t(e,t,n,r))&&Wr(e,t,r,Zt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Zt=null;function $t(e,t,n,r){if(Zt=null,null!==(e=ba(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Yt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Yt,r=n.length,a="value"in Xt?Xt.value:Xt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Jt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,ln,on,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=R({},cn,{view:0,detail:0}),hn=an(dn),fn=R({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(sn=e.screenX-on.screenX,ln=e.screenY-on.screenY):ln=sn=0,on=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),pn=an(fn),mn=an(R({},fn,{dataTransfer:0})),gn=an(R({},dn,{relatedTarget:0})),xn=an(R({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=R({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(bn),vn=an(R({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function _n(){return kn}var Sn=R({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Sn),En=an(R({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(R({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),An=an(R({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),zn=R({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=an(zn),Pn=[9,13,27,32],On=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Dn,Rn=u&&(!On||Dn&&8<Dn&&11>=Dn),Mn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,r){Se(r),0<(t=Vr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Kn=null;function Zn(e){Mr(e,0)}function $n(e){if(K(va(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Yn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Yn=Jn}else Yn=!1;Xn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),Kn=Vn=null)}function nr(e){if("value"===e.propertyName&&$n(Kn)){var t=[];Gn(t,Kn,e,we(e)),ze(Zn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Kn)}function sr(e,t){if("click"===e)return $n(t)}function ir(e,t){if("input"===e||"change"===e)return $n(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!lr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=ur(n,s);var i=ur(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,xr=null,br=null,yr=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==Z(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&or(br,r)||(br=r,0<(r=Vr(xr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Nr={},kr={};function _r(e){if(Nr[e])return Nr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Nr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var Sr=_r("animationend"),Cr=_r("animationiteration"),Er=_r("animationstart"),Tr=_r("transitionend"),Ar=new Map,zr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Ar.set(e,t),o(t,[e])}for(var Pr=0;Pr<zr.length;Pr++){var Or=zr[Pr];Ir(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Ir(Sr,"onAnimationEnd"),Ir(Cr,"onAnimationIteration"),Ir(Er,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,l,o,c){if(qe.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Re;Le=!1,Re=null,Me||(Me=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==s&&a.isPropagationStopped())break e;Rr(a,l,c),s=o}else for(i=0;i<r.length;i++){if(o=(l=r[i]).instance,c=l.currentTarget,l=l.listener,o!==s&&a.isPropagationStopped())break e;Rr(a,l,c),s=o}}}if(Me)throw e=Fe,Me=!1,Fe=null,e}function Fr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[qr]){e[qr]=!0,i.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Ur("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Qt(t)){case 1:var a=Gt;break;case 4:a=Vt;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===a||8===l.nodeType&&l.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var o=i.tag;if((3===o||4===o)&&((o=i.stateNode.containerInfo)===a||8===o.nodeType&&o.parentNode===a))return;i=i.return}for(;null!==l;){if(null===(i=ba(l)))return;if(5===(o=i.tag)||6===o){r=s=i;continue e}l=l.parentNode}}r=r.return}ze((function(){var r=s,a=we(n),i=[];e:{var l=Ar.get(e);if(void 0!==l){var o=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":o=Cn;break;case"focusin":c="focus",o=gn;break;case"focusout":c="blur",o=gn;break;case"beforeblur":case"afterblur":o=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Tn;break;case Sr:case Cr:case Er:o=xn;break;case Tr:o=An;break;case"scroll":o=hn;break;case"wheel":o=In;break;case"copy":case"cut":case"paste":o=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=En}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==l?l+"Capture":null:l;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ie(p,h))&&u.push(Gr(p,m,f)))),d)break;p=p.return}0<u.length&&(l=new o(l,c,null,n,a),i.push({event:l,listeners:u}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!ba(c)&&!c[pa])&&(o||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=r,null!==(c=(c=n.relatedTarget||n.toElement)?ba(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=r),o!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==o?l:va(o),f=null==c?l:va(c),(l=new u(m,p+"leave",o,n,a)).target=d,l.relatedTarget=f,m=null,ba(a)===r&&((u=new u(h,p+"enter",c,n,a)).target=f,u.relatedTarget=d,m=u),d=m,o&&c)e:{for(h=c,p=0,f=u=o;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==o&&Zr(i,l,o,u,!1),null!==c&&null!==d&&Zr(i,d,c,u,!0)}if("select"===(o=(l=r?va(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var g=Qn;else if(Wn(l))if(Xn)g=ir;else{g=ar;var x=rr}else(o=l.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=sr);switch(g&&(g=g(e,r))?Gn(i,g,n,a):(x&&x(e,l,r),"focusout"===e&&(x=l._wrapperState)&&x.controlled&&"number"===l.type&&ee(l,"number",l.value)),x=r?va(r):window,e){case"focusin":(Wn(x)||"true"===x.contentEditable)&&(gr=x,xr=r,br=null);break;case"focusout":br=xr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,vr(i,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":vr(i,n,a)}var b;if(On)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Bn?Un(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Rn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Bn&&(b=en()):(Yt="value"in(Xt=a)?Xt.value:Xt.textContent,Bn=!0)),0<(x=Vr(r,y)).length&&(y=new vn(y,e,null,n,a),i.push({event:y,listeners:x}),b?y.data=b:null!==(b=qn(n))&&(y.data=b))),(b=Ln?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),Jt=Yt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(a=new vn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=b))}Mr(i,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Ie(e,n))&&r.unshift(Gr(e,s,a)),null!=(s=Ie(e,t))&&r.push(Gr(e,s,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var l=n,o=l.alternate,c=l.stateNode;if(null!==o&&o===r)break;5===l.tag&&null!==c&&(l=c,a?null!=(o=Ie(n,s))&&i.unshift(Gr(n,o,l)):a||null!=(o=Ie(n,s))&&i.push(Gr(n,o,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var $r=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Qr,"")}function Yr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Jr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(la)}:ra;function la(e){setTimeout((function(){throw e}))}function oa(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Bt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,xa="__reactHandles$"+da;function ba(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ya(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function va(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wa(e){return e[fa]||null}var ja=[],Na=-1;function ka(e){return{current:e}}function _a(e){0>Na||(e.current=ja[Na],ja[Na]=null,Na--)}function Sa(e,t){Na++,ja[Na]=e.current,e.current=t}var Ca={},Ea=ka(Ca),Ta=ka(!1),Aa=Ca;function za(e,t){var n=e.type.contextTypes;if(!n)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ia(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pa(){_a(Ta),_a(Ea)}function Oa(e,t,n){if(Ea.current!==Ca)throw Error(s(168));Sa(Ea,t),Sa(Ta,n)}function Da(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,H(e)||"Unknown",a));return R({},n,r)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Aa=Ea.current,Sa(Ea,e),Sa(Ta,Ta.current),!0}function Ra(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Da(e,t,Aa),r.__reactInternalMemoizedMergedChildContext=e,_a(Ta),_a(Ea),Sa(Ea,e)):_a(Ta),Sa(Ta,n)}var Ma=null,Fa=!1,Ua=!1;function qa(e){null===Ma?Ma=[e]:Ma.push(e)}function Ba(){if(!Ua&&null!==Ma){Ua=!0;var e=0,t=yt;try{var n=Ma;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ma=null,Fa=!1}catch(a){throw null!==Ma&&(Ma=Ma.slice(e+1)),Ke(Je,Ba),a}finally{yt=t,Ua=!1}}return null}var Ha=[],Wa=0,Ga=null,Va=0,Ka=[],Za=0,$a=null,Qa=1,Xa="";function Ya(e,t){Ha[Wa++]=Va,Ha[Wa++]=Ga,Ga=e,Va=t}function Ja(e,t,n){Ka[Za++]=Qa,Ka[Za++]=Xa,Ka[Za++]=$a,$a=e;var r=Qa;e=Xa;var a=32-it(r)-1;r&=~(1<<a),n+=1;var s=32-it(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Qa=1<<32-it(t)+a|n<<a|r,Xa=s+e}else Qa=1<<s|n<<a|r,Xa=e}function es(e){null!==e.return&&(Ya(e,1),Ja(e,1,0))}function ts(e){for(;e===Ga;)Ga=Ha[--Wa],Ha[Wa]=null,Va=Ha[--Wa],Ha[Wa]=null;for(;e===$a;)$a=Ka[--Za],Ka[Za]=null,Xa=Ka[--Za],Ka[Za]=null,Qa=Ka[--Za],Ka[Za]=null}var ns=null,rs=null,as=!1,ss=null;function is(e,t){var n=zc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ls(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$a?{id:Qa,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=zc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function os(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!ls(e,t)){if(os(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&ls(e,t)?is(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(os(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!as)return us(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(os(e))throw hs(),Error(s(418));for(;t;)is(e,t),t=ca(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ca(e.nextSibling)}function fs(){rs=ns=null,as=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=v.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function xs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=Rc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===N?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===I&&bs(s)===t.type)?((r=a(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case j:return(t=Mc(t,e.mode,n)).return=e,t;case I:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;xs(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:o(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case j:return n.key===a?u(e,t,n,r):null;case I:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||D(n))return null!==a?null:d(e,t,n,r,null);xs(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return o(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case j:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case I:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,a,null);xs(t,r)}return null}function m(a,s,l,o){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<l.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var x=f(a,d,l[m],o);if(null===x){null===d&&(d=g);break}e&&d&&null===x.alternate&&t(a,d),s=i(x,s,m),null===u?c=x:u.sibling=x,u=x,d=g}if(m===l.length)return n(a,d),as&&Ya(a,m),c;if(null===d){for(;m<l.length;m++)null!==(d=h(a,l[m],o))&&(s=i(d,s,m),null===u?c=d:u.sibling=d,u=d);return as&&Ya(a,m),c}for(d=r(a,d);m<l.length;m++)null!==(g=p(d,a,m,l[m],o))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=i(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(a,e)})),as&&Ya(a,m),c}function g(a,l,o,c){var u=D(o);if("function"!==typeof u)throw Error(s(150));if(null==(o=u.call(o)))throw Error(s(151));for(var d=u=null,m=l,g=l=0,x=null,b=o.next();null!==m&&!b.done;g++,b=o.next()){m.index>g?(x=m,m=null):x=m.sibling;var y=f(a,m,b.value,c);if(null===y){null===m&&(m=x);break}e&&m&&null===y.alternate&&t(a,m),l=i(y,l,g),null===d?u=y:d.sibling=y,d=y,m=x}if(b.done)return n(a,m),as&&Ya(a,g),u;if(null===m){for(;!b.done;g++,b=o.next())null!==(b=h(a,b.value,c))&&(l=i(b,l,g),null===d?u=b:d.sibling=b,d=b);return as&&Ya(a,g),u}for(m=r(a,m);!b.done;g++,b=o.next())null!==(b=p(m,a,g,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),l=i(b,l,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(a,e)})),as&&Ya(a,g),u}return function e(r,s,i,o){if("object"===typeof i&&null!==i&&i.type===N&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,u=s;null!==u;){if(u.key===c){if((c=i.type)===N){if(7===u.tag){n(r,u.sibling),(s=a(u,i.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&bs(c)===u.type){n(r,u.sibling),(s=a(u,i.props)).ref=gs(r,u,i),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===N?((s=Dc(i.props.children,r.mode,o,i.key)).return=r,r=s):((o=Oc(i.type,i.key,i.props,null,r.mode,o)).ref=gs(r,s,i),o.return=r,r=o)}return l(r);case j:e:{for(u=i.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(r,s.sibling),(s=a(s,i.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Mc(i,r.mode,o)).return=r,r=s}return l(r);case I:return e(r,s,(u=i._init)(i._payload),o)}if(te(i))return m(r,s,i,o);if(D(i))return g(r,s,i,o);xs(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,i)).return=r,r=s):(n(r,s),(s=Rc(i,r.mode,o)).return=r,r=s),l(r)):n(r,s)}}var vs=ys(!0),ws=ys(!1),js=ka(null),Ns=null,ks=null,_s=null;function Ss(){_s=ks=Ns=null}function Cs(e){var t=js.current;_a(js),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ts(e,t){Ns=e,_s=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bl=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(_s!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Ns)throw Error(s(308));ks=e,Ns.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var zs=null;function Is(e){null===zs?zs=[e]:zs.push(e)}function Ps(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Is(t)):(n.next=a.next,a.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Eo)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Os(e,n)}return null===(a=r.interleaved)?(t.next=t,Is(r)):(t.next=a.next,a.next=t),r.interleaved=t,Os(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function qs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var a=e.updateQueue;Ds=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?s=c:i.next=c,i=o;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=o))}if(null!==s){var d=a.baseState;for(i=0,u=c=o=null,l=s;;){var h=l.lane,f=l.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,m=l;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=R({},d,h);break e;case 2:Ds=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=f,o=d):u=u.next=f,i|=h;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(h=l).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(o=d),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Lo|=i,e.lanes=i,e.memoizedState=d}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Ws={},Gs=ka(Ws),Vs=ka(Ws),Ks=ka(Ws);function Zs(e){if(e===Ws)throw Error(s(174));return e}function $s(e,t){switch(Sa(Ks,t),Sa(Vs,e),Sa(Gs,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_a(Gs),Sa(Gs,t)}function Qs(){_a(Gs),_a(Vs),_a(Ks)}function Xs(e){Zs(Ks.current);var t=Zs(Gs.current),n=oe(t,e.type);t!==n&&(Sa(Vs,e),Sa(Gs,n))}function Ys(e){Vs.current===e&&(_a(Gs),_a(Vs))}var Js=ka(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=v.ReactCurrentDispatcher,ai=v.ReactCurrentBatchConfig,si=0,ii=null,li=null,oi=null,ci=!1,ui=!1,di=0,hi=0;function fi(){throw Error(s(321))}function pi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function mi(e,t,n,r,a,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Yi:Ji,e=n(r,a),ui){i=0;do{if(ui=!1,di=0,25<=i)throw Error(s(301));i+=1,oi=li=null,t.updateQueue=null,ri.current=el,e=n(r,a)}while(ui)}if(ri.current=Xi,t=null!==li&&null!==li.next,si=0,oi=li=ii=null,ci=!1,t)throw Error(s(300));return e}function gi(){var e=0!==di;return di=0,e}function xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oi?ii.memoizedState=oi=e:oi=oi.next=e,oi}function bi(){if(null===li){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===oi?ii.memoizedState:oi.next;if(null!==t)oi=t,li=e;else{if(null===e)throw Error(s(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===oi?ii.memoizedState=oi=e:oi=oi.next=e}return oi}function yi(e,t){return"function"===typeof t?t(e):t}function vi(e){var t=bi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=li,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var l=a.next;a.next=i.next,i.next=l}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var o=l=null,c=null,u=i;do{var d=u.lane;if((si&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(o=c=h,l=r):c=c.next=h,ii.lanes|=d,Lo|=d}u=u.next}while(null!==u&&u!==i);null===c?l=r:c.next=o,lr(r,t.memoizedState)||(bl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,ii.lanes|=i,Lo|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wi(e){var t=bi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var l=a=a.next;do{i=e(i,l.action),l=l.next}while(l!==a);lr(i,t.memoizedState)||(bl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ji(){}function Ni(e,t){var n=ii,r=bi(),a=t(),i=!lr(r.memoizedState,a);if(i&&(r.memoizedState=a,bl=!0),r=r.queue,Di(Si.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==oi&&1&oi.memoizedState.tag){if(n.flags|=2048,Ai(9,_i.bind(null,n,r,a,t),void 0,null),null===To)throw Error(s(349));0!==(30&si)||ki(n,t,a)}return a}function ki(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _i(e,t,n,r){t.value=n,t.getSnapshot=r,Ci(t)&&Ei(e)}function Si(e,t,n){return n((function(){Ci(t)&&Ei(e)}))}function Ci(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function Ei(e){var t=Os(e,1);null!==t&&nc(t,e,1,-1)}function Ti(e){var t=xi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ki.bind(null,ii,e),[t.memoizedState,e]}function Ai(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zi(){return bi().memoizedState}function Ii(e,t,n,r){var a=xi();ii.flags|=e,a.memoizedState=Ai(1|t,n,void 0,void 0===r?null:r)}function Pi(e,t,n,r){var a=bi();r=void 0===r?null:r;var s=void 0;if(null!==li){var i=li.memoizedState;if(s=i.destroy,null!==r&&pi(r,i.deps))return void(a.memoizedState=Ai(t,n,s,r))}ii.flags|=e,a.memoizedState=Ai(1|t,n,s,r)}function Oi(e,t){return Ii(8390656,8,e,t)}function Di(e,t){return Pi(2048,8,e,t)}function Li(e,t){return Pi(4,2,e,t)}function Ri(e,t){return Pi(4,4,e,t)}function Mi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pi(4,4,Mi.bind(null,t,e),n)}function Ui(){}function qi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hi(e,t,n){return 0===(21&si)?(e.baseState&&(e.baseState=!1,bl=!0),e.memoizedState=n):(lr(n,t)||(n=mt(),ii.lanes|=n,Lo|=n,e.baseState=!0),t)}function Wi(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=ai.transition;ai.transition={};try{e(!1),t()}finally{yt=n,ai.transition=r}}function Gi(){return bi().memoizedState}function Vi(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zi(e))$i(t,n);else if(null!==(n=Ps(e,t,n,r))){nc(n,e,r,ec()),Qi(n,t,r)}}function Ki(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zi(e))$i(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=s(i,n);if(a.hasEagerState=!0,a.eagerState=l,lr(l,i)){var o=t.interleaved;return null===o?(a.next=a,Is(t)):(a.next=o.next,o.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Ps(e,t,a,r))&&(nc(n,e,r,a=ec()),Qi(n,t,r))}}function Zi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function $i(e,t){ui=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Xi={readContext:As,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},Yi={readContext:As,useCallback:function(e,t){return xi().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Oi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ii(4194308,4,Mi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ii(4,2,e,t)},useMemo:function(e,t){var n=xi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vi.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xi().memoizedState=e},useState:Ti,useDebugValue:Ui,useDeferredValue:function(e){return xi().memoizedState=e},useTransition:function(){var e=Ti(!1),t=e[0];return e=Wi.bind(null,e[1]),xi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ii,a=xi();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===To)throw Error(s(349));0!==(30&si)||ki(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Oi(Si.bind(null,r,i,e),[e]),r.flags|=2048,Ai(9,_i.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=xi(),t=To.identifierPrefix;if(as){var n=Xa;t=":"+t+"R"+(n=(Qa&~(1<<32-it(Qa)-1)).toString(32)+n),0<(n=di++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ji={readContext:As,useCallback:qi,useContext:As,useEffect:Di,useImperativeHandle:Fi,useInsertionEffect:Li,useLayoutEffect:Ri,useMemo:Bi,useReducer:vi,useRef:zi,useState:function(){return vi(yi)},useDebugValue:Ui,useDeferredValue:function(e){return Hi(bi(),li.memoizedState,e)},useTransition:function(){return[vi(yi)[0],bi().memoizedState]},useMutableSource:ji,useSyncExternalStore:Ni,useId:Gi,unstable_isNewReconciler:!1},el={readContext:As,useCallback:qi,useContext:As,useEffect:Di,useImperativeHandle:Fi,useInsertionEffect:Li,useLayoutEffect:Ri,useMemo:Bi,useReducer:wi,useRef:zi,useState:function(){return wi(yi)},useDebugValue:Ui,useDeferredValue:function(e){var t=bi();return null===li?t.memoizedState=e:Hi(t,li.memoizedState,e)},useTransition:function(){return[wi(yi)[0],bi().memoizedState]},useMutableSource:ji,useSyncExternalStore:Ni,useId:Gi,unstable_isNewReconciler:!1};function tl(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function nl(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var rl={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Ms(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,a))&&(nc(t,e,a,r),Us(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Ms(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,a))&&(nc(t,e,a,r),Us(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Ms(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Fs(e,a,r))&&(nc(t,e,r,n),Us(t,e,r))}};function al(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(a,s))}function sl(e,t,n){var r=!1,a=Ca,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(a=Ia(t)?Aa:Ea.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?za(e,a):Ca),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=rl,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function il(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&rl.enqueueReplaceState(t,t.state,null)}function ll(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=As(s):(s=Ia(t)?Aa:Ea.current,a.context=za(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(nl(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&rl.enqueueReplaceState(a,a.state,null),Bs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ol(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function cl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ul(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var dl="function"===typeof WeakMap?WeakMap:Map;function hl(e,t,n){(n=Ms(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wo||(Wo=!0,Go=r),ul(0,t)},n}function fl(e,t,n){(n=Ms(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ul(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ul(0,t),"function"!==typeof r&&(null===Vo?Vo=new Set([this]):Vo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new dl;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function ml(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gl(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ms(-1,1)).tag=2,Fs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var xl=v.ReactCurrentOwner,bl=!1;function yl(e,t,n,r){t.child=null===e?ws(t,null,n,r):vs(t,e.child,n,r)}function vl(e,t,n,r,a){n=n.render;var s=t.ref;return Ts(t,a),r=mi(e,t,n,r,s,a),n=gi(),null===e||bl?(as&&n&&es(t),t.flags|=1,yl(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hl(e,t,a))}function wl(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Ic(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,jl(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:or)(i,r)&&e.ref===t.ref)return Hl(e,t,a)}return t.flags|=1,(e=Pc(s,r)).ref=t.ref,e.return=t,t.child=e}function jl(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(or(s,r)&&e.ref===t.ref){if(bl=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Hl(e,t,a);0!==(131072&e.flags)&&(bl=!0)}}return _l(e,t,n,r,a)}function Nl(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sa(Po,Io),Io|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sa(Po,Io),Io|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Sa(Po,Io),Io|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Sa(Po,Io),Io|=r;return yl(e,t,a,n),t.child}function kl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _l(e,t,n,r,a){var s=Ia(n)?Aa:Ea.current;return s=za(t,s),Ts(t,a),n=mi(e,t,n,r,s,a),r=gi(),null===e||bl?(as&&r&&es(t),t.flags|=1,yl(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hl(e,t,a))}function Sl(e,t,n,r,a){if(Ia(n)){var s=!0;La(t)}else s=!1;if(Ts(t,a),null===t.stateNode)Bl(e,t),sl(t,n,r),ll(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var o=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=za(t,c=Ia(n)?Aa:Ea.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==r||o!==c)&&il(t,i,r,c),Ds=!1;var h=t.memoizedState;i.state=h,Bs(t,r,i,a),o=t.memoizedState,l!==r||h!==o||Ta.current||Ds?("function"===typeof u&&(nl(t,n,u,r),o=t.memoizedState),(l=Ds||al(t,n,l,r,h,o,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),i.props=r,i.state=o,i.context=c,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Rs(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:tl(t.type,l),i.props=c,d=t.pendingProps,h=i.context,"object"===typeof(o=n.contextType)&&null!==o?o=As(o):o=za(t,o=Ia(n)?Aa:Ea.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==d||h!==o)&&il(t,i,r,o),Ds=!1,h=t.memoizedState,i.state=h,Bs(t,r,i,a);var p=t.memoizedState;l!==d||h!==p||Ta.current||Ds?("function"===typeof f&&(nl(t,n,f,r),p=t.memoizedState),(c=Ds||al(t,n,c,r,h,p,o)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,o),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,o)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=o,r=c):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cl(e,t,n,r,s,a)}function Cl(e,t,n,r,a,s){kl(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&Ra(t,n,!1),Hl(e,t,s);r=t.stateNode,xl.current=t;var l=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=vs(t,e.child,null,s),t.child=vs(t,null,l,s)):yl(e,t,l,s),t.memoizedState=r.state,a&&Ra(t,n,!0),t.child}function El(e){var t=e.stateNode;t.pendingContext?Oa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oa(0,t.context,!1),$s(e,t.containerInfo)}function Tl(e,t,n,r,a){return fs(),ps(a),t.flags|=256,yl(e,t,n,r),t.child}var Al,zl,Il,Pl,Ol={dehydrated:null,treeContext:null,retryLane:0};function Dl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ll(e,t,n){var r,a=t.pendingProps,i=Js.current,l=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Sa(Js,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=a.children,e=a.fallback,l?(a=t.mode,l=t.child,o={mode:"hidden",children:o},0===(1&a)&&null!==l?(l.childLanes=0,l.pendingProps=o):l=Lc(o,a,0,null),e=Dc(e,a,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Dl(n),t.memoizedState=Ol,e):Rl(t,o));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,l){if(n)return 256&t.flags?(t.flags&=-257,Ml(e,t,l,r=cl(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Lc({mode:"visible",children:r.children},a,0,null),(i=Dc(i,a,l,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&vs(t,e.child,null,l),t.child.memoizedState=Dl(l),t.memoizedState=Ol,i);if(0===(1&t.mode))return Ml(e,t,l,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var o=r.dgst;return r=o,Ml(e,t,l,r=cl(i=Error(s(419)),r,void 0))}if(o=0!==(l&e.childLanes),bl||o){if(null!==(r=To)){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|l))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Os(e,a),nc(r,e,a,-1))}return mc(),Ml(e,t,l,r=cl(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(Ka[Za++]=Qa,Ka[Za++]=Xa,Ka[Za++]=$a,Qa=e.id,Xa=e.overflow,$a=t),t=Rl(t,r.children),t.flags|=4096,t)}(e,t,o,a,r,i,n);if(l){l=a.fallback,o=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&o)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Pc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?l=Pc(r,l):(l=Dc(l,o,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,o=null===(o=e.child.memoizedState)?Dl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=Ol,a}return e=(l=e.child).sibling,a=Pc(l,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Rl(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ml(e,t,n,r){return null!==r&&ps(r),vs(t,e.child,null,n),(e=Rl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function Ul(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function ql(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(yl(e,t,r.children,n),0!==(2&(r=Js.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fl(e,n,t);else if(19===e.tag)Fl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Sa(Js,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ul(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ei(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ul(t,!0,n,null,s);break;case"together":Ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lo|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wl(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vl(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gl(t),null;case 1:case 17:return Ia(t.type)&&Pa(),Gl(t),null;case 3:return r=t.stateNode,Qs(),_a(Ta),_a(Ea),ni(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ic(ss),ss=null))),zl(e,t),Gl(t),null;case 5:Ys(t);var a=Zs(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Il(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Gl(t),null}if(e=Zs(Gs.current),ds(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ha]=t,r[fa]=i,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(a=0;a<Dr.length;a++)Fr(Dr[a],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Q(r,i),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fr("invalid",r);break;case"textarea":ae(r,i),Fr("invalid",r)}for(var o in be(n,i),a=null,i)if(i.hasOwnProperty(o)){var c=i[o];"children"===o?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Yr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Yr(r.textContent,c,e),a=["children",""+c]):l.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Fr("scroll",r)}switch(n){case"input":V(r),J(r,i,!0);break;case"textarea":V(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Jr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ha]=t,e[fa]=r,Al(e,t,!1,!1),t.stateNode=e;e:{switch(o=ye(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),a=r;break;case"iframe":case"object":case"embed":Fr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Dr.length;a++)Fr(Dr[a],e);a=r;break;case"source":Fr("error",e),a=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=r;break;case"details":Fr("toggle",e),a=r;break;case"input":Q(e,r),a=$(e,r),Fr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=R({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Fr("invalid",e)}for(i in be(n,a),c=a)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ge(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Fr("scroll",e):null!=u&&y(e,i,u,o))}switch(n){case"input":V(e),J(e,r,!1);break;case"textarea":V(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gl(t),null;case 6:if(e&&null!=t.stateNode)Pl(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Zs(Ks.current),Zs(Gs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(i=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Gl(t),null;case 13:if(_a(Js),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,i=!1;else if(i=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[ha]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gl(t),i=!1}else null!==ss&&(ic(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Js.current)?0===Oo&&(Oo=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gl(t),null);case 4:return Qs(),zl(e,t),null===e&&Br(t.stateNode.containerInfo),Gl(t),null;case 10:return Cs(t.type._context),Gl(t),null;case 19:if(_a(Js),null===(i=t.memoizedState))return Gl(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)Wl(i,!1);else{if(0!==Oo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ei(e))){for(t.flags|=128,Wl(i,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(o=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sa(Js,1&Js.current|2),t.child}e=e.sibling}null!==i.tail&&Xe()>Bo&&(t.flags|=128,r=!0,Wl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(o))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!as)return Gl(t),null}else 2*Xe()-i.renderingStartTime>Bo&&1073741824!==n&&(t.flags|=128,r=!0,Wl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=i.last)?n.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,n=Js.current,Sa(Js,r?1&n|2:1&n),t):(Gl(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Io)&&(Gl(t),6&t.subtreeFlags&&(t.flags|=8192)):Gl(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Kl(e,t){switch(ts(t),t.tag){case 1:return Ia(t.type)&&Pa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),_a(Ta),_a(Ea),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ys(t),null;case 13:if(_a(Js),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _a(Js),null;case 4:return Qs(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Al=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zl=function(){},Il=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Zs(Gs.current);var s,i=null;switch(n){case"input":a=$(e,a),r=$(e,r),i=[];break;case"select":a=R({},a,{value:void 0}),r=R({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in be(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(l.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(o=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(null!=c||null!=o))if("style"===u)if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(l.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Pl=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zl=!1,$l=!1,Ql="function"===typeof WeakSet?WeakSet:Set,Xl=null;function Yl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function Jl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var eo=!1;function to(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&Jl(t,n,s)}a=a.next}while(a!==r)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ro(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ao(e){var t=e.alternate;null!==t&&(e.alternate=null,ao(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[ga],delete t[xa])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function so(e){return 5===e.tag||3===e.tag||4===e.tag}function io(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||so(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(lo(e,t,n),e=e.sibling;null!==e;)lo(e,t,n),e=e.sibling}function oo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(oo(e,t,n),e=e.sibling;null!==e;)oo(e,t,n),e=e.sibling}var co=null,uo=!1;function ho(e,t,n){for(n=n.child;null!==n;)fo(e,t,n),n=n.sibling}function fo(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(l){}switch(n.tag){case 5:$l||Yl(n,t);case 6:var r=co,a=uo;co=null,ho(e,t,n),uo=a,null!==(co=r)&&(uo?(e=co,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):co.removeChild(n.stateNode));break;case 18:null!==co&&(uo?(e=co,n=n.stateNode,8===e.nodeType?oa(e.parentNode,n):1===e.nodeType&&oa(e,n),Bt(e)):oa(co,n.stateNode));break;case 4:r=co,a=uo,co=n.stateNode.containerInfo,uo=!0,ho(e,t,n),co=r,uo=a;break;case 0:case 11:case 14:case 15:if(!$l&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&Jl(n,t,i),a=a.next}while(a!==r)}ho(e,t,n);break;case 1:if(!$l&&(Yl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){kc(n,t,l)}ho(e,t,n);break;case 21:ho(e,t,n);break;case 22:1&n.mode?($l=(r=$l)||null!==n.memoizedState,ho(e,t,n),$l=r):ho(e,t,n);break;default:ho(e,t,n)}}function po(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ql),t.forEach((function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mo(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(s(160));fo(i,l,a),co=null,uo=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){kc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)go(t,e),t=t.sibling}function go(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mo(t,e),xo(e),4&r){try{to(3,e,e.return),no(3,e)}catch(g){kc(e,e.return,g)}try{to(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:mo(t,e),xo(e),512&r&&null!==n&&Yl(n,n.return);break;case 5:if(mo(t,e),xo(e),512&r&&null!==n&&Yl(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,l=null!==n?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===i.type&&null!=i.name&&X(a,i),ye(o,l);var u=ye(o,i);for(l=0;l<c.length;l+=2){var d=c[l],h=c[l+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):y(a,d,h,u)}switch(o){case"input":Y(a,i);break;case"textarea":se(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(a,!!i.multiple,p,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[fa]=i}catch(g){kc(e,e.return,g)}}break;case 6:if(mo(t,e),xo(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){kc(e,e.return,g)}}break;case 3:if(mo(t,e),xo(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:mo(t,e),xo(e);break;case 13:mo(t,e),xo(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(qo=Xe())),4&r&&po(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($l=(u=$l)||d,mo(t,e),$l=u):mo(t,e),xo(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xl=e,d=e.child;null!==d;){for(h=Xl=d;null!==Xl;){switch(p=(f=Xl).child,f.tag){case 0:case 11:case 14:case 15:to(4,f,f.return);break;case 1:Yl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Yl(f,f.return);break;case 22:if(null!==f.memoizedState){wo(h);continue}}null!==p?(p.return=f,Xl=p):wo(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(o=h.stateNode,l=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=me("display",l))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mo(t,e),xo(e),4&r&&po(e);case 21:}}function xo(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(so(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),oo(e,io(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;lo(e,io(e),i);break;default:throw Error(s(161))}}catch(l){kc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bo(e,t,n){Xl=e,yo(e,t,n)}function yo(e,t,n){for(var r=0!==(1&e.mode);null!==Xl;){var a=Xl,s=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Zl;if(!i){var l=a.alternate,o=null!==l&&null!==l.memoizedState||$l;l=Zl;var c=$l;if(Zl=i,($l=o)&&!c)for(Xl=a;null!==Xl;)o=(i=Xl).child,22===i.tag&&null!==i.memoizedState?jo(a):null!==o?(o.return=i,Xl=o):jo(a);for(;null!==s;)Xl=s,yo(s,t,n),s=s.sibling;Xl=a,Zl=l,$l=c}vo(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Xl=s):vo(e)}}function vo(e){for(;null!==Xl;){var t=Xl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$l||no(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$l)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:tl(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Hs(t,i,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,l,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}$l||512&t.flags&&ro(t)}catch(f){kc(t,t.return,f)}}if(t===e){Xl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xl=n;break}Xl=t.return}}function wo(e){for(;null!==Xl;){var t=Xl;if(t===e){Xl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xl=n;break}Xl=t.return}}function jo(e){for(;null!==Xl;){var t=Xl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{no(4,t)}catch(o){kc(t,n,o)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(o){kc(t,a,o)}}var s=t.return;try{ro(t)}catch(o){kc(t,s,o)}break;case 5:var i=t.return;try{ro(t)}catch(o){kc(t,i,o)}}}catch(o){kc(t,t.return,o)}if(t===e){Xl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Xl=l;break}Xl=t.return}}var No,ko=Math.ceil,_o=v.ReactCurrentDispatcher,So=v.ReactCurrentOwner,Co=v.ReactCurrentBatchConfig,Eo=0,To=null,Ao=null,zo=0,Io=0,Po=ka(0),Oo=0,Do=null,Lo=0,Ro=0,Mo=0,Fo=null,Uo=null,qo=0,Bo=1/0,Ho=null,Wo=!1,Go=null,Vo=null,Ko=!1,Zo=null,$o=0,Qo=0,Xo=null,Yo=-1,Jo=0;function ec(){return 0!==(6&Eo)?Xe():-1!==Yo?Yo:Yo=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Eo)&&0!==zo?zo&-zo:null!==ms.transition?(0===Jo&&(Jo=mt()),Jo):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Qo)throw Qo=0,Xo=null,Error(s(185));xt(e,n,r),0!==(2&Eo)&&e===To||(e===To&&(0===(2&Eo)&&(Ro|=n),4===Oo&&lc(e,zo)),rc(e,r),1===n&&0===Eo&&0===(1&t.mode)&&(Bo=Xe()+500,Fa&&Ba()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),l=1<<i,o=a[i];-1===o?0!==(l&n)&&0===(l&r)||(a[i]=ft(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}}(e,t);var r=ht(e,e===To?zo:0);if(0===r)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){Fa=!0,qa(e)}(oc.bind(null,e)):qa(oc.bind(null,e)),ia((function(){0===(6&Eo)&&Ba()})),n=null;else{switch(vt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Yo=-1,Jo=0,0!==(6&Eo))throw Error(s(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var r=ht(e,e===To?zo:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=Eo;Eo|=2;var i=pc();for(To===e&&zo===t||(Ho=null,Bo=Xe()+500,hc(e,t));;)try{bc();break}catch(o){fc(e,o)}Ss(),_o.current=i,Eo=a,null!==Ao?t=0:(To=null,zo=0,t=Oo)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t)throw n=Do,hc(e,0),lc(e,r),rc(e,Xe()),n;if(6===t)lc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!lr(s(),a))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t))throw n=Do,hc(e,0),lc(e,r),rc(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Uo,Ho);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=qo+500-Xe())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Uo,Ho),t);break}wc(e,Uo,Ho);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var l=31-it(r);i=1<<l,(l=t[l])>a&&(a=l),r&=~i}if(r=a,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ko(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Uo,Ho),r);break}wc(e,Uo,Ho);break;default:throw Error(s(329))}}}return rc(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=Fo;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Uo,Uo=n,null!==t&&ic(t)),e}function ic(e){null===Uo?Uo=e:Uo.push.apply(Uo,e)}function lc(e,t){for(t&=~Mo,t&=~Ro,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(0!==(6&Eo))throw Error(s(327));jc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Do,hc(e,0),lc(e,t),rc(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Uo,Ho),rc(e,Xe()),null}function cc(e,t){var n=Eo;Eo|=1;try{return e(t)}finally{0===(Eo=n)&&(Bo=Xe()+500,Fa&&Ba())}}function uc(e){null!==Zo&&0===Zo.tag&&0===(6&Eo)&&jc();var t=Eo;Eo|=1;var n=Co.transition,r=yt;try{if(Co.transition=null,yt=1,e)return e()}finally{yt=r,Co.transition=n,0===(6&(Eo=t))&&Ba()}}function dc(){Io=Po.current,_a(Po)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Ao)for(n=Ao.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pa();break;case 3:Qs(),_a(Ta),_a(Ea),ni();break;case 5:Ys(r);break;case 4:Qs();break;case 13:case 19:_a(Js);break;case 10:Cs(r.type._context);break;case 22:case 23:dc()}n=n.return}if(To=e,Ao=e=Pc(e.current,null),zo=Io=t,Oo=0,Do=null,Mo=Ro=Lo=0,Uo=Fo=null,null!==zs){for(t=0;t<zs.length;t++)if(null!==(r=(n=zs[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var i=s.next;s.next=a,r.next=i}n.pending=r}zs=null}return e}function fc(e,t){for(;;){var n=Ao;try{if(Ss(),ri.current=Xi,ci){for(var r=ii.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ci=!1}if(si=0,oi=li=ii=null,ui=!1,di=0,So.current=null,null===n||null===n.return){Oo=1,Do=t,Ao=null;break}e:{var i=e,l=n.return,o=n,c=t;if(t=zo,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=o,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ml(l);if(null!==p){p.flags&=-257,gl(p,l,o,0,t),1&p.mode&&pl(i,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){pl(i,u,t),mc();break e}c=Error(s(426))}else if(as&&1&o.mode){var x=ml(l);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),gl(x,l,o,0,t),ps(ol(c,o));break e}}i=c=ol(c,o),4!==Oo&&(Oo=2),null===Fo?Fo=[i]:Fo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,qs(i,hl(0,c,t));break e;case 1:o=c;var b=i.type,y=i.stateNode;if(0===(128&i.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Vo||!Vo.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,qs(i,fl(i,o,t));break e}}i=i.return}while(null!==i)}vc(n)}catch(v){t=v,Ao===n&&null!==n&&(Ao=n=n.return);continue}break}}function pc(){var e=_o.current;return _o.current=Xi,null===e?Xi:e}function mc(){0!==Oo&&3!==Oo&&2!==Oo||(Oo=4),null===To||0===(268435455&Lo)&&0===(268435455&Ro)||lc(To,zo)}function gc(e,t){var n=Eo;Eo|=2;var r=pc();for(To===e&&zo===t||(Ho=null,hc(e,t));;)try{xc();break}catch(a){fc(e,a)}if(Ss(),Eo=n,_o.current=r,null!==Ao)throw Error(s(261));return To=null,zo=0,Oo}function xc(){for(;null!==Ao;)yc(Ao)}function bc(){for(;null!==Ao&&!$e();)yc(Ao)}function yc(e){var t=No(e.alternate,e,Io);e.memoizedProps=e.pendingProps,null===t?vc(e):Ao=t,So.current=null}function vc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Vl(n,t,Io)))return void(Ao=n)}else{if(null!==(n=Kl(n,t)))return n.flags&=32767,void(Ao=n);if(null===e)return Oo=6,void(Ao=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ao=t);Ao=t=e}while(null!==t);0===Oo&&(Oo=5)}function wc(e,t,n){var r=yt,a=Co.transition;try{Co.transition=null,yt=1,function(e,t,n,r){do{jc()}while(null!==Zo);if(0!==(6&Eo))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,i),e===To&&(Ao=To=null,zo=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ko||(Ko=!0,Tc(tt,(function(){return jc(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Co.transition,Co.transition=null;var l=yt;yt=1;var o=Eo;Eo|=4,So.current=null,function(e,t){if(ea=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(w){n=null;break e}var l=0,o=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(o=l+a),h!==i||0!==r&&3!==h.nodeType||(c=l+r),3===h.nodeType&&(l+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(o=l),f===i&&++d===r&&(c=l),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Wt=!1,Xl=t;null!==Xl;)if(e=(t=Xl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xl=e;else for(;null!==Xl;){t=Xl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,x=m.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:tl(t.type,g),x);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xl=e;break}Xl=t.return}m=eo,eo=!1}(e,n),go(n,e),pr(ta),Wt=!!ea,ta=ea=null,e.current=n,bo(n,e,a),Qe(),Eo=o,yt=l,Co.transition=i}else e.current=n;if(Ko&&(Ko=!1,Zo=e,$o=a),i=e.pendingLanes,0===i&&(Vo=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Wo)throw Wo=!1,e=Go,Go=null,e;0!==(1&$o)&&0!==e.tag&&jc(),i=e.pendingLanes,0!==(1&i)?e===Xo?Qo++:(Qo=0,Xo=e):Qo=0,Ba()}(e,t,n,r)}finally{Co.transition=a,yt=r}return null}function jc(){if(null!==Zo){var e=vt($o),t=Co.transition,n=yt;try{if(Co.transition=null,yt=16>e?16:e,null===Zo)var r=!1;else{if(e=Zo,Zo=null,$o=0,0!==(6&Eo))throw Error(s(331));var a=Eo;for(Eo|=4,Xl=e.current;null!==Xl;){var i=Xl,l=i.child;if(0!==(16&Xl.flags)){var o=i.deletions;if(null!==o){for(var c=0;c<o.length;c++){var u=o[c];for(Xl=u;null!==Xl;){var d=Xl;switch(d.tag){case 0:case 11:case 15:to(8,d,i)}var h=d.child;if(null!==h)h.return=d,Xl=h;else for(;null!==Xl;){var f=(d=Xl).sibling,p=d.return;if(ao(d),d===u){Xl=null;break}if(null!==f){f.return=p,Xl=f;break}Xl=p}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}Xl=i}}if(0!==(2064&i.subtreeFlags)&&null!==l)l.return=i,Xl=l;else e:for(;null!==Xl;){if(0!==(2048&(i=Xl).flags))switch(i.tag){case 0:case 11:case 15:to(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,Xl=b;break e}Xl=i.return}}var y=e.current;for(Xl=y;null!==Xl;){var v=(l=Xl).child;if(0!==(2064&l.subtreeFlags)&&null!==v)v.return=l,Xl=v;else e:for(l=y;null!==Xl;){if(0!==(2048&(o=Xl).flags))try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(j){kc(o,o.return,j)}if(o===l){Xl=null;break e}var w=o.sibling;if(null!==w){w.return=o.return,Xl=w;break e}Xl=o.return}}if(Eo=a,Ba(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(j){}r=!0}return r}finally{yt=n,Co.transition=t}}return!1}function Nc(e,t,n){e=Fs(e,t=hl(0,t=ol(n,t),1),1),t=ec(),null!==e&&(xt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vo||!Vo.has(r))){t=Fs(t,e=fl(t,e=ol(n,e),1),1),e=ec(),null!==t&&(xt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,To===e&&(zo&n)===n&&(4===Oo||3===Oo&&(130023424&zo)===zo&&500>Xe()-qo?hc(e,0):Mo|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Os(e,t))&&(xt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Sc(e,n)}function Tc(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zc(e,t,n,r){return new Ac(e,t,n,r)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,a,i){var l=2;if(r=e,"function"===typeof e)Ic(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case N:return Dc(n.children,a,i,t);case k:l=8,a|=8;break;case _:return(e=zc(12,n,t,2|a)).elementType=_,e.lanes=i,e;case T:return(e=zc(13,n,t,a)).elementType=T,e.lanes=i,e;case A:return(e=zc(19,n,t,a)).elementType=A,e.lanes=i,e;case P:return Lc(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:l=10;break e;case C:l=9;break e;case E:l=11;break e;case z:l=14;break e;case I:l=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=zc(l,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Dc(e,t,n,r){return(e=zc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=zc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Rc(e,t,n){return(e=zc(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=zc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,a,s,i,l,o){return e=new Fc(e,t,n,l,o),1===t?(t=1,!0===s&&(t|=8)):t=0,s=zc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function qc(e){if(!e)return Ca;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ia(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ia(n))return Da(e,n,t)}return t}function Bc(e,t,n,r,a,s,i,l,o){return(e=Uc(n,r,!0,e,0,s,0,l,o)).context=qc(null),n=e.current,(s=Ms(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Fs(n,s,a),e.current.lanes=a,xt(e,a,r),rc(e,r),e}function Hc(e,t,n,r){var a=t.current,s=ec(),i=tc(a);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ms(s,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fs(a,t,i))&&(nc(e,a,i,s),Us(e,a,i)),i}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}No=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ta.current)bl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bl=!1,function(e,t,n){switch(t.tag){case 3:El(t),fs();break;case 5:Xs(t);break;case 1:Ia(t.type)&&La(t);break;case 4:$s(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Sa(js,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Sa(Js,1&Js.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ll(e,t,n):(Sa(Js,1&Js.current),null!==(e=Hl(e,t,n))?e.sibling:null);Sa(Js,1&Js.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ql(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sa(Js,Js.current),r)break;return null;case 22:case 23:return t.lanes=0,Nl(e,t,n)}return Hl(e,t,n)}(e,t,n);bl=0!==(131072&e.flags)}else bl=!1,as&&0!==(1048576&t.flags)&&Ja(t,Va,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bl(e,t),e=t.pendingProps;var a=za(t,Ea.current);Ts(t,n),a=mi(null,t,r,e,a,n);var i=gi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ia(r)?(i=!0,La(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ls(t),a.updater=rl,t.stateNode=a,a._reactInternals=t,ll(t,r,e,n),t=Cl(null,t,r,!0,i,n)):(t.tag=0,as&&i&&es(t),yl(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bl(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===z)return 14}return 2}(r),e=tl(r,e),a){case 0:t=_l(null,t,r,e,n);break e;case 1:t=Sl(null,t,r,e,n);break e;case 11:t=vl(null,t,r,e,n);break e;case 14:t=wl(null,t,r,tl(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,_l(e,t,r,a=t.elementType===r?a:tl(r,a),n);case 1:return r=t.type,a=t.pendingProps,Sl(e,t,r,a=t.elementType===r?a:tl(r,a),n);case 3:e:{if(El(t),null===e)throw Error(s(387));r=t.pendingProps,a=(i=t.memoizedState).element,Rs(e,t),Bs(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Tl(e,t,r,n,a=ol(Error(s(423)),t));break e}if(r!==a){t=Tl(e,t,r,n,a=ol(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===a){t=Hl(e,t,n);break e}yl(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&cs(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,l=a.children,na(r,a)?l=null:null!==i&&na(r,i)&&(t.flags|=32),kl(e,t),yl(e,t,l,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Ll(e,t,n);case 4:return $s(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=vs(t,null,r,n):yl(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,vl(e,t,r,a=t.elementType===r?a:tl(r,a),n);case 7:return yl(e,t,t.pendingProps,n),t.child;case 8:case 12:return yl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,Sa(js,r._currentValue),r._currentValue=l,null!==i)if(lr(i.value,l)){if(i.children===a.children&&!Ta.current){t=Hl(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var o=i.dependencies;if(null!==o){l=i.child;for(var c=o.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Ms(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Es(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(s(341));l.lanes|=n,null!==(o=l.alternate)&&(o.lanes|=n),Es(l,n,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}yl(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ts(t,n),r=r(a=As(a)),t.flags|=1,yl(e,t,r,n),t.child;case 14:return a=tl(r=t.type,t.pendingProps),wl(e,t,r,a=tl(r.type,a),n);case 15:return jl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:tl(r,a),Bl(e,t),t.tag=1,Ia(r)?(e=!0,La(t)):e=!1,Ts(t,n),sl(t,r,a),ll(t,r,a,n),Cl(null,t,r,!0,e,n);case 19:return ql(e,t,n);case 22:return Nl(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yc(){}function Jc(e,t,n,r,a){var s=n._reactRootContainer;if(s){var i=s;if("function"===typeof a){var l=a;a=function(){var e=Wc(i);l.call(e)}}Hc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Wc(i);s.call(e)}}var i=Bc(t,r,e,0,null,!1,0,"",Yc);return e._reactRootContainer=i,e[pa]=i.current,Br(8===e.nodeType?e.parentNode:e),uc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var l=r;r=function(){var e=Wc(o);l.call(e)}}var o=Uc(e,0,!1,null,0,!1,0,"",Yc);return e._reactRootContainer=o,e[pa]=o.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,o,n,r)})),o}(n,t,e,a,r);return Wc(i)}$c.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},$c.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[pa]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Rt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Xe()),0===(6&Eo)&&(Bo=Xe()+500,Ba()))}break;case 13:uc((function(){var t=Os(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Vc(e,1)}},jt=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)nc(t,e,134217728,ec());Vc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=Os(e,t);if(null!==n)nc(n,e,t,ec());Vc(e,t)}},kt=function(){return yt},_t=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},je=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(s(90));K(r),Y(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Te=uc;var eu={usingClientEntryPoint:!1,Events:[ya,va,wa,Se,Ce,cc]},tu={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var n=!1,r="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Br(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",l=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,a,0,i,l),e[pa]=t.current,Br(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".2b82ad96.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="i-prompt:";n.l=(r,a,s,i)=>{if(e[r])e[r].push(a);else{var l,o;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){l=d;break}}l||(o=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+s),l.src=r),e[r]=[a];var h=(t,n)=>{l.onerror=l.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=h.bind(null,l.onerror),l.onload=h.bind(null,l.onload),o&&document.head.appendChild(l)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/I-Prompt/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var s=new Promise(((n,r)=>a=e[t]=[n,r]));r.push(a[2]=s);var i=n.p+n.u(t),l=new Error;n.l(i,(r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",l.name="ChunkLoadError",l.type=s,l.request=i,a[1](l)}}),"chunk-"+t,t)}};var t=(t,r)=>{var a,s,i=r[0],l=r[1],o=r[2],c=0;if(i.some((t=>0!==e[t]))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(o)o(n)}for(t&&t(r);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunki_prompt=self.webpackChunki_prompt||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(43),t=n(391);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c=["color","size","strokeWidth","absoluteStrokeWidth","children"];var u=(t,n)=>{const r=(0,e.forwardRef)(((r,a)=>{let{color:s="currentColor",size:i=24,strokeWidth:u=2,absoluteStrokeWidth:d,children:h}=r,f=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(r,c);return(0,e.createElement)("svg",l(l({ref:a},o),{},{width:i,height:i,stroke:s,strokeWidth:d?24*Number(u)/Number(i):u,className:"lucide lucide-".concat((p=t,p.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},f),[...n.map((t=>{let[n,r]=t;return(0,e.createElement)(n,r)})),...(Array.isArray(h)?h:[h])||[]]);var p}));return r.displayName="".concat(t),r};const d=u("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),h=u("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),f=u("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),p=u("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),m=u("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),g=u("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),x=u("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),b=u("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),y=u("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),v=u("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),w=u("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),j=u("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),N=u("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),k=u("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),_=u("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),S=u("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),C={APIS:[{name:"SiliconFlow-DeepSeek-R1",provider:"siliconflow",baseUrl:"https://api.siliconflow.cn/v1",apiKey:{NODE_ENV:"production",PUBLIC_URL:"/I-Prompt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SILICONFLOW_API_KEY||"sk-zzvfbjuitzusxvjwztcfrlpnjzcfdkutdkgxnhrwgihtytkh",model:"deepseek-ai/DeepSeek-R1",available:!0,priority:1,description:"DeepSeek-R1 \u63a8\u7406\u6a21\u578b\uff0c\u7406\u89e3\u80fd\u529b\u5f3a"},{name:"SiliconFlow-DeepSeek-V3",provider:"siliconflow",baseUrl:"https://api.siliconflow.cn/v1",apiKey:{NODE_ENV:"production",PUBLIC_URL:"/I-Prompt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SILICONFLOW_API_KEY||"sk-zzvfbjuitzusxvjwztcfrlpnjzcfdkutdkgxnhrwgihtytkh",model:"deepseek-ai/DeepSeek-V3",available:!0,priority:2,description:"DeepSeek-V3 \u6700\u65b0\u6a21\u578b\uff0c\u6027\u80fd\u66f4\u5f3a"},{name:"SiliconFlow-DeepSeek-R1-Qwen3",provider:"siliconflow",baseUrl:"https://api.siliconflow.cn/v1",apiKey:{NODE_ENV:"production",PUBLIC_URL:"/I-Prompt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SILICONFLOW_API_KEY||"sk-zzvfbjuitzusxvjwztcfrlpnjzcfdkutdkgxnhrwgihtytkh",model:"deepseek-ai/DeepSeek-R1-0528-Qwen3-8B",available:!0,priority:3,description:"DeepSeek-R1 Qwen3\u6df7\u5408\u6a21\u578b"},{name:"NVIDIA-DeepSeek-R1",provider:"nvidia",baseUrl:"https://integrate.api.nvidia.com/v1",apiKey:"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",model:"deepseek-ai/deepseek-r1",available:!0,priority:4,description:"NVIDIA API DeepSeek-R1 \u6a21\u578b",headers:{"User-Agent":"I-Prompt/3.0 NVIDIA-API-Client"}},{name:"OpenRouter-DeepSeek",provider:"openrouter",baseUrl:"https://openrouter.ai/api/v1",apiKey:"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",model:"deepseek/deepseek-chat",available:!0,priority:5,description:"OpenRouter DeepSeek \u6a21\u578b",headers:{"HTTP-Referer":window.location.origin,"X-Title":"I-Prompt Assistant"}},{name:"\u667a\u8c31GLM",provider:"zhipu",baseUrl:"https://open.bigmodel.cn/api/paas/v4/",apiKey:"",model:"glm-4-flash",available:!1,priority:6,description:"\u667a\u8c31AI GLM-4-Flash\u6a21\u578b\uff0c\u514d\u8d39\u9ad8\u8d28\u91cfAI\u751f\u6210",requiresApiKey:!0,headers:{"User-Agent":"I-Prompt/3.0 Zhipu-API-Client"}}],DEFAULT_PARAMS:{max_tokens:512,temperature:.7,top_p:.9,stream:!1},HEALTH_CHECK:{TIMEOUT:5e3,RETRY_INTERVAL:3e4,MAX_RETRIES:3}},E={MAX_INPUT_LENGTH:500,MIN_INPUT_LENGTH:2,API:{CURRENT_API:null,AVAILABLE_APIS:[],MAX_TOKENS:512,TEMPERATURE_RANGE:[.6,1],TOP_P:.9},FILE_UPLOAD:{MAX_SIZE:10485760,ALLOWED_TYPES:["image/jpeg","image/png","image/webp","image/gif"],ALLOWED_EXTENSIONS:[".jpg",".jpeg",".png",".webp",".gif"]},UI:{DEBOUNCE_DELAY:300,TOAST_DURATION:3e3,ANIMATION_DURATION:300},FEATURES:{AI_GENERATION:!0,IMAGE_EXTRACTION:!0,OFFLINE_MODE:!0,DARK_MODE:!1},NAME:"I Prompt",VERSION:"1.0.0",DESCRIPTION:"\u667a\u80fd\u63d0\u793a\u8bcd\u52a9\u624b\uff0c\u8ba9AI\u521b\u4f5c\u66f4\u7b80\u5355",AUTHOR:"I Prompt Team",LOCAL_PORT:3e3,GENERATION_TIMEOUT:3e4},T={VALIDATION:{EMPTY_INPUT:"\u8bf7\u8f93\u5165\u63cf\u8ff0\u5185\u5bb9",INPUT_TOO_SHORT:"\u8f93\u5165\u5185\u5bb9\u81f3\u5c11\u9700\u8981".concat(E.MIN_INPUT_LENGTH,"\u4e2a\u5b57\u7b26"),INPUT_TOO_LONG:"\u8f93\u5165\u5185\u5bb9\u4e0d\u80fd\u8d85\u8fc7".concat(E.MAX_INPUT_LENGTH,"\u4e2a\u5b57\u7b26"),INVALID_FILE_TYPE:"\u4e0d\u652f\u6301\u7684\u6587\u4ef6\u7c7b\u578b",FILE_TOO_LARGE:"\u6587\u4ef6\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7".concat(E.FILE_UPLOAD.MAX_SIZE/1024/1024,"MB"),NO_FILE_SELECTED:"\u8bf7\u9009\u62e9\u6587\u4ef6"},API:{NETWORK_ERROR:"\u7f51\u7edc\u8fde\u63a5\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e",SERVER_ERROR:"\u670d\u52a1\u5668\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",TIMEOUT_ERROR:"\u8bf7\u6c42\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5",RATE_LIMIT:"\u8bf7\u6c42\u9891\u7387\u8fc7\u9ad8\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",INVALID_RESPONSE:"API\u8fd4\u56de\u6570\u636e\u683c\u5f0f\u9519\u8bef"},GENERAL:{UNKNOWN_ERROR:"\u672a\u77e5\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5",COPY_FAILED:"\u590d\u5236\u5230\u526a\u8d34\u677f\u5931\u8d25",PASTE_FAILED:"\u7c98\u8d34\u5931\u8d25"}},A=async e=>{try{if(navigator.clipboard&&window.isSecureContext)return await navigator.clipboard.writeText(e),!0;const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.opacity="0",t.style.pointerEvents="none",document.body.appendChild(t),t.focus(),t.select();const n=document.execCommand("copy");return document.body.removeChild(t),n}catch(t){return console.error("\u590d\u5236\u5931\u8d25:",t),!1}},z={GENERATED_PROMPTS:"i_prompt_generated_prompts",INPUT_HISTORY:"i_prompt_input_history",USER_PREFERENCES:"i_prompt_user_preferences",GENERATION_SESSIONS:"i_prompt_generation_sessions",DRAFT_CONTENT:"i_prompt_draft_content"};const I=new class{constructor(){this.isSupported=this.checkStorageSupport()}checkStorageSupport(){try{const e="__localStorage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return console.warn("LocalStorage\u4e0d\u652f\u6301\uff0c\u6570\u636e\u4e0d\u4f1a\u6301\u4e45\u5316"),!1}}safeStringify(e){try{return JSON.stringify(e)}catch(t){return console.error("JSON\u5e8f\u5217\u5316\u5931\u8d25:",t),null}}safeParse(e){try{return JSON.parse(e)}catch(t){return console.error("JSON\u89e3\u6790\u5931\u8d25:",t),null}}saveGeneratedPrompt(e){var t,n;if(!this.isSupported)return!1;const r=Date.now().toString(),a={id:r,timestamp:(new Date).toISOString(),inputText:e.inputText,selectedStyle:e.selectedStyle,generatedPrompt:e.generatedPrompt,metadata:{source:e.source||"ai",generationCount:e.generationCount||1,characterCount:(null===(t=e.generatedPrompt)||void 0===t?void 0:t.length)||0,tagCount:(null===(n=e.generatedPrompt)||void 0===n?void 0:n.split(",").length)||0}};try{const e=[a,...this.getGeneratedPrompts().slice(0,49)];return localStorage.setItem(z.GENERATED_PROMPTS,this.safeStringify(e)),this.saveGenerationSession(a),console.log("\u2705 \u63d0\u793a\u8bcd\u5df2\u4fdd\u5b58\u5230\u672c\u5730\u5b58\u50a8:",r),r}catch(s){return console.error("\u4fdd\u5b58\u751f\u6210\u63d0\u793a\u8bcd\u5931\u8d25:",s),!1}}getGeneratedPrompts(){if(!this.isSupported)return[];try{const e=localStorage.getItem(z.GENERATED_PROMPTS);return e&&this.safeParse(e)||[]}catch(e){return console.error("\u83b7\u53d6\u751f\u6210\u63d0\u793a\u8bcd\u5931\u8d25:",e),[]}}getGeneratedPromptById(e){return this.getGeneratedPrompts().find((t=>t.id===e))||null}deleteGeneratedPrompt(e){if(!this.isSupported)return!1;try{const t=this.getGeneratedPrompts().filter((t=>t.id!==e));return localStorage.setItem(z.GENERATED_PROMPTS,this.safeStringify(t)),!0}catch(t){return console.error("\u5220\u9664\u63d0\u793a\u8bcd\u5931\u8d25:",t),!1}}saveInputHistory(e,t){if(!this.isSupported||null===e||void 0===e||!e.trim())return!1;try{const n=this.getInputHistory(),r={text:e.trim(),style:t||"",timestamp:(new Date).toISOString()},a=n.filter((e=>e.text!==r.text||e.style!==r.style)),s=[r,...a.slice(0,19)];return localStorage.setItem(z.INPUT_HISTORY,this.safeStringify(s)),!0}catch(n){return console.error("\u4fdd\u5b58\u8f93\u5165\u5386\u53f2\u5931\u8d25:",n),!1}}getInputHistory(){if(!this.isSupported)return[];try{const e=localStorage.getItem(z.INPUT_HISTORY);return e&&this.safeParse(e)||[]}catch(e){return console.error("\u83b7\u53d6\u8f93\u5165\u5386\u53f2\u5931\u8d25:",e),[]}}saveDraftContent(e){if(!this.isSupported)return!1;try{const t={inputText:e.inputText||"",selectedStyle:e.selectedStyle||"",timestamp:(new Date).toISOString()};return localStorage.setItem(z.DRAFT_CONTENT,this.safeStringify(t)),!0}catch(t){return console.error("\u4fdd\u5b58\u8349\u7a3f\u5931\u8d25:",t),!1}}getDraftContent(){if(!this.isSupported)return null;try{const e=localStorage.getItem(z.DRAFT_CONTENT),t=e?this.safeParse(e):null;if(t&&t.timestamp){const e=new Date(t.timestamp),n=new Date;if((n-e)/36e5>24)return this.clearDraftContent(),null}return t}catch(e){return console.error("\u83b7\u53d6\u8349\u7a3f\u5931\u8d25:",e),null}}clearDraftContent(){if(!this.isSupported)return!1;try{return localStorage.removeItem(z.DRAFT_CONTENT),!0}catch(e){return console.error("\u6e05\u9664\u8349\u7a3f\u5931\u8d25:",e),!1}}saveUserPreferences(e){if(!this.isSupported)return!1;try{const t=l(l({},this.getUserPreferences()),e);return localStorage.setItem(z.USER_PREFERENCES,this.safeStringify(t)),!0}catch(t){return console.error("\u4fdd\u5b58\u7528\u6237\u504f\u597d\u5931\u8d25:",t),!1}}getUserPreferences(){if(!this.isSupported)return{};try{const e=localStorage.getItem(z.USER_PREFERENCES);return e&&this.safeParse(e)||{}}catch(e){return console.error("\u83b7\u53d6\u7528\u6237\u504f\u597d\u5931\u8d25:",e),{}}}saveGenerationSession(e){if(!this.isSupported)return!1;try{const t=[e,...this.getGenerationSessions().slice(0,9)];return localStorage.setItem(z.GENERATION_SESSIONS,this.safeStringify(t)),!0}catch(t){return console.error("\u4fdd\u5b58\u751f\u6210\u4f1a\u8bdd\u5931\u8d25:",t),!1}}getGenerationSessions(){if(!this.isSupported)return[];try{const e=localStorage.getItem(z.GENERATION_SESSIONS);return e&&this.safeParse(e)||[]}catch(e){return console.error("\u83b7\u53d6\u751f\u6210\u4f1a\u8bdd\u5931\u8d25:",e),[]}}clearAllData(){if(!this.isSupported)return!1;try{return Object.values(z).forEach((e=>{localStorage.removeItem(e)})),console.log("\u2705 \u6240\u6709\u672c\u5730\u6570\u636e\u5df2\u6e05\u9664"),!0}catch(e){return console.error("\u6e05\u9664\u6570\u636e\u5931\u8d25:",e),!1}}getStorageStats(){if(!this.isSupported)return null;try{const e={generatedPrompts:this.getGeneratedPrompts().length,inputHistory:this.getInputHistory().length,generationSessions:this.getGenerationSessions().length,hasDraft:!!this.getDraftContent(),storageSize:0};return Object.values(z).forEach((t=>{const n=localStorage.getItem(t);n&&(e.storageSize+=n.length)})),e.storageSizeKB=Math.round(e.storageSize/1024*100)/100,e}catch(e){return console.error("\u83b7\u53d6\u5b58\u50a8\u7edf\u8ba1\u5931\u8d25:",e),null}}exportData(){if(!this.isSupported)return null;try{return{generatedPrompts:this.getGeneratedPrompts(),inputHistory:this.getInputHistory(),userPreferences:this.getUserPreferences(),generationSessions:this.getGenerationSessions(),exportDate:(new Date).toISOString(),version:"1.0"}}catch(e){return console.error("\u5bfc\u51fa\u6570\u636e\u5931\u8d25:",e),null}}importData(e){if(!this.isSupported||!e)return!1;try{return e.generatedPrompts&&localStorage.setItem(z.GENERATED_PROMPTS,this.safeStringify(e.generatedPrompts)),e.inputHistory&&localStorage.setItem(z.INPUT_HISTORY,this.safeStringify(e.inputHistory)),e.userPreferences&&localStorage.setItem(z.USER_PREFERENCES,this.safeStringify(e.userPreferences)),e.generationSessions&&localStorage.setItem(z.GENERATION_SESSIONS,this.safeStringify(e.generationSessions)),console.log("\u2705 \u6570\u636e\u5bfc\u5165\u6210\u529f"),!0}catch(t){return console.error("\u5bfc\u5165\u6570\u636e\u5931\u8d25:",t),!1}}},{saveGeneratedPrompt:P,getGeneratedPrompts:O,getGeneratedPromptById:D,deleteGeneratedPrompt:L,saveInputHistory:R,getInputHistory:M,saveDraftContent:F,getDraftContent:U,clearDraftContent:q,saveUserPreferences:B,getUserPreferences:H,getStorageStats:W,clearAllData:G,exportData:V,importData:K}=I,Z={baseURL:"https://open.bigmodel.cn/api/paas/v4/",model:"glm-4-flash",maxRetries:3,retryDelay:1e3,timeout:3e4,rateLimit:{requestsPerMinute:60,requestsPerSecond:2},cache:{enabled:!0,maxSize:1e3,ttl:864e5}};const $=new class{constructor(){this.apiKey=null,this.loadApiKey()}loadApiKey(){try{const e=localStorage.getItem("zhipu_api_key");e&&(this.apiKey=e,console.log("\u2705 [ZhipuConfig] API\u5bc6\u94a5\u5df2\u4ece\u672c\u5730\u5b58\u50a8\u52a0\u8f7d"))}catch(e){console.error("\u274c [ZhipuConfig] \u52a0\u8f7dAPI\u5bc6\u94a5\u5931\u8d25:",e)}}setApiKey(e){if(!e||"string"!==typeof e)throw new Error("API\u5bc6\u94a5\u4e0d\u80fd\u4e3a\u7a7a");this.apiKey=e.trim();try{localStorage.setItem("zhipu_api_key",this.apiKey),console.log("\u2705 [ZhipuConfig] API\u5bc6\u94a5\u5df2\u4fdd\u5b58")}catch(t){throw console.error("\u274c [ZhipuConfig] \u4fdd\u5b58API\u5bc6\u94a5\u5931\u8d25:",t),new Error("\u4fdd\u5b58API\u5bc6\u94a5\u5931\u8d25")}}getApiKey(){return this.apiKey}hasApiKey(){return!!this.apiKey}clearApiKey(){this.apiKey=null;try{localStorage.removeItem("zhipu_api_key"),console.log("\u2705 [ZhipuConfig] API\u5bc6\u94a5\u5df2\u6e05\u9664")}catch(e){console.error("\u274c [ZhipuConfig] \u6e05\u9664API\u5bc6\u94a5\u5931\u8d25:",e)}}validateApiKey(e){if(!e||"string"!==typeof e)return!1;return e.trim().length>10}getConfig(){return l(l({},Z),{},{apiKey:this.apiKey})}};const Q=new class{constructor(){this.apis=[...C.APIS],this.currentApi=null,this.healthCheckInterval=null,this.lastHealthCheck={}}async init(){var e;console.log("\ud83d\ude80 [ApiManager] \u521d\u59cb\u5316API\u7ba1\u7406\u5668..."),this.apis=JSON.parse(JSON.stringify(C.APIS));const t=this.apis.find((e=>"zhipu"===e.provider));if(t){const e=$.getConfig();e.apiKey?(t.apiKey=e.apiKey,console.log("\ud83d\udd11 [ApiManager] \u5df2\u4e3a\u667a\u8c31GLM\u8bbe\u7f6eAPI\u5bc6\u94a5")):console.log("\u26a0\ufe0f [ApiManager] \u667a\u8c31GLM\u672a\u8bbe\u7f6eAPI\u5bc6\u94a5")}this.lastHealthCheck={},await this.checkAllApisHealth(),await this.switchToNextAvailableApi(),console.log("\u2705 [ApiManager] \u521d\u59cb\u5316\u5b8c\u6210\uff0c\u5f53\u524dAPI: ".concat((null===(e=this.currentApi)||void 0===e?void 0:e.name)||"None"))}getCurrentApi(){return this.currentApi}getAllApis(){return this.apis.map((e=>({name:e.name,provider:e.provider,available:e.available,priority:e.priority,lastCheck:this.lastHealthCheck[e.name]})))}async checkApiHealth(e){const t=Date.now();try{if(console.log("\ud83d\udd0d [ApiManager] \u68c0\u67e5API\u5065\u5eb7\u72b6\u6001: ".concat(e.name)),"zhipu"===e.provider&&e.requiresApiKey&&!e.apiKey)return console.log("\u26a0\ufe0f [ApiManager] ".concat(e.name," \u9700\u8981\u8bbe\u7f6eAPI\u5bc6\u94a5\uff0c\u8df3\u8fc7\u5065\u5eb7\u68c0\u67e5")),e.available=!1,this.lastHealthCheck[e.name]={timestamp:Date.now(),healthy:!1,responseTime:0,status:null,error:"\u9700\u8981\u8bbe\u7f6eAPI\u5bc6\u94a5"},!1;const n={model:e.model,messages:[{role:"user",content:"Test connection"}],max_tokens:10,temperature:.7},r=l({"Content-Type":"application/json",Authorization:"Bearer ".concat(e.apiKey)},e.headers);let a;a="zhipu"===e.provider?"".concat(e.baseUrl,"chat/completions"):"".concat(e.baseUrl,"/chat/completions");const s=await fetch(a,{method:"POST",headers:r,body:JSON.stringify(n),signal:AbortSignal.timeout(C.HEALTH_CHECK.TIMEOUT)}),i=Date.now()-t,o=s.ok||400===s.status;return this.lastHealthCheck[e.name]={timestamp:Date.now(),healthy:o,responseTime:i,status:s.status,error:o?null:"HTTP ".concat(s.status)},e.available=o,console.log("".concat(o?"\u2705":"\u274c"," [ApiManager] ").concat(e.name," \u5065\u5eb7\u68c0\u67e5\u5b8c\u6210: ").concat(i,"ms, \u72b6\u6001: ").concat(s.status)),o}catch(n){const r=Date.now()-t;return this.lastHealthCheck[e.name]={timestamp:Date.now(),healthy:!1,responseTime:r,status:null,error:n.message||"Network error"},e.available=!1,console.log("\u274c [ApiManager] ".concat(e.name," \u5065\u5eb7\u68c0\u67e5\u5931\u8d25: ").concat(n.message)),!1}}async checkAllApisHealth(){var e;console.log("\ud83d\udd04 [ApiManager] \u5f00\u59cb\u5168\u9762\u5065\u5eb7\u68c0\u67e5...");const t=this.apis.map((e=>this.checkApiHealth(e)));await Promise.allSettled(t),null!==(e=this.currentApi)&&void 0!==e&&e.available||await this.switchToNextAvailableApi();const n=this.apis.filter((e=>e.available)).length;console.log("\ud83d\udcca [ApiManager] \u5065\u5eb7\u68c0\u67e5\u5b8c\u6210\uff0c\u53ef\u7528API: ".concat(n,"/").concat(this.apis.length))}async switchToNextAvailableApi(){const e=this.apis.filter((e=>e.available));if(0===e.length)return console.warn("\u26a0\ufe0f [ApiManager] \u6ca1\u6709\u53ef\u7528\u7684API"),!1;const t=e[0];if(t!==this.currentApi){var n,r;const e=(null===(n=this.currentApi)||void 0===n?void 0:n.name)||"None";this.currentApi=t,console.log("\ud83d\udd04 [ApiManager] API\u5207\u6362: ".concat(e," -> ").concat(t.name)),null===(r=this.onApiSwitch)||void 0===r||r.call(this,t,e)}return!0}async makeRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.currentApi)throw new Error("\u6ca1\u6709\u53ef\u7528\u7684API");const n=this.currentApi;if("zhipu"===n.provider&&n.requiresApiKey&&!n.apiKey)throw new Error("\u667a\u8c31GLM\u9700\u8981\u8bbe\u7f6eAPI\u5bc6\u94a5\uff0c\u8bf7\u5728\u8bbe\u7f6e\u4e2d\u914d\u7f6e");const r=l(l({model:n.model,messages:e},C.DEFAULT_PARAMS),t);console.log("\ud83d\udce4 [ApiManager] \u4f7f\u7528 ".concat(n.name," \u53d1\u9001\u8bf7\u6c42")),console.log("\ud83d\udccb [ApiManager] \u8bf7\u6c42\u4f53:",JSON.stringify(r,null,2));try{const s=l({"Content-Type":"application/json",Authorization:"Bearer ".concat(n.apiKey)},n.headers);let i;console.log("\ud83d\udce1 [ApiManager] \u8bf7\u6c42\u5934:",s),i="zhipu"===n.provider?"".concat(n.baseUrl,"chat/completions"):"".concat(n.baseUrl,"/chat/completions");const o=await fetch(i,{method:"POST",headers:s,body:JSON.stringify(r),signal:AbortSignal.timeout(3e4)});if(console.log("\ud83d\udcf6 [ApiManager] \u54cd\u5e94\u72b6\u6001: ".concat(o.status," ").concat(o.statusText)),!o.ok){let r="";try{r=await o.text(),console.log("\u274c [ApiManager] \u9519\u8bef\u54cd\u5e94\u5185\u5bb9:",r)}catch(a){console.log("\u274c [ApiManager] \u65e0\u6cd5\u8bfb\u53d6\u9519\u8bef\u54cd\u5e94\u5185\u5bb9")}n.available=!1,this.lastHealthCheck[n.name]={timestamp:Date.now(),healthy:!1,responseTime:0,status:o.status,error:"HTTP ".concat(o.status,": ").concat(r)};if(await this.switchToNextAvailableApi()&&this.currentApi!==n)return console.log("\ud83d\udd04 [ApiManager] \u8bf7\u6c42\u5931\u8d25\uff0c\u5df2\u5207\u6362\u5230 ".concat(this.currentApi.name,"\uff0c\u91cd\u8bd5\u8bf7\u6c42")),this.makeRequest(e,t);throw new Error("API\u8bf7\u6c42\u5931\u8d25: ".concat(o.status," ").concat(o.statusText).concat(r?": "+r:""))}const c=await o.json();if(console.log("\ud83d\udce5 [ApiManager] \u54cd\u5e94\u6570\u636e:",JSON.stringify(c,null,2)),!c.choices||!c.choices[0]||!c.choices[0].message)throw console.warn("\u26a0\ufe0f [ApiManager] ".concat(n.name," \u8fd4\u56de\u4e86\u65e0\u6548\u7684\u54cd\u5e94\u7ed3\u6784")),new Error("API\u8fd4\u56de\u4e86\u65e0\u6548\u7684\u54cd\u5e94\u7ed3\u6784");const u=c.choices[0].message.content;if(!u||0===u.trim().length)throw console.warn("\u26a0\ufe0f [ApiManager] ".concat(n.name," \u8fd4\u56de\u4e86\u7a7a\u5185\u5bb9")),new Error("API\u8fd4\u56de\u4e86\u7a7a\u5185\u5bb9");return console.log("\u2705 [ApiManager] ".concat(n.name," \u8bf7\u6c42\u6210\u529f\uff0c\u5185\u5bb9\u957f\u5ea6: ").concat(u.length)),c}catch(s){console.error("\u274c [ApiManager] ".concat(n.name," \u8bf7\u6c42\u5931\u8d25:"),s),n.available=!1;if(await this.switchToNextAvailableApi()&&this.currentApi!==n)return console.log("\ud83d\udd04 [ApiManager] \u8bf7\u6c42\u9519\u8bef\uff0c\u5df2\u5207\u6362\u5230 ".concat(this.currentApi.name,"\uff0c\u91cd\u8bd5\u8bf7\u6c42")),this.makeRequest(e,t);throw s}}startHealthCheck(){this.healthCheckInterval&&clearInterval(this.healthCheckInterval),this.checkAllApisHealth(),this.healthCheckInterval=setInterval((()=>{this.checkAllApisHealth()}),C.HEALTH_CHECK.RETRY_INTERVAL),console.log("\ud83e\ude7a [ApiManager] \u5065\u5eb7\u68c0\u67e5\u670d\u52a1\u5df2\u542f\u52a8")}stopHealthCheck(){this.healthCheckInterval&&(clearInterval(this.healthCheckInterval),this.healthCheckInterval=null,console.log("\ud83d\uded1 [ApiManager] \u5065\u5eb7\u68c0\u67e5\u670d\u52a1\u5df2\u505c\u6b62"))}async refreshApis(){console.log("\ud83d\udd04 [ApiManager] \u624b\u52a8\u5237\u65b0API\u72b6\u6001..."),await this.checkAllApisHealth()}onApiSwitch(e){this.onApiSwitch=e}getStatusReport(){var e;return{currentApi:(null===(e=this.currentApi)||void 0===e?void 0:e.name)||"None",totalApis:this.apis.length,availableApis:this.apis.filter((e=>e.available)).length,apis:this.getAllApis()}}setPreferredApi(e){const t=this.apis.find((t=>t.name===e.name));if(t){var n,r;const e=(null===(n=this.currentApi)||void 0===n?void 0:n.name)||"None";return this.currentApi=t,console.log("\ud83c\udfaf [ApiManager] \u624b\u52a8\u5207\u6362API: ".concat(e," -> ").concat(t.name)),null===(r=this.onApiSwitch)||void 0===r||r.call(this,t,e),!0}return!1}async updateZhipuApiKey(){const e=this.apis.find((e=>"zhipu"===e.provider));if(e){const n=$.getConfig();var t;return n.apiKey?(e.apiKey=n.apiKey,console.log("\ud83d\udd11 [ApiManager] \u667a\u8c31GLM API\u5bc6\u94a5\u5df2\u66f4\u65b0"),await this.checkApiHealth(e),null!==(t=this.currentApi)&&void 0!==t&&t.available||await this.switchToNextAvailableApi(),!0):(e.apiKey=null,e.available=!1,console.log("\u26a0\ufe0f [ApiManager] \u667a\u8c31GLM API\u5bc6\u94a5\u5df2\u6e05\u9664"),!1)}return!1}},X=()=>{const[t,n]=(0,e.useState)(""),[r,a]=(0,e.useState)(""),[s,i]=(0,e.useState)(""),[l,o]=(0,e.useState)(""),[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(0),[f,p]=(0,e.useState)(null),[m,g]=(0,e.useState)([]),[x,b]=(0,e.useState)(null),[y,v]=(0,e.useState)([]),[w,j]=(0,e.useState)(null),N=(0,e.useCallback)((()=>C.APIS.map((e=>({id:e.name,name:e.name,description:e.description||e.model,provider:e.provider,model:e.model,available:e.available})))),[]),k=(0,e.useCallback)((e=>{const t=C.APIS.find((t=>t.name===e));t&&(Q.setPreferredApi(t),j(t),console.log("\ud83d\udd04 [Hook] \u5207\u6362\u5230\u6a21\u578b: ".concat(t.name," (").concat(t.model,")")))}),[]);(0,e.useEffect)((()=>{const e=I.getDraftContent();e&&(n(e.inputText||""),i(e.selectedStyle||""),o(e.selectedModel||""),console.log("\u2705 \u6062\u590d\u8349\u7a3f\u5185\u5bb9"));const t=I.getGeneratedPrompts();v(t.slice(0,10)),Q.onApiSwitch=(e,t)=>{j(e),o(e.name),console.log("\ud83d\udd04 [Hook] API\u5df2\u5207\u6362: ".concat(t," -> ").concat(e.name))};const r=Q.getCurrentApi();j(r),o((null===r||void 0===r?void 0:r.name)||"")}),[]),(0,e.useEffect)((()=>{if(t||s||l){const e=setTimeout((()=>{I.saveDraftContent({inputText:t,selectedStyle:s,selectedModel:l})}),2e3);return()=>clearTimeout(e)}}),[t,s,l]),(0,e.useEffect)((()=>{l&&l!==(null===w||void 0===w?void 0:w.name)&&k(l)}),[l,w,k]);const _=(0,e.useCallback)((e=>{const t=(e=>{const t=[];return e&&0!==e.trim().length?e.trim().length<E.MIN_INPUT_LENGTH?t.push(T.VALIDATION.INPUT_TOO_SHORT):e.length>E.MAX_INPUT_LENGTH&&t.push(T.VALIDATION.INPUT_TOO_LONG):t.push(T.VALIDATION.EMPTY_INPUT),{isValid:0===t.length,errors:t}})(e);return g(t.errors),t.isValid}),[]),S=(0,e.useCallback)((async(e,t)=>{const n=[{role:"system",content:"\u4f60\u662f\u4e00\u4e2a\u4e13\u4e1a\u7684AI\u7ed8\u753b\u63d0\u793a\u8bcd\u751f\u6210\u52a9\u624b\u3002\u8bf7\u6839\u636e\u7528\u6237\u7684\u63cf\u8ff0\uff0c\u751f\u6210\u9ad8\u8d28\u91cf\u7684\u82f1\u6587\u63d0\u793a\u8bcd\u3002\n\n\u8981\u6c42\uff1a\n1. \u8f93\u51fa\u7eaf\u82f1\u6587\u63d0\u793a\u8bcd\uff0c\u7528\u9017\u53f7\u5206\u9694\n2. \u5305\u542b\u8d28\u91cf\u63a7\u5236\u8bcd\u5982 masterpiece, best quality, ultra detailed\n3. \u6839\u636e\u98ce\u683c\u8981\u6c42\u6dfb\u52a0\u5bf9\u5e94\u7684\u98ce\u683c\u63cf\u8ff0\u8bcd\n4. \u786e\u4fdd\u8bed\u6cd5\u6b63\u786e\uff0c\u8bcd\u6c47\u4e13\u4e1a\n5. \u957f\u5ea6\u63a7\u5236\u5728100-200\u4e2a\u8bcd\u6c47\u4e4b\u95f4\n6. \u4e0d\u8981\u5305\u542b\u4efb\u4f55\u89e3\u91ca\u6587\u5b57\uff0c\u53ea\u8f93\u51fa\u63d0\u793a\u8bcd\n7. \u63d0\u793a\u8bcd\u8981\u5177\u4f53\u751f\u52a8\uff0c\u5305\u542b\u4e30\u5bcc\u7684\u7ec6\u8282\u63cf\u8ff0\n\n\u98ce\u683c\u8981\u6c42\uff1a".concat(t||"\u901a\u7528\u98ce\u683c")},{role:"user",content:"\u8bf7\u4e3a\u4ee5\u4e0b\u63cf\u8ff0\u751f\u6210AI\u7ed8\u753b\u63d0\u793a\u8bcd\uff1a".concat(e)}],r=await Q.makeRequest(n,{max_tokens:E.API.MAX_TOKENS,temperature:.7,top_p:E.API.TOP_P});if(!r.choices||!r.choices[0]||!r.choices[0].message)throw new Error(T.API.INVALID_RESPONSE);return(a=r.choices[0].message.content)&&"string"===typeof a?a.trim().replace(/\s+/g," ").replace(/[\uff0c\u3002\uff01\uff1f\uff1b\uff1a]/g,",").replace(/,+/g,",").replace(/^,|,$/g,""):"";var a}),[]),z=(0,e.useCallback)((async()=>{if(!_(t))return!1;u(!0),p(null);try{var e;I.saveInputHistory(t,s);const n=await S(t,s);a(n);const r=d+1;h(r);const i=I.saveGeneratedPrompt({inputText:t,selectedStyle:s,generatedPrompt:n,source:"ai",generationCount:r,apiUsed:(null===(e=Q.getCurrentApi())||void 0===e?void 0:e.name)||"Unknown"});b(i);const l=I.getGeneratedPrompts();return v(l.slice(0,10)),I.clearDraftContent(),j(Q.getCurrentApi()),!0}catch(n){console.error("API \u751f\u6210\u63d0\u793a\u8bcd\u5931\u8d25:",n);const e=Q.getStatusReport(),t=n.message||T.API.UNKNOWN_ERROR;return 0===e.availableApis?p("\u6240\u6709API\u670d\u52a1\u6682\u65f6\u4e0d\u53ef\u7528\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"):p("".concat(t," (\u5f53\u524d\u4f7f\u7528: ").concat(e.currentApi,")")),!1}finally{u(!1)}}),[t,s,_,S,d]),P=(0,e.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return await A(e)}),[r]),O=(0,e.useCallback)((e=>{const r="object"===typeof e?e.en:e,a=t.trim();n(a?e=>"".concat(e,", ").concat(r):r)}),[t]),D=(0,e.useCallback)((()=>{n(""),a(""),i(""),p(null),g([]),h(0)}),[]),L=(0,e.useCallback)((e=>{const t={realistic:["photorealistic","hyperrealistic","realistic","photograph"],anime:["anime","manga","cel shading","cartoon"],oil:["oil painting","classical","renaissance"],watercolor:["watercolor","aquarelle"],sketch:["sketch","pencil","charcoal","drawing"]},n=e.toLowerCase();for(const[r,a]of Object.entries(t))if(a.some((e=>n.includes(e))))return r;return""}),[]),R=(0,e.useCallback)((()=>Q.getStatusReport()),[]),M=(0,e.useCallback)((async()=>{await Q.refreshApis(),j(Q.getCurrentApi())}),[]);return{inputText:t,generatedPrompt:r,selectedStyle:s,selectedModel:l,isGenerating:c,generationCount:d,apiError:f,validationErrors:m,currentSessionId:x,savedResults:y,currentApiInfo:w,setInputText:n,setSelectedStyle:i,setSelectedModel:o,setGeneratedPrompt:a,generatePrompt:z,copyPrompt:P,insertTag:O,reset:D,extractStyleFromPrompt:L,validatePromptInput:_,getApiStatus:R,refreshApiStatus:M,loadFromHistory:e=>{const t=I.getGeneratedPromptById(e);return!!t&&(n(t.inputText),i(t.selectedStyle||""),o(t.selectedModel||""),a(t.generatedPrompt),!0)},clearHistory:()=>{I.clearAllData(),v([])},exportHistory:()=>I.exportData(),importHistory:e=>{const t=I.importData(e);if(t){const e=I.getGeneratedPrompts();v(e.slice(0,10))}return t},getAvailableModels:N,switchToModel:k}},Y=[{category:"Quality \u8d28\u91cf",tags:[{en:"masterpiece",cn:"\u6770\u4f5c"},{en:"best quality",cn:"\u6700\u4f73\u8d28\u91cf"},{en:"ultra detailed",cn:"\u8d85\u8be6\u7ec6"},{en:"8k wallpaper",cn:"8K\u58c1\u7eb8"},{en:"high resolution",cn:"\u9ad8\u5206\u8fa8\u7387"},{en:"professional",cn:"\u4e13\u4e1a\u7ea7"}]},{category:"Style \u98ce\u683c",tags:[{en:"anime style",cn:"\u52a8\u6f2b\u98ce\u683c"},{en:"realistic",cn:"\u5199\u5b9e\u98ce\u683c"},{en:"oil painting",cn:"\u6cb9\u753b"},{en:"watercolor",cn:"\u6c34\u5f69"},{en:"sketch",cn:"\u7d20\u63cf"},{en:"digital art",cn:"\u6570\u5b57\u827a\u672f"}]},{category:"Lighting \u5149\u7167",tags:[{en:"cinematic lighting",cn:"\u7535\u5f71\u7ea7\u5149\u7167"},{en:"soft lighting",cn:"\u67d4\u548c\u5149\u7167"},{en:"dramatic lighting",cn:"\u620f\u5267\u6027\u5149\u7167"},{en:"golden hour",cn:"\u9ec4\u91d1\u65f6\u523b"},{en:"studio lighting",cn:"\u6444\u5f71\u68da\u5149\u7167"},{en:"natural lighting",cn:"\u81ea\u7136\u5149\u7167"}]},{category:"Composition \u6784\u56fe",tags:[{en:"perfect composition",cn:"\u5b8c\u7f8e\u6784\u56fe"},{en:"rule of thirds",cn:"\u4e09\u5206\u6cd5\u5219"},{en:"dynamic angle",cn:"\u52a8\u6001\u89d2\u5ea6"},{en:"close-up",cn:"\u7279\u5199\u955c\u5934"},{en:"wide shot",cn:"\u8fdc\u666f\u955c\u5934"},{en:"bird eye view",cn:"\u9e1f\u77b0\u89c6\u89d2"}]},{category:"Effects \u6548\u679c",tags:[{en:"depth of field",cn:"\u666f\u6df1\u6548\u679c"},{en:"bokeh",cn:"\u865a\u5316\u6548\u679c"},{en:"sharp focus",cn:"\u9510\u5229\u5bf9\u7126"},{en:"motion blur",cn:"\u8fd0\u52a8\u6a21\u7cca"},{en:"lens flare",cn:"\u955c\u5934\u5149\u6655"},{en:"chromatic aberration",cn:"\u8272\u5dee\u6548\u679c"}]}],J=[{name:"Photorealistic \u5199\u5b9e",prompt:"photorealistic, ultra realistic, high quality"},{name:"Anime \u52a8\u6f2b",prompt:"anime style, manga style, cel shading"},{name:"Oil Painting \u6cb9\u753b",prompt:"oil painting, classical art, painterly"},{name:"Watercolor \u6c34\u5f69",prompt:"watercolor, soft colors, flowing"},{name:"Sketch \u7d20\u63cf",prompt:"pencil sketch, charcoal drawing, monochrome"}],ee=u("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),te=u("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ne=u("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),re=u("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var ae=n(579);const se=(0,e.createContext)(),ie={success:{icon:w,bgColor:"bg-gradient-to-r from-green-400 to-emerald-500",borderColor:"border-green-300",shadowColor:"shadow-green-200",iconBg:"bg-green-600/20",title:"\u64cd\u4f5c\u6210\u529f"},warning:{icon:ee,bgColor:"bg-gradient-to-r from-yellow-400 to-orange-500",borderColor:"border-yellow-300",shadowColor:"shadow-yellow-200",iconBg:"bg-yellow-600/20",title:"\u6ce8\u610f"},error:{icon:te,bgColor:"bg-gradient-to-r from-red-400 to-red-500",borderColor:"border-red-300",shadowColor:"shadow-red-200",iconBg:"bg-red-600/20",title:"\u64cd\u4f5c\u5931\u8d25"},info:{icon:ne,bgColor:"bg-gradient-to-r from-blue-400 to-blue-500",borderColor:"border-blue-300",shadowColor:"shadow-blue-200",iconBg:"bg-blue-600/20",title:"\u63d0\u793a"}},le=t=>{let{notification:n,onRemove:r}=t;const a=ie[n.type]||ie.info,s=a.icon;return(0,e.useEffect)((()=>{const e=setTimeout((()=>{r(n.id)}),n.duration||1500);return()=>clearTimeout(e)}),[n.id,n.duration,r]),(0,ae.jsxs)("div",{className:"\n        transform transition-all duration-500 ease-out\n        ".concat(a.bgColor," ").concat(a.borderColor," ").concat(a.shadowColor,"\n        text-white px-3 py-2 rounded-lg shadow-xl border backdrop-blur-sm\n        animate-slide-in-right max-w-xs min-w-[225px]\n      "),style:{animation:"slideInRight 0.5s cubic-bezier(0.4, 0, 0.2, 1), fadeOut 0.5s ease-out 1s forwards"},children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)("div",{className:"p-0.5 rounded-full ".concat(a.iconBg),children:(0,ae.jsx)(s,{size:14,className:"text-white"})}),(0,ae.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ae.jsx)("div",{className:"text-xs font-semibold",children:n.title||a.title}),(0,ae.jsx)("div",{className:"text-xs opacity-90 truncate",children:n.message})]}),(0,ae.jsx)("button",{onClick:()=>r(n.id),className:"p-0.5 hover:bg-white/20 rounded-full transition-colors",children:(0,ae.jsx)(re,{size:12,className:"text-white"})})]}),(0,ae.jsx)("div",{className:"mt-1.5 h-0.5 bg-white/20 rounded-full overflow-hidden",children:(0,ae.jsx)("div",{className:"h-full bg-white/60 rounded-full transition-all ease-linear",style:{width:"100%",animation:"progressBar ".concat(n.duration||1500,"ms linear forwards")}})})]})},oe=e=>{let{notifications:t,removeNotification:n}=e;return(0,ae.jsxs)("div",{className:"fixed top-4 right-4 z-[9999] space-y-2",children:[t.map((e=>(0,ae.jsx)(le,{notification:e,onRemove:n},e.id))),(0,ae.jsx)("style",{jsx:!0,children:"\n        @keyframes slideInRight {\n          from {\n            transform: translateX(100%) scale(0.8);\n            opacity: 0;\n          }\n          to {\n            transform: translateX(0) scale(1);\n            opacity: 1;\n          }\n        }\n        \n        @keyframes fadeOut {\n          from {\n            opacity: 1;\n            transform: translateX(0) scale(1);\n          }\n          to {\n            opacity: 0;\n            transform: translateX(100%) scale(0.8);\n          }\n        }\n        \n        @keyframes progressBar {\n          from {\n            width: 100%;\n          }\n          to {\n            width: 0%;\n          }\n        }\n        \n        .animate-slide-in-right {\n          animation: slideInRight 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n        \n        /* \u60ac\u505c\u6548\u679c */\n        .fixed .transform:hover {\n          transform: translateX(-5px) scale(1.02) !important;\n          transition: transform 0.2s ease-out;\n        }\n      "})]})},ce=t=>{let{children:n}=t;const[r,a]=(0,e.useState)([]),s=(0,e.useCallback)((e=>{const t=Date.now()+Math.random(),n=l(l({id:t,type:"success",duration:1500},e),{},{timestamp:Date.now()});return a((e=>[...e,n])),t}),[]),i=(0,e.useCallback)((e=>{a((t=>t.filter((t=>t.id!==e))))}),[]),o=(0,e.useCallback)((()=>{a([])}),[]),c=(0,e.useCallback)((function(e){return s({type:"success",message:e,title:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,duration:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1500})}),[s]),u=(0,e.useCallback)((function(e){return s({type:"error",message:e,title:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,duration:arguments.length>2&&void 0!==arguments[2]?arguments[2]:2500})}),[s]),d=(0,e.useCallback)((function(e){return s({type:"warning",message:e,title:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,duration:arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3})}),[s]),h=(0,e.useCallback)((function(e){return s({type:"info",message:e,title:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,duration:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1500})}),[s]),f=(0,e.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n={translate:"\u7ffb\u8bd1\u6210\u529f".concat(t?": "+t:""),copy:"\u590d\u5236\u6210\u529f".concat(t?": "+t:""),add:"\u6dfb\u52a0\u6210\u529f".concat(t?": "+t:""),delete:"\u5220\u9664\u6210\u529f".concat(t?": "+t:""),save:"\u4fdd\u5b58\u6210\u529f".concat(t?": "+t:""),import:"\u5bfc\u5165\u6210\u529f".concat(t?": "+t:""),export:"\u5bfc\u51fa\u6210\u529f".concat(t?": "+t:""),favorite:"\u6536\u85cf\u6210\u529f".concat(t?": "+t:""),enable:"\u542f\u7528\u6210\u529f".concat(t?": "+t:""),disable:"\u7981\u7528\u6210\u529f".concat(t?": "+t:""),reset:"\u91cd\u7f6e\u6210\u529f".concat(t?": "+t:""),update:"\u66f4\u65b0\u6210\u529f".concat(t?": "+t:""),create:"\u521b\u5efa\u6210\u529f".concat(t?": "+t:""),upload:"\u4e0a\u4f20\u6210\u529f".concat(t?": "+t:""),download:"\u4e0b\u8f7d\u6210\u529f".concat(t?": "+t:""),clear:"\u6e05\u7a7a\u6210\u529f".concat(t?": "+t:""),refresh:"\u5237\u65b0\u6210\u529f".concat(t?": "+t:""),info:t||"\u64cd\u4f5c\u5b8c\u6210"};return c(n[e]||"".concat(e,"\u6210\u529f").concat(t?": "+t:""))}),[c]),p=(0,e.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r={translate:"\u7ffb\u8bd1\u5931\u8d25".concat(n?": "+n:"").concat(t?" - "+t:""),copy:"\u590d\u5236\u5931\u8d25".concat(n?": "+n:"").concat(t?" - "+t:""),add:"\u6dfb\u52a0\u5931\u8d25".concat(n?": "+n:"").concat(t?" - "+t:""),delete:"\u5220\u9664\u5931\u8d25".concat(n?": "+n:"").concat(t?" - "+t:""),save:"\u4fdd\u5b58\u5931\u8d25".concat(n?": "+n:"").concat(t?" - "+t:""),import:"\u5bfc\u5165\u5931\u8d25".concat(n?": "+n:"").concat(t?" - "+t:""),export:"\u5bfc\u51fa\u5931\u8d25".concat(n?": "+n:"").concat(t?" - "+t:""),favorite:"\u6536\u85cf\u5931\u8d25".concat(n?": "+n:"").concat(t?" - "+t:""),network:"\u7f51\u7edc\u9519\u8bef".concat(t?": "+t:""),permission:"\u6743\u9650\u4e0d\u8db3".concat(t?": "+t:""),validation:"\u6570\u636e\u9a8c\u8bc1\u5931\u8d25".concat(t?": "+t:"")};return u(r[e]||"".concat(e,"\u5931\u8d25").concat(n?": "+n:"").concat(t?" - "+t:""))}),[u]),m={notifications:r,addNotification:s,removeNotification:i,clearAllNotifications:o,showSuccess:c,showError:u,showWarning:d,showInfo:h,notifySuccess:f,notifyError:p};return(0,ae.jsxs)(se.Provider,{value:m,children:[n,(0,ae.jsx)(oe,{notifications:r,removeNotification:i})]})},ue=()=>{const{notifySuccess:t,notifyError:n,showWarning:r,showInfo:a}=(()=>{const t=(0,e.useContext)(se);if(!t)throw new Error("useNotification must be used within a NotificationProvider");return t})();return{notifySuccess:t,notifyError:n,showWarning:r,showInfo:a}},de=u("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),he=u("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),fe=u("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),pe=u("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),me=t=>{let{isVisible:n,isGenerating:r,onClose:a,status:s="idle",progress:i=0,statusMessage:l="",estimatedTime:o=null,allowBackgroundMode:c=!0}=t;const[u,d]=(0,e.useState)(0),[h,f]=(0,e.useState)(!1),[p,g]=(0,e.useState)("online");(0,e.useEffect)((()=>{let e;return r?(d(0),e=setInterval((()=>{d((e=>e+1))}),1e3)):d(0),()=>{e&&clearInterval(e)}}),[r]),(0,e.useEffect)((()=>{const e=()=>g("online"),t=()=>g("offline");return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}),[]);const x=(()=>{const e={idle:{icon:m,color:"text-gray-500",bgColor:"bg-gray-100",title:"\u51c6\u5907\u5c31\u7eea",description:"\u7b49\u5f85\u5f00\u59cb\u751f\u6210"},connecting:{icon:de,color:"text-blue-500",bgColor:"bg-blue-100",title:"\u8fde\u63a5\u4e2d",description:"\u6b63\u5728\u8fde\u63a5\u5230AI\u670d\u52a1..."},generating:{icon:b,color:"text-purple-500",bgColor:"bg-purple-100",title:"\u751f\u6210\u4e2d",description:l||"AI\u6b63\u5728\u5206\u6790\u548c\u751f\u6210\u63d0\u793a\u8bcd..."},success:{icon:w,color:"text-green-500",bgColor:"bg-green-100",title:"\u751f\u6210\u6210\u529f",description:"\u63d0\u793a\u8bcd\u751f\u6210\u5b8c\u6210\uff01"},error:{icon:y,color:"text-red-500",bgColor:"bg-red-100",title:"\u751f\u6210\u5931\u8d25",description:l||"\u751f\u6210\u8fc7\u7a0b\u4e2d\u9047\u5230\u95ee\u9898"}};return e[s]||e.idle})(),v=x.icon,j=e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))},N=(()=>{if("success"===s)return 100;if("error"===s)return 0;if("generating"===s){const e=Math.min(u/30*80,80);return Math.max(i,e)}return i})();return n||h?(0,ae.jsxs)(ae.Fragment,{children:[n&&(0,ae.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,ae.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 relative animate-in zoom-in-95 duration-200",children:[(0,ae.jsx)("button",{onClick:a,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100",children:(0,ae.jsx)(re,{size:20})}),(0,ae.jsxs)("div",{className:"p-6 pb-4",children:[(0,ae.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ae.jsx)("div",{className:"p-3 rounded-full ".concat(x.bgColor," mr-4"),children:(0,ae.jsx)(v,{className:"".concat(x.color," ").concat(r&&"generating"===s?"animate-spin":""),size:24})}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:x.title}),(0,ae.jsx)("p",{className:"text-sm text-gray-600",children:x.description})]})]}),(r||"generating"===s)&&(0,ae.jsxs)("div",{className:"mb-4",children:[(0,ae.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[(0,ae.jsx)("span",{children:"\u8fdb\u5ea6"}),(0,ae.jsxs)("span",{children:[Math.round(N),"%"]})]}),(0,ae.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ae.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-2 rounded-full transition-all duration-500 ease-out",style:{width:"".concat(N,"%")}})})]}),r&&(0,ae.jsxs)("div",{className:"flex justify-between text-sm text-gray-500 mb-4",children:[(0,ae.jsxs)("div",{className:"flex items-center",children:[(0,ae.jsx)(S,{size:16,className:"mr-1"}),(0,ae.jsxs)("span",{children:["\u5df2\u7528\u65f6: ",j(u)]})]}),o&&(0,ae.jsx)("div",{className:"flex items-center",children:(0,ae.jsxs)("span",{children:["\u9884\u8ba1: ",o,"s"]})})]}),(0,ae.jsx)("div",{className:"flex items-center text-xs text-gray-500 mb-4",children:"online"===p?(0,ae.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,ae.jsx)(de,{size:14,className:"mr-1"}),(0,ae.jsx)("span",{children:"\u7f51\u7edc\u8fde\u63a5\u6b63\u5e38"})]}):(0,ae.jsxs)("div",{className:"flex items-center text-red-600",children:[(0,ae.jsx)(he,{size:14,className:"mr-1"}),(0,ae.jsx)("span",{children:"\u7f51\u7edc\u8fde\u63a5\u5f02\u5e38"})]})}),r&&(0,ae.jsx)("div",{className:"bg-blue-50 rounded-lg p-3 mb-4",children:(0,ae.jsxs)("div",{className:"flex items-center text-blue-800 text-sm",children:[(0,ae.jsx)(fe,{size:16,className:"mr-2 text-blue-600"}),(0,ae.jsx)("span",{children:"\u6570\u636e\u5df2\u81ea\u52a8\u4fdd\u5b58\uff0c\u53ef\u5b89\u5168\u5207\u6362\u9875\u9762"})]})})]}),(0,ae.jsxs)("div",{className:"p-6 pt-0",children:[(0,ae.jsxs)("div",{className:"flex gap-3",children:[c&&r&&(0,ae.jsx)("button",{onClick:()=>{f(!0),a()},className:"flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"\u540e\u53f0\u7ee7\u7eed"}),!r&&(0,ae.jsx)("button",{onClick:a,className:"flex-1 bg-purple-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-purple-700 transition-colors",children:"success"===s?"\u67e5\u770b\u7ed3\u679c":"\u5173\u95ed"})]}),r&&(0,ae.jsx)("div",{className:"mt-4 text-center",children:(0,ae.jsx)("p",{className:"text-xs text-gray-500",children:"\ud83d\udca1 \u751f\u6210\u8fc7\u7a0b\u9700\u898110-30\u79d2\uff0c\u60a8\u53ef\u4ee5\u5207\u6362\u5230\u5176\u4ed6\u6807\u7b7e\u9875\uff0c\u7ed3\u679c\u4f1a\u81ea\u52a8\u4fdd\u5b58"})})]})]})}),h&&r&&(0,ae.jsx)("div",{className:"fixed bottom-4 right-4 z-40",children:(0,ae.jsxs)("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-4 max-w-xs",children:[(0,ae.jsxs)("div",{className:"flex items-center",children:[(0,ae.jsx)("div",{className:"flex-shrink-0",children:(0,ae.jsx)(pe,{className:"text-purple-500 animate-spin",size:20})}),(0,ae.jsxs)("div",{className:"ml-3",children:[(0,ae.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"\u540e\u53f0\u751f\u6210\u4e2d"}),(0,ae.jsxs)("p",{className:"text-xs text-gray-500",children:[j(u)," | ",Math.round(N),"%"]})]})]}),(0,ae.jsx)("div",{className:"mt-2",children:(0,ae.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1",children:(0,ae.jsx)("div",{className:"bg-purple-500 h-1 rounded-full transition-all duration-500",style:{width:"".concat(N,"%")}})})}),(0,ae.jsx)("button",{onClick:()=>{f(!1),a&&a("showDetails")},className:"mt-2 w-full text-xs text-purple-600 hover:text-purple-800 transition-colors",children:"\u663e\u793a\u8be6\u60c5"})]})})]}):null},ge=()=>{var t;const{inputText:n,generatedPrompt:r,selectedStyle:a,selectedModel:s,isGenerating:i,generationCount:l,apiError:o,validationErrors:c,savedResults:u,currentApiInfo:d,setInputText:h,setSelectedStyle:f,setSelectedModel:p,generatePrompt:g,copyPrompt:x,insertTag:C,getApiStatus:T,getAvailableModels:A}=X(),[z,I]=(0,e.useState)(!1),[P,O]=(0,e.useState)(!1),[D,L]=(0,e.useState)(!1),[R,M]=(0,e.useState)("idle"),{notifySuccess:F,notifyError:U}=ue(),q=async e=>{await x(e)?F("copy","\u63d0\u793a\u8bcd"):U("copy","\u590d\u5236\u5931\u8d25")},B=async()=>{M("connecting"),O(!0),setTimeout((()=>{M("generating")}),1e3);await g()?(M("success"),F("create","\u63d0\u793a\u8bcd\u751f\u6210"),setTimeout((()=>{O(!1),M("idle")}),2e3)):c.length>0?(M("error"),U("validation","\u8f93\u5165\u9a8c\u8bc1\u5931\u8d25"),setTimeout((()=>{O(!1),M("idle")}),3e3)):(M("error"),U("create","\u751f\u6210\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),setTimeout((()=>{O(!1),M("idle")}),3e3))};return(0,ae.jsxs)("div",{className:"space-y-6",children:[(0,ae.jsxs)("div",{className:"text-center mb-8",children:[(0,ae.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center justify-center",children:[(0,ae.jsx)(m,{className:"mr-3 text-purple-600",size:32}),"\u667a\u80fd\u63d0\u793a\u8bcd\u751f\u6210\u5668"]}),(0,ae.jsx)("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"\u63cf\u8ff0\u4f60\u60f3\u8981\u7684\u753b\u9762\uff0cAI\u4f1a\u4e3a\u4f60\u751f\u6210\u4e13\u4e1a\u7684\u63d0\u793a\u8bcd\uff0c\u8ba9\u521b\u4f5c\u66f4\u7cbe\u51c6\u3001\u66f4\u9ad8\u6548"}),(0,ae.jsxs)("div",{className:"mt-3 flex items-center justify-center gap-2",children:[(0,ae.jsx)("span",{className:"text-sm bg-gradient-to-r from-purple-500 to-blue-500 text-white px-3 py-1 rounded-full",children:"\u2728 \u7531 DeepSeek-R1 \u9a71\u52a8"}),d&&(0,ae.jsxs)("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:["\u5f53\u524dAPI: ",d.name]})]})]}),(0,ae.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg border border-purple-100/50 p-6",children:[(0,ae.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,ae.jsx)(b,{className:"mr-2 text-purple-600",size:20}),"\u521b\u4f5c\u63cf\u8ff0"]}),(0,ae.jsxs)("div",{className:"space-y-4",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ae.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\u63cf\u8ff0\u4f60\u60f3\u8981\u7684\u753b\u9762"}),(0,ae.jsxs)("span",{className:"text-xs ".concat(n.length>.8*E.MAX_INPUT_LENGTH?"text-red-500":"text-gray-500"),children:[n.length,"/",E.MAX_INPUT_LENGTH," \u5b57\u7b26"]})]}),(0,ae.jsx)("textarea",{value:n,onChange:e=>h(e.target.value),placeholder:"\u4f8b\u5982\uff1a\u4e00\u4e2a\u53ef\u7231\u7684\u732b\u5973\u5b69\uff0c\u7a7f\u7740\u767d\u8272\u8fde\u8863\u88d9\uff0c\u5728\u6a31\u82b1\u6811\u4e0b\u5fae\u7b11...",maxLength:E.MAX_INPUT_LENGTH,className:"w-full h-28 px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none transition-all bg-gradient-to-br from-white to-purple-50/30 ".concat(c.length>0?"border-red-300 focus:ring-red-500":"border-gray-300")}),c.length>0&&(0,ae.jsx)("div",{className:"mt-2 text-sm text-red-600",children:c.map(((e,t)=>(0,ae.jsxs)("div",{className:"flex items-center",children:[(0,ae.jsx)(y,{size:14,className:"mr-1"}),e]},t)))}),n.length>0&&0===c.length&&(0,ae.jsxs)("div",{className:"mt-2 text-xs text-gray-600",children:[(0,ae.jsx)("span",{className:"font-medium",children:"\u667a\u80fd\u8bc6\u522b\uff1a"}),(null===(t=n.match(/\u5973\u5b69|\u7537\u5b69|\u4eba\u7269|\u89d2\u8272|\u7f8e\u5973|\u5e05\u54e5|\u5c11\u5973|boy|girl|character|\u4eba|\u98ce\u666f|\u68ee\u6797|\u6d77\u8fb9|\u57ce\u5e02|\u5efa\u7b51|landscape|forest|ocean|city|building|\u573a\u666f|\u52a8\u6f2b|anime|\u5199\u5b9e|realistic/gi))||void 0===t?void 0:t.map(((e,t)=>(0,ae.jsx)("span",{className:"inline-block mx-1 px-2 py-0.5 bg-purple-100 text-purple-700 rounded text-xs",children:e},t))))||(0,ae.jsx)("span",{className:"text-gray-400",children:"\u8f93\u5165\u63cf\u8ff0\u4ee5\u83b7\u5f97\u667a\u80fd\u5efa\u8bae"}),n.length>10&&(0,ae.jsx)("span",{className:"ml-2 text-green-600",children:"\u2728 \u51c6\u5907\u5c31\u7eea"})]})]}),(0,ae.jsxs)("div",{className:"space-y-2",children:[(0,ae.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"\u9009\u62e9\u98ce\u683c (\u53ef\u9009)\uff1a"}),(0,ae.jsx)("div",{className:"flex flex-wrap gap-2",children:J.map((e=>(0,ae.jsx)("button",{onClick:()=>f(a===e.name?"":e.name),className:"px-3 py-1.5 text-sm rounded-lg transition-all ".concat(a===e.name?"bg-purple-600 text-white shadow-md":"bg-gray-100 hover:bg-purple-100 text-gray-700 border border-gray-200 hover:border-purple-300"),children:e.name},e.name)))})]}),(0,ae.jsxs)("div",{className:"space-y-3 border-t pt-4",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ae.jsxs)("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:[(0,ae.jsx)(v,{className:"mr-2 text-blue-600",size:16}),"\u9009\u62e9AI\u6a21\u578b\uff1a"]}),(0,ae.jsx)("span",{className:"text-xs text-gray-500",children:d?"\u5f53\u524d: ".concat(d.provider):""})]}),(0,ae.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:A().map((e=>(0,ae.jsxs)("button",{onClick:()=>p(e.id),className:"p-3 text-left rounded-lg border transition-all text-sm ".concat(s===e.id?"bg-blue-50 border-blue-300 text-blue-900":"bg-white border-gray-200 hover:border-blue-300 hover:bg-blue-50/50 text-gray-700"),children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,ae.jsx)("span",{className:"font-medium",children:e.name}),(0,ae.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full ".concat(e.available?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.available?"\u53ef\u7528":"\u4e0d\u53ef\u7528"})]}),(0,ae.jsx)("div",{className:"text-xs text-gray-600",children:e.description}),(0,ae.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.provider})]},e.id)))})]}),(0,ae.jsxs)("div",{className:"border-t pt-4",children:[(0,ae.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,ae.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"\u5feb\u901f\u63d2\u5165\u6807\u7b7e"}),(0,ae.jsx)("button",{onClick:()=>I(!z),className:"text-xs text-purple-600 hover:text-purple-800 transition-colors",children:z?"\u6536\u8d77":"\u5c55\u5f00\u66f4\u591a"})]}),z&&(0,ae.jsx)("div",{className:"space-y-3",children:Y.map(((e,t)=>(0,ae.jsxs)("div",{className:"space-y-2",children:[(0,ae.jsx)("span",{className:"text-xs font-medium text-gray-600",children:e.category}),(0,ae.jsx)("div",{className:"flex flex-wrap gap-2",children:e.tags.map(((e,t)=>(0,ae.jsxs)("button",{onClick:()=>C(e),className:"px-3 py-1.5 text-xs bg-gradient-to-r from-gray-50 to-gray-100 hover:from-purple-50 hover:to-purple-100 text-gray-700 rounded-lg border border-gray-200 hover:border-purple-300 transition-all group",title:"".concat(e.en," - ").concat(e.cn),children:[(0,ae.jsx)("span",{className:"font-medium text-gray-800",children:e.en}),(0,ae.jsxs)("span",{className:"text-gray-500 ml-1 text-xs group-hover:text-purple-600",children:["(",e.cn,")"]})]},t)))})]},t)))})]}),(0,ae.jsx)("div",{className:"flex justify-center",children:(0,ae.jsx)("button",{onClick:B,disabled:!n.trim()||i,className:"w-full max-w-md bg-gradient-to-r from-purple-600 to-blue-600 text-white py-4 px-8 rounded-lg font-medium hover:shadow-lg hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:i?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)("div",{className:"animate-spin inline-block w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-3"}),"DeepSeek AI \u751f\u6210\u4e2d..."]}):(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(m,{className:"inline mr-3",size:20}),"DeepSeek AI \u667a\u80fd\u751f\u6210"]})})}),o&&(0,ae.jsx)("div",{className:"mt-3 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:(0,ae.jsxs)("div",{className:"flex items-start",children:[(0,ae.jsx)(y,{className:"mr-2 text-orange-600 flex-shrink-0 mt-0.5",size:16}),(0,ae.jsx)("p",{className:"text-sm text-orange-800",children:o})]})})]}),r&&(0,ae.jsxs)("div",{className:"mt-6 p-4 bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200/50 rounded-lg shadow-sm",children:[(0,ae.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,ae.jsxs)("h3",{className:"font-medium text-gray-900 flex items-center",children:[(0,ae.jsx)(w,{className:"mr-2 text-green-600",size:16}),"\u751f\u6210\u7684\u63d0\u793a\u8bcd"]}),(0,ae.jsxs)("div",{className:"flex gap-2",children:[(0,ae.jsx)("button",{onClick:()=>q(r),className:"p-2 hover:bg-green-100 rounded-lg transition-colors group",title:"\u590d\u5236\u5230\u526a\u8d34\u677f",children:(0,ae.jsx)(j,{size:16,className:"text-gray-600 group-hover:text-green-600"})}),(0,ae.jsx)("button",{onClick:B,disabled:i,className:"p-2 hover:bg-green-100 rounded-lg transition-colors group disabled:opacity-50",title:"\u91cd\u65b0\u751f\u6210",children:(0,ae.jsx)(N,{size:16,className:"text-gray-600 group-hover:text-purple-600"})}),(0,ae.jsx)("button",{className:"p-2 hover:bg-green-100 rounded-lg transition-colors group",title:"\u6536\u85cf",children:(0,ae.jsx)(k,{size:16,className:"text-gray-600 group-hover:text-red-500"})})]})]}),(0,ae.jsx)("div",{className:"bg-white p-3 rounded border border-green-200/30",children:(0,ae.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed font-mono",children:r})}),(0,ae.jsxs)("div",{className:"mt-3 flex justify-between items-center text-xs text-gray-600",children:[(0,ae.jsxs)("div",{className:"flex gap-4",children:[(0,ae.jsxs)("span",{children:["\u5b57\u7b26\u6570\uff1a",r.length]}),(0,ae.jsxs)("span",{children:["\u6807\u7b7e\u6570\uff1a",r.split(",").length]})]}),(0,ae.jsxs)("div",{className:"flex items-center gap-2 text-gray-400",children:[(0,ae.jsxs)("span",{children:[(null===d||void 0===d?void 0:d.name)||"DeepSeek-R1","\u6a21\u578b"]}),l>0&&(0,ae.jsxs)("span",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:["\u7b2c",l,"\u6b21"]}),d&&(0,ae.jsx)("span",{className:"text-xs bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded",children:d.provider})]})]})]})]}),(0,ae.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200/50",children:[(0,ae.jsxs)("h3",{className:"font-medium text-blue-900 mb-3 flex items-center justify-between",children:[(0,ae.jsxs)("div",{className:"flex items-center",children:[(0,ae.jsx)(m,{className:"mr-2 text-blue-600",size:20}),"DeepSeek AI \u4f7f\u7528\u6280\u5de7",(0,ae.jsx)("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full",children:"\u591a\u6a21\u578b\u652f\u6301"})]}),(0,ae.jsx)("button",{onClick:()=>{const e=T();alert("API\u72b6\u6001\u62a5\u544a:\n\u5f53\u524dAPI: ".concat(e.currentApi,"\n\u53ef\u7528API: ").concat(e.availableApis,"/").concat(e.totalApis,"\n\n\u8be6\u7ec6\u72b6\u6001:\n").concat(e.apis.map((e=>"".concat(e.name,": ").concat(e.available?"\u2705\u53ef\u7528":"\u274c\u4e0d\u53ef\u7528"))).join("\n")))},className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"\u67e5\u770bAPI\u72b6\u6001"})]}),(0,ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800",children:[(0,ae.jsxs)("div",{className:"space-y-2",children:[(0,ae.jsxs)("div",{className:"flex items-start",children:[(0,ae.jsx)("span",{className:"text-blue-500 mr-2 mt-0.5",children:"\u25b8"}),(0,ae.jsx)("span",{children:"\u8be6\u7ec6\u63cf\u8ff0\u4eba\u7269\u3001\u573a\u666f\u3001\u98ce\u683c\uff0cAI\u4f1a\u751f\u6210\u66f4\u7cbe\u786e\u7684\u63d0\u793a\u8bcd"})]}),(0,ae.jsxs)("div",{className:"flex items-start",children:[(0,ae.jsx)("span",{className:"text-blue-500 mr-2 mt-0.5",children:"\u25b8"}),(0,ae.jsx)("span",{children:"\u9009\u62e9\u5408\u9002\u7684\u98ce\u683c\u4f1a\u8ba9AI\u81ea\u52a8\u6dfb\u52a0\u76f8\u5173\u7684\u4e13\u4e1a\u6807\u7b7e"})]}),(0,ae.jsxs)("div",{className:"flex items-start",children:[(0,ae.jsx)("span",{className:"text-blue-500 mr-2 mt-0.5",children:"\u25b8"}),(0,ae.jsx)("span",{children:"\u53ef\u4ee5\u63cf\u8ff0\u60c5\u7eea\u3001\u5149\u5f71\u3001\u6784\u56fe\u7b49\u7ec6\u8282\uff0cAI\u7406\u89e3\u80fd\u529b\u5f88\u5f3a"})]}),(0,ae.jsxs)("div",{className:"flex items-start",children:[(0,ae.jsx)("span",{className:"text-green-500 mr-2 mt-0.5",children:"\ud83e\udd16"}),(0,ae.jsx)("span",{children:"\u4e0d\u540c\u6a21\u578b\u6709\u4e0d\u540c\u7279\u8272\uff1aR1\u63a8\u7406\u5f3a\uff0cV3\u6027\u80fd\u4f73\uff0cNVIDIA\u7a33\u5b9a"})]})]}),(0,ae.jsxs)("div",{className:"space-y-2",children:[(0,ae.jsxs)("div",{className:"flex items-start",children:[(0,ae.jsx)("span",{className:"text-purple-500 mr-2 mt-0.5",children:"\u2605"}),(0,ae.jsx)("span",{children:"DeepSeek AI \u64c5\u957f\u751f\u6210\u9ad8\u8d28\u91cf\u7684\u827a\u672f\u63cf\u8ff0\u8bcd\u6c47"})]}),(0,ae.jsxs)("div",{className:"flex items-start",children:[(0,ae.jsx)("span",{className:"text-purple-500 mr-2 mt-0.5",children:"\u2605"}),(0,ae.jsx)("span",{children:"\u652f\u6301\u4e2d\u6587\u8f93\u5165\uff0cAI\u4f1a\u81ea\u52a8\u8f6c\u6362\u4e3a\u4e13\u4e1a\u82f1\u6587\u63d0\u793a\u8bcd"})]}),(0,ae.jsxs)("div",{className:"flex items-start",children:[(0,ae.jsx)("span",{className:"text-purple-500 mr-2 mt-0.5",children:"\u2605"}),(0,ae.jsx)("span",{children:"\u53ef\u4ee5\u591a\u6b21\u751f\u6210\u4e0d\u540c\u7248\u672c\uff0c\u9009\u62e9\u6700\u6ee1\u610f\u7684\u7ed3\u679c"})]}),(0,ae.jsxs)("div",{className:"flex items-start",children:[(0,ae.jsx)("span",{className:"text-orange-500 mr-2 mt-0.5",children:"\u26a1"}),(0,ae.jsx)("span",{children:"\u7cfb\u7edf\u4f1a\u81ea\u52a8\u5207\u6362\u53ef\u7528\u6a21\u578b\uff0c\u786e\u4fdd\u670d\u52a1\u7a33\u5b9a\u6027"})]})]})]})]}),u.length>0&&(0,ae.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg border border-gray-200/50 p-6",children:[(0,ae.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ae.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,ae.jsx)(_,{className:"mr-2 text-gray-600",size:20}),"\u6700\u8fd1\u751f\u6210"]}),(0,ae.jsx)("button",{onClick:()=>L(!D),className:"text-sm text-gray-600 hover:text-gray-800 transition-colors",children:D?"\u6536\u8d77":"\u67e5\u770b\u5168\u90e8 (".concat(u.length,")")})]}),(0,ae.jsx)("div",{className:"space-y-3",children:(D?u:u.slice(0,3)).map((e=>{var t,n;return(0,ae.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>{h(e.inputText),f(e.selectedStyle||"")},children:[(0,ae.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,ae.jsxs)("div",{className:"flex-1",children:[(0,ae.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:[(0,ae.jsx)("span",{className:"font-medium",children:"\u8f93\u5165\uff1a"}),e.inputText]}),e.selectedStyle&&(0,ae.jsxs)("p",{className:"text-xs text-purple-600 mb-2",children:["\u98ce\u683c\uff1a",e.selectedStyle]})]}),(0,ae.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,ae.jsxs)("span",{className:"text-xs text-gray-500 flex items-center",children:[(0,ae.jsx)(S,{size:12,className:"mr-1"}),new Date(e.timestamp).toLocaleDateString()]}),(0,ae.jsx)("button",{onClick:t=>{t.stopPropagation(),q(e.generatedPrompt)},className:"p-1 hover:bg-gray-200 rounded transition-colors",title:"\u590d\u5236",children:(0,ae.jsx)(j,{size:14,className:"text-gray-500"})})]})]}),(0,ae.jsx)("div",{className:"bg-white p-3 rounded border border-gray-200",children:(0,ae.jsx)("p",{className:"text-xs text-gray-700 font-mono leading-relaxed line-clamp-2",children:e.generatedPrompt})}),(0,ae.jsxs)("div",{className:"mt-2 flex justify-between text-xs text-gray-500",children:[(0,ae.jsxs)("span",{children:["\u5b57\u7b26\u6570\uff1a",(null===(t=e.metadata)||void 0===t?void 0:t.characterCount)||0]}),(0,ae.jsxs)("span",{children:["\u6807\u7b7e\u6570\uff1a",(null===(n=e.metadata)||void 0===n?void 0:n.tagCount)||0]})]})]},e.id)}))}),!D&&u.length>3&&(0,ae.jsx)("div",{className:"mt-4 text-center",children:(0,ae.jsxs)("button",{onClick:()=>L(!0),className:"text-sm text-purple-600 hover:text-purple-800 transition-colors",children:["\u67e5\u770b\u66f4\u591a\u5386\u53f2\u8bb0\u5f55 (",u.length-3," \u6761)"]})})]}),(0,ae.jsx)(me,{isVisible:P,isGenerating:i,status:R,onClose:e=>{O("showDetails"===e)},statusMessage:"connecting"===R?"\u6b63\u5728\u8fde\u63a5\u5230DeepSeek AI...":"generating"===R?"DeepSeek AI\u6b63\u5728\u5206\u6790\u548c\u751f\u6210\u63d0\u793a\u8bcd...":"success"===R?"\u63d0\u793a\u8bcd\u751f\u6210\u5b8c\u6210\uff01":"error"===R?o||"\u751f\u6210\u5931\u8d25":"",estimatedTime:25})]})},xe=u("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),be=u("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]),ye=u("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),ve=u("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),we=u("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),je=u("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Ne={zh:"\u4e2d\u6587",en:"\u82f1\u6587",ja:"\u65e5\u6587",ko:"\u97e9\u6587",fr:"\u6cd5\u6587",de:"\u5fb7\u6587",es:"\u897f\u73ed\u7259\u6587",ru:"\u4fc4\u6587",it:"\u610f\u5927\u5229\u6587",pt:"\u8461\u8404\u7259\u6587",ar:"\u963f\u62c9\u4f2f\u6587",th:"\u6cf0\u6587",vi:"\u8d8a\u5357\u6587",hi:"\u5370\u5730\u6587"};const ke=new class{constructor(){this.cache=new Map,this.requestQueue=[],this.isProcessing=!1,this.lastRequestTime=0,this.requestCount=0,this.rateLimitWindow=6e4,this.maxRequestsPerMinute=60}setApiKey(e){$.setApiKey(e),console.log("\u2705 [ZhipuTranslation] API\u5bc6\u94a5\u5df2\u8bbe\u7f6e")}getApiKey(){return $.getApiKey()}hasApiKey(){return $.hasApiKey()}detectLanguage(e){return e&&"string"===typeof e?/[\u4e00-\u9fff]/.test(e)?"zh":/[\u3040-\u309f\u30a0-\u30ff]/.test(e)?"ja":/[\uac00-\ud7af]/.test(e)?"ko":/[\u0400-\u04ff]/.test(e)?"ru":/[\u0600-\u06ff]/.test(e)?"ar":"en":"en"}buildTranslationPrompt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";const r=Ne[t]||t;return"\u8bf7\u5c06\u4ee5\u4e0b\u6587\u672c\u4ece".concat("auto"===n?"\u81ea\u52a8\u68c0\u6d4b":Ne[n]||n,"\u7ffb\u8bd1\u6210").concat(r,"\u3002\n\n\u8981\u6c42\uff1a\n1. \u4fdd\u6301\u539f\u6587\u7684\u8bed\u4e49\u548c\u8bed\u8c03\n2. \u786e\u4fdd\u7ffb\u8bd1\u81ea\u7136\u6d41\u7545\n3. \u5bf9\u4e8e\u4e13\u4e1a\u672f\u8bed\uff0c\u8bf7\u4f7f\u7528\u51c6\u786e\u7684\u5bf9\u5e94\u8bcd\u6c47\n4. \u53ea\u8fd4\u56de\u7ffb\u8bd1\u7ed3\u679c\uff0c\u4e0d\u8981\u5305\u542b\u4efb\u4f55\u89e3\u91ca\u6216\u989d\u5916\u5185\u5bb9\n5. \u5982\u679c\u662f\u4ee3\u7801\u6216\u7279\u6b8a\u683c\u5f0f\uff0c\u8bf7\u4fdd\u6301\u539f\u6709\u683c\u5f0f\n\n\u539f\u6587\uff1a\n").concat(e,"\n\n\u7ffb\u8bd1\uff1a")}async callZhipuAPI(e){try{const t=$.getConfig();if(!t.apiKey)throw new Error("\u8bf7\u5148\u8bbe\u7f6e\u667a\u8c31AI API\u5bc6\u94a5");const n=Date.now();n-this.lastRequestTime<1e3&&await new Promise((e=>setTimeout(e,1e3-(n-this.lastRequestTime)))),this.lastRequestTime=Date.now();const r=await fetch("".concat(t.baseURL,"chat/completions"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.apiKey)},body:JSON.stringify({model:t.model,messages:[{role:"user",content:e}],temperature:.1,max_tokens:2e3,top_p:.9})});if(!r.ok){const e=await r.text();throw new Error("\u667a\u8c31API\u8c03\u7528\u5931\u8d25: ".concat(r.status," ").concat(r.statusText," - ").concat(e))}const a=await r.json();if(a.choices&&a.choices[0]&&a.choices[0].message){const e=a.choices[0].message.content.trim();return this.requestCount++,console.log("\u2705 [ZhipuTranslation] \u7ffb\u8bd1\u6210\u529f (\u8bf7\u6c42\u6b21\u6570: ".concat(this.requestCount,")")),{success:!0,translatedText:e,usage:a.usage}}throw new Error("\u667a\u8c31API\u8fd4\u56de\u683c\u5f0f\u9519\u8bef")}catch(t){throw console.error("\u274c [ZhipuTranslation] API\u8c03\u7528\u5931\u8d25:",t),t}}async translate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";if(!e||!e.trim())throw new Error("\u7ffb\u8bd1\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a");if(!this.config.apiKey||"your-zhipu-api-key-here"===this.config.apiKey)throw new Error("\u8bf7\u5148\u8bbe\u7f6e\u667a\u8c31AI\u7684API Key\u3002\u83b7\u53d6\u5730\u5740: https://bigmodel.cn/usercenter/apikeys");const r="".concat(e,"_").concat(n,"_").concat(t);if(this.translationCache.has(r)){const e=this.translationCache.get(r);return console.log("\ud83d\udcbe [ZhipuTranslation] \u4f7f\u7528\u7f13\u5b58\u7ed3\u679c"),l(l({},e),{},{fromCache:!0})}try{const a="auto"===n?this.detectLanguage(e):n;if(a===t)return{translatedText:e,engine:"zhipu-glm",confidence:1,status:"success",sourceLanguage:a,targetLanguage:t,fromCache:!1};console.log('\ud83e\udd16 [ZhipuTranslation] \u5f00\u59cb\u7ffb\u8bd1: "'.concat(e,'" (').concat(a," \u2192 ").concat(t,")"));const s=this.buildTranslationPrompt(e,t,a),i=await this.callZhipuAPI(s);if(i.success){const e={translatedText:i.translatedText,engine:"zhipu-glm",confidence:.95,status:"success",sourceLanguage:a,targetLanguage:t,fromCache:!1,usage:i.usage};if(this.translationCache.set(r,e),this.translationCache.size>500){const e=this.translationCache.keys().next().value;this.translationCache.delete(e)}return e}throw new Error("\u7ffb\u8bd1\u5931\u8d25")}catch(a){throw console.error("\u274c [ZhipuTranslation] \u7ffb\u8bd1\u5931\u8d25:",a),new Error("\u667a\u8c31GLM\u7ffb\u8bd1\u5931\u8d25: ".concat(a.message))}}async batchTranslate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";if(!Array.isArray(e)||0===e.length)throw new Error("\u6279\u91cf\u7ffb\u8bd1\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a");console.log("\ud83d\udd04 [ZhipuTranslation] \u5f00\u59cb\u6279\u91cf\u7ffb\u8bd1 ".concat(e.length," \u6761\u5185\u5bb9"));const r=[];for(let s=0;s<e.length;s++)try{const a=await this.translate(e[s],t,n);r.push(l({index:s,original:e[s]},a)),s<e.length-1&&await new Promise((e=>setTimeout(e,500)))}catch(a){r.push({index:s,original:e[s],error:a.message,status:"failed"})}return console.log("\u2705 [ZhipuTranslation] \u6279\u91cf\u7ffb\u8bd1\u5b8c\u6210: ".concat(r.filter((e=>"success"===e.status)).length,"/").concat(e.length," \u6210\u529f")),r}getSupportedLanguages(){return Object.entries(Ne).map((e=>{let[t,n]=e;return{code:t,name:n,nativeName:n}}))}getStatus(){return{service:"zhipu-glm",model:this.config.model,available:!!this.config.apiKey&&"your-zhipu-api-key-here"!==this.config.apiKey,requestCount:this.requestCount,cacheSize:this.translationCache.size,supportedLanguages:Object.keys(Ne).length}}clearCache(){this.translationCache.clear(),console.log("\ud83d\uddd1\ufe0f [ZhipuTranslation] \u7ffb\u8bd1\u7f13\u5b58\u5df2\u6e05\u9664")}},_e={zhipu:{name:"\u667a\u8c31GLM",provider:"zhipu-ai",description:"\u667a\u8c31AI GLM-4-Flash\u6a21\u578b\uff0c\u514d\u8d39\u9ad8\u8d28\u91cfAI\u7ffb\u8bd1",url:"https://bigmodel.cn/",priority:1,available:!0,languages:100,features:["AI\u7ffb\u8bd1","\u514d\u8d39","\u9ad8\u8d28\u91cf","\u4e0a\u4e0b\u6587\u7406\u89e3"],implementation:"ai_model",type:"primary"},google:{name:"Google\u7ffb\u8bd1",provider:"google",description:"Google\u7ffb\u8bd1\uff0c\u652f\u6301134\u79cd\u8bed\u8a00",url:"https://translate.google.com",priority:2,available:!0,languages:134,features:["\u5168\u7403\u670d\u52a1","\u9ad8\u8d28\u91cf"],implementation:"web_api",type:"fallback"},alibaba:{name:"\u963f\u91cc\u7ffb\u8bd1",provider:"alibaba",description:"\u963f\u91cc\u5df4\u5df4\u7ffb\u8bd1\uff0c\u652f\u6301221\u79cd\u8bed\u8a00",url:"https://translate.alibaba.com",priority:3,available:!0,languages:221,features:["\u4e13\u4e1a\u9886\u57df","\u9ad8\u8d28\u91cf"],implementation:"web_scraping",type:"fallback"},baidu:{name:"\u767e\u5ea6\u7ffb\u8bd1",provider:"baidu",description:"\u767e\u5ea6\u7ffb\u8bd1\uff0c\u652f\u6301201\u79cd\u8bed\u8a00",url:"https://fanyi.baidu.com",priority:4,available:!0,languages:201,features:["\u53e4\u6587\u7ffb\u8bd1","\u4e13\u4e1a\u9886\u57df"],implementation:"web_scraping",type:"fallback"}},Se={zh:{name:"\u4e2d\u6587",google:"zh",alibaba:"zh",baidu:"zh"},en:{name:"\u82f1\u6587",google:"en",alibaba:"en",baidu:"en"},ja:{name:"\u65e5\u6587",google:"ja",alibaba:"ja",baidu:"jp"},ko:{name:"\u97e9\u6587",google:"ko",alibaba:"ko",baidu:"kor"},fr:{name:"\u6cd5\u6587",google:"fr",alibaba:"fr",baidu:"fra"},de:{name:"\u5fb7\u6587",google:"de",alibaba:"de",baidu:"de"},es:{name:"\u897f\u73ed\u7259\u6587",google:"es",alibaba:"es",baidu:"spa"},ru:{name:"\u4fc4\u6587",google:"ru",alibaba:"ru",baidu:"ru"},it:{name:"\u610f\u5927\u5229\u6587",google:"it",alibaba:"it",baidu:"it"},pt:{name:"\u8461\u8404\u7259\u6587",google:"pt",alibaba:"pt",baidu:"pt"},ar:{name:"\u963f\u62c9\u4f2f\u6587",google:"ar",alibaba:"ar",baidu:"ara"},th:{name:"\u6cf0\u6587",google:"th",alibaba:"th",baidu:"th"},vi:{name:"\u8d8a\u5357\u6587",google:"vi",alibaba:"vi",baidu:"vie"},hi:{name:"\u5370\u5730\u6587",google:"hi",alibaba:"hi",baidu:"hi"}};const Ce=new class{constructor(){this.engines=l({},_e),this.currentEngine="zhipu",this.zhipuService=ke,this.translationCache=new Map,this.healthCheckInterval=null,this.lastHealthCheck={},this.healthStatus={},this.fallbackAttempts=0,this.maxFallbackAttempts=3,console.log("\ud83d\ude80 [NewTranslationManager] \u65b0\u4e00\u4ee3\u7ffb\u8bd1\u7ba1\u7406\u5668\u521d\u59cb\u5316\u5b8c\u6210"),console.log("\ud83e\udd16 [NewTranslationManager] \u4e3b\u5f15\u64ce: \u667a\u8c31GLM (\u514d\u8d39AI\u7ffb\u8bd1)"),this.initializeEngines()}setZhipuApiKey(e){try{return this.zhipuService.setApiKey(e),console.log("\u2705 [NewTranslationManager] \u667a\u8c31API\u5bc6\u94a5\u5df2\u8bbe\u7f6e"),this.checkZhipuHealth().then((e=>{this.healthStatus.zhipu=e,console.log("\ud83d\udd0d [NewTranslationManager] \u667a\u8c31\u5065\u5eb7\u72b6\u6001\u66f4\u65b0:",e)})),!0}catch(t){return console.error("\u274c [NewTranslationManager] \u8bbe\u7f6e\u667a\u8c31API\u5bc6\u94a5\u5931\u8d25:",t),!1}}hasZhipuApiKey(){return this.zhipuService.hasApiKey()}async checkZhipuHealth(){try{if(!this.zhipuService.hasApiKey())return console.log("\u26a0\ufe0f [NewTranslationManager] \u667a\u8c31GLM\u672a\u8bbe\u7f6eAPI\u5bc6\u94a5"),!1;const e=await this.zhipuService.translate("test","zh","en"),t=e&&"success"===e.status;return console.log("".concat(t?"\u2705":"\u274c"," [NewTranslationManager] \u667a\u8c31GLM\u5065\u5eb7\u68c0\u67e5: ").concat(t?"\u6b63\u5e38":"\u5f02\u5e38")),t}catch(e){return console.warn("\u26a0\ufe0f [NewTranslationManager] \u667a\u8c31GLM\u5065\u5eb7\u68c0\u67e5\u5931\u8d25:",e.message),!1}}async initializeEngines(){console.log("\ud83d\udd27 [NewTranslationManager] \u521d\u59cb\u5316\u7ffb\u8bd1\u5f15\u64ce...");try{this.healthStatus.zhipu=await this.checkZhipuHealth()}catch(e){console.warn("\u26a0\ufe0f [NewTranslationManager] \u667a\u8c31GLM\u521d\u59cb\u5316\u5931\u8d25:",e.message),this.healthStatus.zhipu=!1}Object.keys(this.engines).forEach((e=>{"zhipu"!==e&&(this.healthStatus[e]=!0)})),console.log("\u2705 [NewTranslationManager] \u5f15\u64ce\u521d\u59cb\u5316\u5b8c\u6210:",this.healthStatus)}getCurrentEngine(){return l({key:this.currentEngine},this.engines[this.currentEngine])}getAllEngines(){return Object.entries(this.engines).map((e=>{let[t,n]=e;return l(l({key:t},n),{},{lastCheck:this.lastHealthCheck[t]})}))}detectLanguage(e){return this.zhipuService.detectLanguage(e)}async translateWithZhipu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";try{console.log("\ud83e\udd16 [NewTranslationManager] \u4f7f\u7528\u667a\u8c31GLM\u7ffb\u8bd1");const r=await this.zhipuService.translate(e,t,n);return this.fallbackAttempts=0,r}catch(r){throw console.error("\u274c [NewTranslationManager] \u667a\u8c31GLM\u7ffb\u8bd1\u5931\u8d25:",r.message),r}}async translateWithFallback(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"google";try{var a,s,i;console.log("\ud83d\udd04 [NewTranslationManager] \u4f7f\u7528\u5907\u7528\u5f15\u64ce: ".concat(null===(a=this.engines[r])||void 0===a?void 0:a.name));const l="auto"===n?this.detectLanguage(e):n,o=(null===(s=Se[l])||void 0===s?void 0:s[r])||l,c=(null===(i=Se[t])||void 0===i?void 0:i[r])||t,u="https://translate.googleapis.com/translate_a/single?client=gtx&sl=".concat(o,"&tl=").concat(c,"&dt=t&q=").concat(encodeURIComponent(e)),d=await fetch(u,{method:"GET",headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"}});if(!d.ok)throw new Error("HTTP ".concat(d.status,": ").concat(d.statusText));const h=await d.json();if(h&&h[0]&&Array.isArray(h[0])){const e=h[0].filter((e=>e&&e[0])).map((e=>e[0])).join("");if(e&&e.trim())return{translatedText:e.trim(),engine:r,confidence:.85,status:"success",sourceLanguage:l,targetLanguage:t,fromFallback:!0}}throw new Error("\u7ffb\u8bd1\u7ed3\u679c\u4e3a\u7a7a")}catch(l){throw console.error("\u274c [NewTranslationManager] ".concat(r," \u7ffb\u8bd1\u5931\u8d25:"),l.message),l}}async smartTranslate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";if(!e||!e.trim())throw new Error("\u7ffb\u8bd1\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a");const r="".concat(e,"_").concat(n,"_").concat(t);if(this.translationCache.has(r)){const e=this.translationCache.get(r);return console.log("\ud83d\udcbe [NewTranslationManager] \u4f7f\u7528\u7f13\u5b58\u7ed3\u679c"),l(l({},e),{},{fromCache:!0})}let a=null,s=null;if(this.engines.zhipu.available&&this.fallbackAttempts<this.maxFallbackAttempts)try{a=await this.translateWithZhipu(e,t,n),console.log("\u2705 [NewTranslationManager] \u667a\u8c31GLM\u7ffb\u8bd1\u6210\u529f")}catch(c){s=c,this.fallbackAttempts++,console.warn("\u26a0\ufe0f [NewTranslationManager] \u667a\u8c31GLM\u7ffb\u8bd1\u5931\u8d25 (".concat(this.fallbackAttempts,"/").concat(this.maxFallbackAttempts,"):"),c.message),(c.message.includes("API Key")||c.message.includes("401")||c.message.includes("403"))&&(this.engines.zhipu.available=!1,console.warn("\ud83d\udd11 [NewTranslationManager] \u667a\u8c31GLM API Key\u95ee\u9898\uff0c\u5207\u6362\u5230\u5907\u7528\u5f15\u64ce"))}if(!a){const r=["google","alibaba","baidu"];for(const l of r){var i;if(null!==(i=this.engines[l])&&void 0!==i&&i.available)try{a=await this.translateWithFallback(e,t,n,l),console.log("\u2705 [NewTranslationManager] \u5907\u7528\u5f15\u64ce ".concat(this.engines[l].name," \u7ffb\u8bd1\u6210\u529f"));break}catch(c){s=c,console.warn("\u26a0\ufe0f [NewTranslationManager] \u5907\u7528\u5f15\u64ce ".concat(this.engines[l].name," \u5931\u8d25:"),c.message),this.engines[l].available=!1}}}var o;if(!a)throw new Error("\u6240\u6709\u7ffb\u8bd1\u5f15\u64ce\u90fd\u4e0d\u53ef\u7528\u3002\u6700\u540e\u9519\u8bef: ".concat((null===(o=s)||void 0===o?void 0:o.message)||"\u672a\u77e5\u9519\u8bef"));if(this.translationCache.set(r,a),this.translationCache.size>500){const e=this.translationCache.keys().next().value;this.translationCache.delete(e)}return a}async batchTranslate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";if(!Array.isArray(e)||0===e.length)throw new Error("\u6279\u91cf\u7ffb\u8bd1\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a");if(console.log("\ud83d\udd04 [NewTranslationManager] \u5f00\u59cb\u6279\u91cf\u7ffb\u8bd1 ".concat(e.length," \u6761\u5185\u5bb9")),this.engines.zhipu.available)try{const r=await this.zhipuService.batchTranslate(e,t,n);return console.log("\u2705 [NewTranslationManager] \u667a\u8c31GLM\u6279\u91cf\u7ffb\u8bd1\u5b8c\u6210"),r}catch(a){console.warn("\u26a0\ufe0f [NewTranslationManager] \u667a\u8c31GLM\u6279\u91cf\u7ffb\u8bd1\u5931\u8d25\uff0c\u4f7f\u7528\u9010\u4e2a\u7ffb\u8bd1:",a.message)}const r=[];for(let s=0;s<e.length;s++)try{const a=await this.smartTranslate(e[s],t,n);r.push(l({index:s,original:e[s]},a)),s<e.length-1&&await new Promise((e=>setTimeout(e,300)))}catch(a){r.push({index:s,original:e[s],error:a.message,status:"failed"})}return console.log("\u2705 [NewTranslationManager] \u6279\u91cf\u7ffb\u8bd1\u5b8c\u6210: ".concat(r.filter((e=>"success"===e.status)).length,"/").concat(e.length," \u6210\u529f")),r}async checkEngineHealth(e){const t=this.engines[e];if(!t)return!1;const n=Date.now();try{let r;console.log("\ud83d\udd0d [NewTranslationManager] \u68c0\u67e5 ".concat(t.name," \u5065\u5eb7\u72b6\u6001")),r="zhipu"===e?await this.translateWithZhipu("\u6d4b\u8bd5","en","zh"):await this.translateWithFallback("test","zh","en",e);const a=Date.now()-n,s=r&&"success"===r.status;return this.lastHealthCheck[e]={timestamp:Date.now(),healthy:s,responseTime:a,error:s?null:"Translation test failed"},t.available=s,console.log("".concat(s?"\u2705":"\u274c"," [NewTranslationManager] ").concat(t.name," \u5065\u5eb7\u68c0\u67e5\u5b8c\u6210: ").concat(a,"ms")),s}catch(r){const a=Date.now()-n;return this.lastHealthCheck[e]={timestamp:Date.now(),healthy:!1,responseTime:a,error:r.message},t.available=!1,console.log("\u274c [NewTranslationManager] ".concat(t.name," \u5065\u5eb7\u68c0\u67e5\u5931\u8d25: ").concat(r.message)),!1}}startHealthCheck(){this.healthCheckInterval&&clearInterval(this.healthCheckInterval),setTimeout((()=>this.checkAllEnginesHealth()),2e3),this.healthCheckInterval=setInterval((()=>{this.checkAllEnginesHealth()}),6e5),console.log("\ud83e\ude7a [NewTranslationManager] \u5065\u5eb7\u68c0\u67e5\u670d\u52a1\u5df2\u542f\u52a8")}async checkAllEnginesHealth(){console.log("\ud83d\udd04 [NewTranslationManager] \u5f00\u59cb\u5168\u9762\u5065\u5eb7\u68c0\u67e5...");const e=Object.keys(this.engines).map((e=>this.checkEngineHealth(e)));await Promise.allSettled(e);const t=Object.values(this.engines).filter((e=>e.available)).length;console.log("\ud83d\udcca [NewTranslationManager] \u5065\u5eb7\u68c0\u67e5\u5b8c\u6210\uff0c\u53ef\u7528\u5f15\u64ce: ".concat(t,"/").concat(Object.keys(this.engines).length)),this.fallbackAttempts=0}getSupportedLanguages(){return Object.entries(Se).map((e=>{let[t,n]=e;return{code:t,name:n.name,nativeName:n.name}}))}getStatusReport(){var e;const t=this.getAllEngines(),n=t.filter((e=>e.available)),r=this.zhipuService.getStatus();return{currentEngine:(null===(e=this.engines[this.currentEngine])||void 0===e?void 0:e.name)||"None",currentEngineKey:this.currentEngine,totalEngines:t.length,availableEngines:n.length,engines:t,cacheSize:this.translationCache.size,zhipuStatus:r,fallbackAttempts:this.fallbackAttempts,maxFallbackAttempts:this.maxFallbackAttempts}}switchEngine(e){var t;if(!this.engines[e])throw new Error("\u672a\u77e5\u7684\u7ffb\u8bd1\u5f15\u64ce: ".concat(e));const n=null===(t=this.engines[this.currentEngine])||void 0===t?void 0:t.name;this.currentEngine=e;const r=this.engines[this.currentEngine].name;return console.log("\ud83d\udd04 [NewTranslationManager] \u624b\u52a8\u5207\u6362\u5f15\u64ce: ".concat(n," -> ").concat(r)),this.getCurrentEngine()}clearCache(){this.translationCache.clear(),this.zhipuService.clearCache(),console.log("\ud83d\uddd1\ufe0f [NewTranslationManager] \u6240\u6709\u7ffb\u8bd1\u7f13\u5b58\u5df2\u6e05\u7406")}stopHealthCheck(){this.healthCheckInterval&&(clearInterval(this.healthCheckInterval),this.healthCheckInterval=null,console.log("\ud83d\uded1 [NewTranslationManager] \u5065\u5eb7\u68c0\u67e5\u670d\u52a1\u5df2\u505c\u6b62"))}},Ee=u("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),Te=u("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Ae=u("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),ze=u("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ie=u("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Pe=t=>{let{onApiKeyChange:n,className:r=""}=t;const[a,s]=(0,e.useState)(""),[i,l]=(0,e.useState)(!1),[o,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(!1),[h,f]=(0,e.useState)(!1),[p,m]=(0,e.useState)(null);(0,e.useEffect)((()=>{const e=$.getApiKey();e&&(d(!0),s(e))}),[]);return(0,ae.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 ".concat(r),children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,ae.jsx)(Ee,{className:"text-blue-500",size:20}),(0,ae.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"\u667a\u8c31GLM API\u5bc6\u94a5\u8bbe\u7f6e"})]}),(0,ae.jsxs)("div",{className:"space-y-3",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)("span",{className:"text-sm text-gray-600",children:"\u72b6\u6001:"}),u?(0,ae.jsxs)("span",{className:"flex items-center gap-1 text-green-600 text-sm",children:[(0,ae.jsx)(Te,{size:16}),"\u5df2\u914d\u7f6e"]}):(0,ae.jsxs)("span",{className:"flex items-center gap-1 text-orange-600 text-sm",children:[(0,ae.jsx)(y,{size:16}),"\u672a\u914d\u7f6e"]})]}),(!u||o)&&(0,ae.jsxs)("div",{className:"space-y-2",children:[(0,ae.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"API\u5bc6\u94a5"}),(0,ae.jsxs)("div",{className:"relative",children:[(0,ae.jsx)("input",{type:i?"text":"password",value:a,onChange:e=>s(e.target.value),placeholder:"\u8bf7\u8f93\u5165\u667a\u8c31GLM API\u5bc6\u94a5",className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:h}),(0,ae.jsx)("button",{type:"button",onClick:()=>l(!i),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?(0,ae.jsx)(Ae,{size:16}):(0,ae.jsx)(ze,{size:16})})]})]}),(0,ae.jsx)("div",{className:"flex gap-2",children:!u||o?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsxs)("button",{onClick:async()=>{if(a.trim()){f(!0),m(null);try{if(!$.validateApiKey(a))throw new Error("API\u5bc6\u94a5\u683c\u5f0f\u4e0d\u6b63\u786e");$.setApiKey(a),d(!0),c(!1),m({success:!0,message:"API\u5bc6\u94a5\u4fdd\u5b58\u6210\u529f"}),n&&n(a),setTimeout((()=>m(null)),3e3)}catch(e){m({success:!1,message:e.message})}finally{f(!1)}}else m({success:!1,message:"API\u5bc6\u94a5\u4e0d\u80fd\u4e3a\u7a7a"})},disabled:h||!a.trim(),className:"flex items-center gap-1 px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:[(0,ae.jsx)(Te,{size:16}),h?"\u9a8c\u8bc1\u4e2d...":"\u4fdd\u5b58"]}),o&&(0,ae.jsxs)("button",{onClick:()=>{c(!1),m(null);const e=$.getApiKey();s(e||"")},className:"flex items-center gap-1 px-3 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 text-sm",children:[(0,ae.jsx)(re,{size:16}),"\u53d6\u6d88"]})]}):(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsxs)("button",{onClick:()=>{c(!0),m(null)},className:"flex items-center gap-1 px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",children:[(0,ae.jsx)(Ee,{size:16}),"\u4fee\u6539\u5bc6\u94a5"]}),(0,ae.jsxs)("button",{onClick:()=>{$.clearApiKey(),s(""),d(!1),c(!1),m({success:!0,message:"API\u5bc6\u94a5\u5df2\u6e05\u9664"}),n&&n(null),setTimeout((()=>m(null)),3e3)},className:"flex items-center gap-1 px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 text-sm",children:[(0,ae.jsx)(re,{size:16}),"\u6e05\u9664\u5bc6\u94a5"]})]})}),p&&(0,ae.jsx)("div",{className:"p-2 rounded-md text-sm ".concat(p.success?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"),children:p.message}),(0,ae.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[(0,ae.jsx)("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"\u5982\u4f55\u83b7\u53d6API\u5bc6\u94a5\uff1f"}),(0,ae.jsxs)("ol",{className:"text-sm text-blue-700 space-y-1",children:[(0,ae.jsx)("li",{children:"1. \u8bbf\u95ee\u667a\u8c31AI\u5f00\u653e\u5e73\u53f0"}),(0,ae.jsx)("li",{children:"2. \u6ce8\u518c\u8d26\u53f7\u5e76\u5b8c\u6210\u5b9e\u540d\u8ba4\u8bc1"}),(0,ae.jsx)("li",{children:"3. \u5728\u63a7\u5236\u53f0\u521b\u5efaAPI\u5bc6\u94a5"}),(0,ae.jsx)("li",{children:"4. GLM-4-Flash\u6a21\u578b\u5b8c\u5168\u514d\u8d39\u4f7f\u7528"})]}),(0,ae.jsxs)("a",{href:"https://bigmodel.cn/usercenter/apikeys",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 mt-2 text-blue-600 hover:text-blue-800 text-sm",children:[(0,ae.jsx)(Ie,{size:14}),"\u524d\u5f80\u83b7\u53d6API\u5bc6\u94a5"]})]})]})]})},Oe=JSON.parse('{"version":"1.0.0","lastUpdated":"2024-01-01","description":"I-Prompt \u6807\u7b7e\u5e93\u6570\u636e - \u7edf\u4e00\u7ba1\u7406\u6240\u6709\u6807\u7b7e\u548c\u7ffb\u8bd1","categories":{"favorites":{"name":"\u6536\u85cf","icon":"\u2764\ufe0f","color":"bg-red-100 text-red-700","isDefault":true,"subcategories":{"popular":{"name":"\u70ed\u95e8\u6807\u7b7e","isDefault":true,"tags":[{"id":"pop_001","en":"masterpiece","cn":"\u6770\u4f5c","frequency":95},{"id":"pop_002","en":"best quality","cn":"\u6700\u4f73\u8d28\u91cf","frequency":92},{"id":"pop_003","en":"ultra detailed","cn":"\u8d85\u8be6\u7ec6","frequency":88},{"id":"pop_004","en":"beautiful girl","cn":"\u7f8e\u4e3d\u5973\u5b69","frequency":90},{"id":"pop_005","en":"anime style","cn":"\u52a8\u6f2b\u98ce\u683c","frequency":89},{"id":"pop_006","en":"highly detailed","cn":"\u9ad8\u5ea6\u8be6\u7ec6","frequency":87},{"id":"pop_007","en":"perfect anatomy","cn":"\u5b8c\u7f8e\u89e3\u5256","frequency":84},{"id":"pop_008","en":"sharp focus","cn":"\u9510\u5229\u7126\u70b9","frequency":86},{"id":"pop_009","en":"professional","cn":"\u4e13\u4e1a\u7ea7","frequency":83},{"id":"pop_010","en":"photorealistic","cn":"\u7167\u7247\u7ea7\u5199\u5b9e","frequency":81}]},"personal":{"name":"\u4e2a\u4eba\u6536\u85cf","isDefault":false,"tags":[]}}},"character":{"name":"\u4eba\u7269","icon":"\ud83d\udc64","color":"bg-blue-100 text-blue-700","isDefault":true,"subcategories":{"gender":{"name":"\u6027\u522b\u7279\u5f81","isDefault":true,"tags":[{"id":"char_001","en":"beautiful girl","cn":"\u7f8e\u4e3d\u5973\u5b69","frequency":90},{"id":"char_002","en":"cute girl","cn":"\u53ef\u7231\u5973\u5b69","frequency":88},{"id":"char_003","en":"handsome boy","cn":"\u82f1\u4fca\u7537\u5b69","frequency":75},{"id":"char_004","en":"pretty woman","cn":"\u6f02\u4eae\u5973\u6027","frequency":82},{"id":"char_005","en":"strong man","cn":"\u5f3a\u58ee\u7537\u6027","frequency":70},{"id":"char_006","en":"elegant lady","cn":"\u4f18\u96c5\u5973\u58eb","frequency":78},{"id":"char_007","en":"young girl","cn":"\u5e74\u8f7b\u5973\u5b69","frequency":85},{"id":"char_008","en":"mature woman","cn":"\u6210\u719f\u5973\u6027","frequency":72}]},"age":{"name":"\u5e74\u9f84\u7279\u5f81","isDefault":true,"tags":[{"id":"age_001","en":"young","cn":"\u5e74\u8f7b","frequency":85},{"id":"age_002","en":"adult","cn":"\u6210\u4eba","frequency":80},{"id":"age_003","en":"teenager","cn":"\u9752\u5c11\u5e74","frequency":75},{"id":"age_004","en":"child","cn":"\u513f\u7ae5","frequency":60},{"id":"age_005","en":"elderly","cn":"\u8001\u5e74","frequency":45},{"id":"age_006","en":"middle-aged","cn":"\u4e2d\u5e74","frequency":55}]},"special":{"name":"\u7279\u6b8a\u89d2\u8272","isDefault":true,"tags":[{"id":"spec_001","en":"dragon girl","cn":"\u9f99\u5a18","frequency":65},{"id":"spec_002","en":"cat girl","cn":"\u732b\u5a18","frequency":78},{"id":"spec_003","en":"fox girl","cn":"\u72d0\u5a18","frequency":70},{"id":"spec_004","en":"wolf girl","cn":"\u72fc\u5a18","frequency":62},{"id":"spec_005","en":"rabbit girl","cn":"\u5154\u5a18","frequency":68},{"id":"spec_006","en":"angel","cn":"\u5929\u4f7f","frequency":72},{"id":"spec_007","en":"demon","cn":"\u6076\u9b54","frequency":69},{"id":"spec_008","en":"elf","cn":"\u7cbe\u7075","frequency":74},{"id":"spec_009","en":"maid","cn":"\u5973\u4ec6","frequency":76},{"id":"spec_010","en":"shrine maiden","cn":"\u5deb\u5973","frequency":58}]}}},"appearance":{"name":"\u5916\u89c2","icon":"\u2728","color":"bg-purple-100 text-purple-700","isDefault":true,"subcategories":{"hair":{"name":"\u53d1\u578b\u53d1\u8272","isDefault":true,"tags":[{"id":"hair_001","en":"long hair","cn":"\u957f\u53d1","frequency":92},{"id":"hair_002","en":"short hair","cn":"\u77ed\u53d1","frequency":78},{"id":"hair_003","en":"white hair","cn":"\u767d\u53d1","frequency":85},{"id":"hair_004","en":"black hair","cn":"\u9ed1\u53d1","frequency":88},{"id":"hair_005","en":"red hair","cn":"\u7ea2\u53d1","frequency":82},{"id":"hair_006","en":"blue hair","cn":"\u84dd\u53d1","frequency":75},{"id":"hair_007","en":"blonde hair","cn":"\u91d1\u53d1","frequency":80},{"id":"hair_008","en":"silver hair","cn":"\u94f6\u53d1","frequency":70},{"id":"hair_009","en":"purple hair","cn":"\u7d2b\u53d1","frequency":68},{"id":"hair_010","en":"green hair","cn":"\u7eff\u53d1","frequency":65},{"id":"hair_011","en":"pink hair","cn":"\u7c89\u53d1","frequency":72},{"id":"hair_012","en":"brown hair","cn":"\u68d5\u53d1","frequency":76},{"id":"hair_013","en":"ponytail","cn":"\u9a6c\u5c3e","frequency":74},{"id":"hair_014","en":"twintails","cn":"\u53cc\u9a6c\u5c3e","frequency":71},{"id":"hair_015","en":"braid","cn":"\u9ebb\u82b1\u8fab","frequency":58}]},"eyes":{"name":"\u773c\u90e8\u7279\u5f81","isDefault":true,"tags":[{"id":"eyes_001","en":"blue eyes","cn":"\u84dd\u773c","frequency":85},{"id":"eyes_002","en":"red eyes","cn":"\u7ea2\u773c","frequency":78},{"id":"eyes_003","en":"green eyes","cn":"\u7eff\u773c","frequency":72},{"id":"eyes_004","en":"golden eyes","cn":"\u91d1\u773c","frequency":70},{"id":"eyes_005","en":"white eyes","cn":"\u767d\u773c","frequency":65},{"id":"eyes_006","en":"black eyes","cn":"\u9ed1\u773c","frequency":68},{"id":"eyes_007","en":"brown eyes","cn":"\u68d5\u773c","frequency":75},{"id":"eyes_008","en":"purple eyes","cn":"\u7d2b\u773c","frequency":62},{"id":"eyes_009","en":"heterochromia","cn":"\u5f02\u8272\u77b3","frequency":58},{"id":"eyes_010","en":"black sclera","cn":"\u9ed1\u8272\u7684\u773c\u767d","frequency":45},{"id":"eyes_011","en":"white sclera","cn":"\u767d\u8272\u7684\u773c\u767d","frequency":40},{"id":"eyes_012","en":"big eyes","cn":"\u5927\u773c","frequency":80},{"id":"eyes_013","en":"small eyes","cn":"\u5c0f\u773c","frequency":55},{"id":"eyes_014","en":"narrow eyes","cn":"\u7ec6\u773c","frequency":52}]},"expression":{"name":"\u8868\u60c5\u52a8\u4f5c","isDefault":true,"tags":[{"id":"expr_001","en":"smile","cn":"\u5fae\u7b11","frequency":90},{"id":"expr_002","en":"happy","cn":"\u5f00\u5fc3","frequency":85},{"id":"expr_003","en":"sad","cn":"\u60b2\u4f24","frequency":65},{"id":"expr_004","en":"angry","cn":"\u6124\u6012","frequency":60},{"id":"expr_005","en":"surprised","cn":"\u60ca\u8bb6","frequency":70},{"id":"expr_006","en":"shy","cn":"\u5bb3\u7f9e","frequency":75},{"id":"expr_007","en":"serious","cn":"\u4e25\u8083","frequency":68},{"id":"expr_008","en":"peaceful","cn":"\u5e73\u9759","frequency":72},{"id":"expr_009","en":"excited","cn":"\u5174\u594b","frequency":74},{"id":"expr_010","en":"looking at viewer","cn":"\u770b\u5411\u89c2\u4f17","frequency":88}]}}},"clothing":{"name":"\u670d\u88c5","icon":"\ud83d\udc57","color":"bg-pink-100 text-pink-700","isDefault":true,"subcategories":{"uniform":{"name":"\u5236\u670d\u7c7b","isDefault":true,"tags":[{"id":"cloth_001","en":"school uniform","cn":"\u6821\u670d","frequency":85},{"id":"cloth_002","en":"maid outfit","cn":"\u5973\u4ec6\u88c5","frequency":78},{"id":"cloth_003","en":"nurse outfit","cn":"\u62a4\u58eb\u88c5","frequency":65},{"id":"cloth_004","en":"police uniform","cn":"\u8b66\u5bdf\u5236\u670d","frequency":58},{"id":"cloth_005","en":"military uniform","cn":"\u519b\u88c5","frequency":62}]},"casual":{"name":"\u4f11\u95f2\u88c5","isDefault":true,"tags":[{"id":"casual_001","en":"dress","cn":"\u8fde\u8863\u88d9","frequency":82},{"id":"casual_002","en":"t-shirt","cn":"T\u6064","frequency":75},{"id":"casual_003","en":"jeans","cn":"\u725b\u4ed4\u88e4","frequency":70},{"id":"casual_004","en":"skirt","cn":"\u77ed\u88d9","frequency":78},{"id":"casual_005","en":"jacket","cn":"\u5916\u5957","frequency":72}]},"traditional":{"name":"\u4f20\u7edf\u670d\u88c5","isDefault":true,"tags":[{"id":"trad_001","en":"kimono","cn":"\u548c\u670d","frequency":68},{"id":"trad_002","en":"cheongsam","cn":"\u65d7\u888d","frequency":62},{"id":"trad_003","en":"hanfu","cn":"\u6c49\u670d","frequency":58},{"id":"trad_004","en":"gothic lolita","cn":"\u54e5\u7279\u841d\u8389","frequency":65}]}}},"style":{"name":"\u98ce\u683c","icon":"\ud83c\udfa8","color":"bg-green-100 text-green-700","isDefault":true,"subcategories":{"art_style":{"name":"\u827a\u672f\u98ce\u683c","isDefault":true,"tags":[{"id":"style_001","en":"anime style","cn":"\u52a8\u6f2b\u98ce\u683c","frequency":95},{"id":"style_002","en":"realistic","cn":"\u5199\u5b9e","frequency":88},{"id":"style_003","en":"oil painting","cn":"\u6cb9\u753b","frequency":72},{"id":"style_004","en":"watercolor","cn":"\u6c34\u5f69","frequency":68},{"id":"style_005","en":"digital art","cn":"\u6570\u5b57\u827a\u672f","frequency":85},{"id":"style_006","en":"sketch","cn":"\u7d20\u63cf","frequency":65},{"id":"style_007","en":"cartoon","cn":"\u5361\u901a","frequency":75},{"id":"style_008","en":"3d render","cn":"3D\u6e32\u67d3","frequency":70}]},"theme":{"name":"\u4e3b\u9898\u98ce\u683c","isDefault":true,"tags":[{"id":"theme_001","en":"fantasy","cn":"\u5947\u5e7b","frequency":82},{"id":"theme_002","en":"sci-fi","cn":"\u79d1\u5e7b","frequency":75},{"id":"theme_003","en":"cyberpunk","cn":"\u8d5b\u535a\u670b\u514b","frequency":68},{"id":"theme_004","en":"steampunk","cn":"\u84b8\u6c7d\u670b\u514b","frequency":62},{"id":"theme_005","en":"medieval","cn":"\u4e2d\u4e16\u7eaa","frequency":65},{"id":"theme_006","en":"modern","cn":"\u73b0\u4ee3","frequency":78},{"id":"theme_007","en":"futuristic","cn":"\u672a\u6765\u6d3e","frequency":70},{"id":"theme_008","en":"retro","cn":"\u590d\u53e4","frequency":72}]}}},"quality":{"name":"\u8d28\u91cf","icon":"\u2b50","color":"bg-yellow-100 text-yellow-700","isDefault":true,"subcategories":{"technical":{"name":"\u6280\u672f\u8d28\u91cf","isDefault":true,"tags":[{"id":"qual_001","en":"masterpiece","cn":"\u6770\u4f5c","frequency":95},{"id":"qual_002","en":"best quality","cn":"\u6700\u4f73\u8d28\u91cf","frequency":92},{"id":"qual_003","en":"ultra detailed","cn":"\u8d85\u8be6\u7ec6","frequency":88},{"id":"qual_004","en":"highly detailed","cn":"\u9ad8\u5ea6\u8be6\u7ec6","frequency":87},{"id":"qual_005","en":"perfect anatomy","cn":"\u5b8c\u7f8e\u89e3\u5256","frequency":84},{"id":"qual_006","en":"sharp focus","cn":"\u9510\u5229\u7126\u70b9","frequency":86},{"id":"qual_007","en":"professional","cn":"\u4e13\u4e1a\u7ea7","frequency":83},{"id":"qual_008","en":"photorealistic","cn":"\u7167\u7247\u7ea7\u5199\u5b9e","frequency":81},{"id":"qual_009","en":"8k","cn":"8K\u5206\u8fa8\u7387","frequency":78},{"id":"qual_010","en":"4k","cn":"4K\u5206\u8fa8\u7387","frequency":75}]},"negative":{"name":"\u8d1f\u9762\u8d28\u91cf","isDefault":true,"tags":[{"id":"neg_001","en":"low quality","cn":"\u4f4e\u8d28\u91cf","frequency":85},{"id":"neg_002","en":"blurry","cn":"\u6a21\u7cca","frequency":82},{"id":"neg_003","en":"bad anatomy","cn":"\u9519\u8bef\u89e3\u5256","frequency":88},{"id":"neg_004","en":"extra fingers","cn":"\u591a\u4f59\u624b\u6307","frequency":90},{"id":"neg_005","en":"bad hands","cn":"\u9519\u8bef\u624b\u90e8","frequency":87},{"id":"neg_006","en":"deformed","cn":"\u53d8\u5f62","frequency":85},{"id":"neg_007","en":"ugly","cn":"\u4e11\u964b","frequency":80},{"id":"neg_008","en":"duplicate","cn":"\u91cd\u590d","frequency":75}]}}},"environment":{"name":"\u73af\u5883","icon":"\ud83c\udf0d","color":"bg-teal-100 text-teal-700","isDefault":true,"subcategories":{"location":{"name":"\u5730\u70b9\u573a\u666f","isDefault":true,"tags":[{"id":"env_001","en":"outdoors","cn":"\u6237\u5916","frequency":85},{"id":"env_002","en":"indoors","cn":"\u5ba4\u5185","frequency":82},{"id":"env_003","en":"forest","cn":"\u68ee\u6797","frequency":75},{"id":"env_004","en":"beach","cn":"\u6d77\u6ee9","frequency":78},{"id":"env_005","en":"city","cn":"\u57ce\u5e02","frequency":80},{"id":"env_006","en":"school","cn":"\u5b66\u6821","frequency":72},{"id":"env_007","en":"bedroom","cn":"\u5367\u5ba4","frequency":70},{"id":"env_008","en":"garden","cn":"\u82b1\u56ed","frequency":68}]},"weather":{"name":"\u5929\u6c14\u5149\u7167","isDefault":true,"tags":[{"id":"weather_001","en":"sunlight","cn":"\u9633\u5149","frequency":85},{"id":"weather_002","en":"moonlight","cn":"\u6708\u5149","frequency":72},{"id":"weather_003","en":"sunset","cn":"\u65e5\u843d","frequency":78},{"id":"weather_004","en":"sunrise","cn":"\u65e5\u51fa","frequency":70},{"id":"weather_005","en":"cloudy","cn":"\u591a\u4e91","frequency":65},{"id":"weather_006","en":"rainy","cn":"\u96e8\u5929","frequency":62},{"id":"weather_007","en":"snowy","cn":"\u96ea\u5929","frequency":68}]}}}},"translations":{"description":"\u82f1\u6587\u5230\u4e2d\u6587\u7684\u7ffb\u8bd1\u6620\u5c04\u8868","mapping":{"1girl":"\u4e00\u4e2a\u5973\u5b69","masterpiece":"\u6770\u4f5c","best quality":"\u6700\u4f73\u8d28\u91cf","ultra detailed":"\u8d85\u8be6\u7ec6","beautiful girl":"\u7f8e\u4e3d\u5973\u5b69","anime style":"\u52a8\u6f2b\u98ce\u683c","highly detailed":"\u9ad8\u5ea6\u8be6\u7ec6","perfect anatomy":"\u5b8c\u7f8e\u89e3\u5256","sharp focus":"\u9510\u5229\u7126\u70b9","professional":"\u4e13\u4e1a\u7ea7","photorealistic":"\u7167\u7247\u5199\u5b9e","white hair":"\u767d\u53d1","long hair":"\u957f\u53d1","dragon girl":"\u9f99\u5a18","white eyes":"\u767d\u773c","red eyes":"\u7ea2\u773c","blue eyes":"\u84dd\u773c","green eyes":"\u7eff\u773c","brown eyes":"\u68d5\u773c","golden eyes":"\u91d1\u773c","black eyes":"\u9ed1\u773c","black sclera":"\u9ed1\u8272\u7684\u773c\u767d","white sclera":"\u767d\u8272\u7684\u773c\u767d","heterochromia":"\u5f02\u8272\u77b3","school uniform":"\u6821\u670d","casual wear":"\u4f11\u95f2\u88c5","maid outfit":"\u5973\u4ec6\u88c5","formal wear":"\u6b63\u88c5","kimono":"\u548c\u670d","smile":"\u5fae\u7b11","happy":"\u5f00\u5fc3","shy":"\u5bb3\u7f9e","serious":"\u4e25\u8083","surprised":"\u60ca\u8bb6","standing":"\u7ad9\u7acb","sitting":"\u5750\u7740","walking":"\u884c\u8d70","looking at viewer":"\u770b\u5411\u89c2\u4f17","high quality":"\u9ad8\u8d28\u91cf","8k":"8K\u5206\u8fa8\u7387","detailed":"\u8be6\u7ec6\u7684","realistic":"\u5199\u5b9e\u7684","short hair":"\u77ed\u53d1","black hair":"\u9ed1\u53d1","brown hair":"\u68d5\u53d1","blonde hair":"\u91d1\u53d1","red hair":"\u7ea2\u53d1","blue hair":"\u84dd\u53d1","green hair":"\u7eff\u53d1","purple hair":"\u7d2b\u53d1","pink hair":"\u7c89\u53d1","silver hair":"\u94f6\u53d1","twin tails":"\u53cc\u9a6c\u5c3e","ponytail":"\u9a6c\u5c3e","beautiful":"\u7f8e\u4e3d\u7684","cute":"\u53ef\u7231\u7684","girl":"\u5973\u5b69","boy":"\u7537\u5b69","woman":"\u5973\u4eba","man":"\u7537\u4eba","handsome":"\u5e05\u6c14\u7684","elegant":"\u4f18\u96c5\u7684","gorgeous":"\u534e\u4e3d\u7684","pretty":"\u6f02\u4eae\u7684","1boy":"\u4e00\u4e2a\u7537\u5b69","1man":"\u4e00\u4e2a\u7537\u4eba","1woman":"\u4e00\u4e2a\u5973\u4eba","solo":"\u5355\u4eba","multiple girls":"\u591a\u4e2a\u5973\u5b69","multiple boys":"\u591a\u4e2a\u7537\u5b69","portrait":"\u8096\u50cf","full body":"\u5168\u8eab","upper body":"\u4e0a\u534a\u8eab","face focus":"\u9762\u90e8\u7279\u5199","close-up":"\u7279\u5199","wide shot":"\u8fdc\u666f","outdoors":"\u6237\u5916","indoors":"\u5ba4\u5185","nature":"\u81ea\u7136","forest":"\u68ee\u6797","beach":"\u6d77\u6ee9","mountain":"\u5c71\u8109","city":"\u57ce\u5e02","sky":"\u5929\u7a7a","ocean":"\u6d77\u6d0b","sunset":"\u65e5\u843d","sunrise":"\u65e5\u51fa","night":"\u591c\u665a","day":"\u767d\u5929","oil painting":"\u6cb9\u753b","watercolor":"\u6c34\u5f69\u753b","sketch":"\u7d20\u63cf","illustration":"\u63d2\u753b","digital art":"\u6570\u5b57\u827a\u672f","concept art":"\u6982\u5ff5\u827a\u672f","traditional art":"\u4f20\u7edf\u827a\u672f","painting":"\u7ed8\u753b","hyperrealistic":"\u8d85\u5199\u5b9e","semi-realistic":"\u534a\u5199\u5b9e","cartoon":"\u5361\u901a","chibi":"Q\u7248","fantasy":"\u5947\u5e7b","sci-fi":"\u79d1\u5e7b","cyberpunk":"\u8d5b\u535a\u670b\u514b","steampunk":"\u84b8\u6c7d\u670b\u514b","cinematic":"\u7535\u5f71\u7ea7","cinematic lighting":"\u7535\u5f71\u7ea7\u5149\u7167","dramatic lighting":"\u620f\u5267\u6027\u5149\u7167","soft lighting":"\u67d4\u548c\u5149\u7167","natural lighting":"\u81ea\u7136\u5149\u7167","rim lighting":"\u8f6e\u5ed3\u5149","volumetric lighting":"\u4f53\u79ef\u5149","golden hour":"\u9ec4\u91d1\u65f6\u6bb5","4k":"4K\u5206\u8fa8\u7387","high resolution":"\u9ad8\u5206\u8fa8\u7387","uhd":"\u8d85\u9ad8\u6e05","hdr":"\u9ad8\u52a8\u6001\u8303\u56f4","raw":"\u539f\u59cb\u683c\u5f0f","soft":"\u67d4\u548c\u7684","vibrant":"\u9c9c\u8273\u7684","warm colors":"\u6696\u8272\u8c03","cool colors":"\u51b7\u8272\u8c03","pastel colors":"\u7c89\u5f69\u8272\u8c03","monochrome":"\u5355\u8272","black and white":"\u9ed1\u767d","colorful":"\u591a\u5f69\u7684","texture":"\u7eb9\u7406","smooth":"\u5149\u6ed1\u7684","rough":"\u7c97\u7cd9\u7684","glossy":"\u5149\u6cfd\u7684","matte":"\u54d1\u5149\u7684","metallic":"\u91d1\u5c5e\u7684","transparent":"\u900f\u660e\u7684","translucent":"\u534a\u900f\u660e\u7684","motion blur":"\u8fd0\u52a8\u6a21\u7cca","depth of field":"\u666f\u6df1","bokeh":"\u80cc\u666f\u865a\u5316","lens flare":"\u955c\u5934\u5149\u6655","particle effects":"\u7c92\u5b50\u6548\u679c","glow":"\u53d1\u5149","sparkle":"\u95ea\u5149","clothing":"\u670d\u88c5","dress":"\u8fde\u8863\u88d9","shirt":"\u886c\u886b","pants":"\u88e4\u5b50","skirt":"\u88d9\u5b50","jacket":"\u5939\u514b","coat":"\u5916\u5957","hat":"\u5e3d\u5b50","shoes":"\u978b\u5b50","accessories":"\u914d\u9970","jewelry":"\u9996\u9970","pose":"\u59ff\u52bf","dynamic pose":"\u52a8\u6001\u59ff\u52bf","action":"\u52a8\u4f5c","dancing":"\u8df3\u821e","running":"\u8dd1\u6b65","jumping":"\u8df3\u8dc3","flying":"\u98de\u884c","floating":"\u6f02\u6d6e","expression":"\u8868\u60c5","emotion":"\u60c5\u611f","angry":"\u6124\u6012","sad":"\u60b2\u4f24","excited":"\u5174\u594b","calm":"\u5e73\u9759","confident":"\u81ea\u4fe1","mysterious":"\u795e\u79d8","weapon":"\u6b66\u5668","sword":"\u5251","gun":"\u67aa","magic":"\u9b54\u6cd5","spell":"\u5492\u8bed","fire":"\u706b","water":"\u6c34","ice":"\u51b0","lightning":"\u95ea\u7535","energy":"\u80fd\u91cf","animal":"\u52a8\u7269","cat":"\u732b","dog":"\u72d7","bird":"\u9e1f","dragon":"\u9f99","wolf":"\u72fc","horse":"\u9a6c","butterfly":"\u8774\u8776","fish":"\u9c7c","fantasy creature":"\u5947\u5e7b\u751f\u7269","angel":"\u5929\u4f7f","demon":"\u6076\u9b54","fairy":"\u4ed9\u5973","elf":"\u7cbe\u7075","witch":"\u5973\u5deb","vampire":"\u5438\u8840\u9b3c","mermaid":"\u7f8e\u4eba\u9c7c","robot":"\u673a\u5668\u4eba","dig":"\u6316\u6398","volvo":"\u6c83\u5c14\u6c83","big four":"\u56db\u5927","annoying frenchman":"\u70e6\u4eba\u7684\u6cd5\u56fd\u4eba","david":"\u5927\u536b","corporate":"\u4f01\u4e1a\u7684","copernicus":"\u54e5\u767d\u5c3c","heaven and earth":"\u5929\u5730","education":"\u6559\u80b2","heaven":"\u5929\u5802","earth":"\u5730\u7403"}}}');const De=new class{constructor(){this.data=Oe,this.userDatabase=this.loadUserDatabase()}getDatabase(){return l(l({},this.data.categories),this.userDatabase)}getDefaultDatabase(){return this.data.categories}getTranslations(){return this.data.translations.mapping}findChineseTranslation(e){const t=this.getTranslations();console.log('\ud83d\udd0d [findChineseTranslation] \u67e5\u627e: "'.concat(e,'" -> toLowerCase: "').concat(e.toLowerCase(),'"')),console.log("\ud83d\udcda [findChineseTranslation] \u53ef\u7528\u7ffb\u8bd1\u6570\u91cf: ".concat(Object.keys(t).length));["dig","volvo","big four","annoying frenchman"].forEach((e=>{t.hasOwnProperty(e)?console.log('\u2705 [findChineseTranslation] \u627e\u5230\u952e: "'.concat(e,'" = "').concat(t[e],'"')):console.log('\u274c [findChineseTranslation] \u672a\u627e\u5230\u952e: "'.concat(e,'"'))}));const n=t[e.toLowerCase()]||"";return console.log('\ud83c\udfaf [findChineseTranslation] \u67e5\u627e\u7ed3\u679c: "'.concat(e,'" -> "').concat(n,'"')),n}findEnglishTranslation(e){const t=this.getTranslations();for(const[r,a]of Object.entries(t))if(a===e||a.includes(e))return r;const n=this.getDatabase();for(const r of Object.values(n))if(r.subcategories)for(const t of Object.values(r.subcategories))if(t.tags)for(const n of t.tags)if(n.cn===e||n.cn.includes(e))return n.en;return""}searchTags(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||this.getDatabase(),n=[],r=e.toLowerCase();return Object.values(t).forEach((t=>{t.subcategories&&Object.values(t.subcategories).forEach((a=>{a.tags&&a.tags.forEach((s=>{(s.en.toLowerCase().includes(r)||s.cn.includes(e)||s.id.toLowerCase().includes(r))&&n.push(l(l({},s),{},{category:t.name,subcategory:a.name}))}))}))})),n.sort(((e,t)=>(t.frequency||0)-(e.frequency||0)))}getPopularTags(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||this.getDatabase(),n=[];return Object.values(t).forEach((e=>{e.subcategories&&Object.values(e.subcategories).forEach((e=>{e.tags&&n.push(...e.tags)}))})),n.sort(((e,t)=>(t.frequency||0)-(e.frequency||0))).slice(0,e)}getCategoryTags(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.getDatabase()[e];if(!n||!n.subcategories)return[];if(t){const e=n.subcategories[t];return e&&e.tags||[]}const r=[];return Object.values(n.subcategories).forEach((e=>{e.tags&&r.push(...e.tags)})),r}loadUserDatabase(){try{const e=localStorage.getItem("userTagDatabase");return e?JSON.parse(e):{}}catch(e){return console.error("\u52a0\u8f7d\u7528\u6237\u6807\u7b7e\u5e93\u5931\u8d25:",e),{}}}saveUserDatabase(e){try{localStorage.setItem("userTagDatabase",JSON.stringify(e)),this.userDatabase=e}catch(t){console.error("\u4fdd\u5b58\u7528\u6237\u6807\u7b7e\u5e93\u5931\u8d25:",t)}}addUserCategory(e,t){const n=l({},this.userDatabase);n[e]=l(l({},t),{},{isDefault:!1,isUserDefined:!0}),this.saveUserDatabase(n)}removeUserCategory(e){const t=l({},this.userDatabase);delete t[e],this.saveUserDatabase(t)}addUserSubcategory(e,t,n){const r=l({},this.userDatabase);r[e]||(r[e]={name:e,subcategories:{},isDefault:!1,isUserDefined:!0}),r[e].subcategories||(r[e].subcategories={}),r[e].subcategories[t]=l(l({},n),{},{isDefault:!1,isUserDefined:!0}),this.saveUserDatabase(r)}removeUserSubcategory(e,t){const n=l({},this.userDatabase);n[e]&&n[e].subcategories&&(delete n[e].subcategories[t],0===Object.keys(n[e].subcategories).length&&delete n[e]),this.saveUserDatabase(n)}addTagToCategory(e,t,n){const r=l({},this.userDatabase);r[e]||(r[e]={name:e,subcategories:{},isDefault:!1,isUserDefined:!0}),r[e].subcategories||(r[e].subcategories={}),r[e].subcategories[t]||(r[e].subcategories[t]={name:t,tags:[],isDefault:!1,isUserDefined:!0}),r[e].subcategories[t].tags||(r[e].subcategories[t].tags=[]);const a=r[e].subcategories[t].tags,s=a.findIndex((e=>e.en===n.en));s>=0?a[s]=l(l({},a[s]),n):a.push(l(l({id:"user_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))},n),{},{frequency:n.frequency||1})),this.saveUserDatabase(r)}removeTagFromCategory(e,t,n){const r=l({},this.userDatabase);if(r[e]&&r[e].subcategories&&r[e].subcategories[t]&&r[e].subcategories[t].tags){const a=r[e].subcategories[t].tags.filter((e=>e.id!==n));r[e].subcategories[t].tags=a,this.saveUserDatabase(r)}}resetUserDatabase(){localStorage.removeItem("userTagDatabase"),this.userDatabase={}}exportUserDatabase(){return{version:this.data.version,exportDate:(new Date).toISOString(),userData:this.userDatabase}}importUserDatabase(e){try{return!!e.userData&&(this.saveUserDatabase(e.userData),!0)}catch(t){return console.error("\u5bfc\u5165\u7528\u6237\u6570\u636e\u5e93\u5931\u8d25:",t),!1}}getStatistics(){const e=this.getDatabase();let t=0,n=0,r=0,a=0,s=0;return Object.values(e).forEach((e=>{t++,e.isUserDefined&&a++,e.subcategories&&Object.values(e.subcategories).forEach((t=>{n++,t.tags&&(r+=t.tags.length,e.isUserDefined&&(s+=t.tags.length))}))})),{totalCategories:t,totalSubcategories:n,totalTags:r,userCategories:a,userTags:s,defaultCategories:t-a,defaultTags:r-s}}getFavorites(){try{const e=localStorage.getItem("favorites");if(e){const t=JSON.parse(e);return Array.isArray(t)?t:[]}return[]}catch(e){return console.error("\u83b7\u53d6\u6536\u85cf\u5217\u8868\u5931\u8d25:",e),[]}}saveFavorites(e){try{return localStorage.setItem("favorites",JSON.stringify(e)),!0}catch(t){return console.error("\u4fdd\u5b58\u6536\u85cf\u5217\u8868\u5931\u8d25:",t),!1}}addToFavorites(e){const t=this.getFavorites(),n="string"===typeof e?e:e.en;if(!t.some((e=>e.en===n))){const r={en:n,cn:"object"===typeof e?e.cn:this.findChineseTranslation(n),frequency:50,id:"fav-".concat(Date.now())};t.push(r),this.saveFavorites(t)}return t}removeFromFavorites(e){const t=this.getFavorites(),n="string"===typeof e?e:e.en,r=t.filter((e=>e.en!==n));return this.saveFavorites(r),r}},Le=()=>De.getDatabase(),Re=u("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Me=u("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Fe=u("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);function Ue(t){const{tag:n,index:r,isDisabled:a=!1,isFavorited:s=!1,onDelete:i,onToggleDisabled:l,onAdjustWeight:o,onAdjustBrackets:c,onCopy:u,onFavorite:d,onTranslate:h,onTranslationUpdate:f,translatedTags:p={},hoveredTag:m,setHoveredTag:g}=t,[x,b]=(0,e.useState)(""),[y,v]=(0,e.useState)(!1),[w,N]=(0,e.useState)(!1),_=(0,e.useRef)(null),S=(0,e.useRef)(null),C=(0,e.useRef)(null),{text:E,weight:T,bracketType:A,brackets:z}=(e=>{if(!e||"string"!==typeof e)return{text:"",weight:1,bracketType:"none",brackets:0};let t=e.trim(),n=1,r="none",a=0;const s=t.match(/^\(([^:()]+):([\d.]+)\)$/);if(s)return t=s[1],n=parseFloat(s[2])||1,{text:t,weight:n,bracketType:"none",brackets:0};const i=t.match(/^([^:()[\]{}]+):([\d.]+)$/);if(i)return t=i[1],n=parseFloat(i[2])||1,{text:t,weight:n,bracketType:"none",brackets:0};let l=t;const o=t.match(/^(\(+)(.+?)(\)+)$/);if(o&&o[1].length===o[3].length)a=o[1].length,r="round",t=o[2];else{const e=t.match(/^(\[+)(.+?)(\]+)$/);if(e&&e[1].length===e[3].length)a=e[1].length,r="square",t=e[2];else{const e=t.match(/^(\{+)(.+?)(\}+)$/);e&&e[1].length===e[3].length&&(a=e[1].length,r="curly",t=e[2])}}return t.trim()||(t=l,r="none",a=0),{text:t,weight:n,bracketType:r,brackets:a}})(n),I=function(e){switch(e){case"delete":i&&i(r);break;case"toggle":l&&l(r);break;case"copy":u&&u(n);break;case"favorite":d&&d(n,x);break;case"translate":h&&h(E);break;case"weightUp":o&&o(r,.1);break;case"weightDown":o&&o(r,-.1);break;case"setBrackets":c&&c(r,arguments.length<=1?void 0:arguments[1],999);break;case"addBracket":c&&c(r,A||"round",1);break;case"removeBracket":c&&c(r,A,-1);break;case"reset":1!==T&&o&&o(r,1-T),z>0&&c&&c(r,A,-z);break;default:console.warn("Unknown action:",e)}};(0,e.useEffect)((()=>()=>{C.current&&clearTimeout(C.current)}),[]),(0,e.useEffect)((()=>{m===r?N(!0):m!==r&&N(!1)}),[m,r]);return(0,e.useEffect)((()=>{if(E)if(p[E])b(p[E]);else if(/^[a-zA-Z\s\-_\d]+$/.test(E)){v(!0);const e=setTimeout((async()=>{try{if(h){console.log('\ud83c\udff7\ufe0f [TagPill] \u5f00\u59cb\u7ffb\u8bd1\u6807\u7b7e: "'.concat(E,'"'));const e=await h(E);if(null!==e&&void 0!==e&&e.translatedText){console.log('\ud83d\udcdd [TagPill] \u539f\u59cb\u7ffb\u8bd1\u7ed3\u679c: "'.concat(e.translatedText,'"'));const t=(e=>{if(!e||"string"!==typeof e)return"";let t=e.trim();return[/^\[ALIBABA\]\s*\u7ffb\u8bd1[\uff1a:]?\s*/i,/^\[ALIBABA\]\s*Translated[\uff1a:]?\s*/i,/^\[.+?\]\s*\u7ffb\u8bd1[\uff1a:]?\s*/i,/^\[.+?\]\s*Translated[\uff1a:]?\s*/i,/^[^\u4e00-\u9fa5a-zA-Z]*[\uff1a:]\s*/,/^\u7ffb\u8bd1[\uff1a:]?\s*/,/^Translated[\uff1a:]?\s*/i,/^Result[\uff1a:]?\s*/i,/^Output[\uff1a:]?\s*/i].forEach((e=>{t=t.replace(e,"")})),t.trim()})(e.translatedText);console.log('\u2728 [TagPill] \u6e05\u7406\u540e\u7ed3\u679c: "'.concat(t,'"')),t&&t!==E&&/[\u4e00-\u9fa5]/.test(t)?(b(t),f&&f(E,t),console.log("\u2705 [TagPill] \u7ffb\u8bd1\u6210\u529f: ".concat(E," \u2192 ").concat(t))):console.log("\u26a0\ufe0f [TagPill] \u7ffb\u8bd1\u8d28\u91cf\u4e0d\u5408\u683c\uff0c\u4e0d\u663e\u793a\u7ffb\u8bd1")}}}catch(e){console.error("\u274c [TagPill] \u7ffb\u8bd1\u5931\u8d25:",e)}finally{v(!1)}}),500);return()=>clearTimeout(e)}}),[E,p,h,f]),(0,ae.jsxs)("div",{ref:_,className:"relative inline-block mb-16",onMouseEnter:()=>{C.current&&(clearTimeout(C.current),C.current=null),N(!0),g&&g(r)},onMouseLeave:e=>{const t=e.relatedTarget;t&&S.current&&S.current.contains(t)||(C.current=setTimeout((()=>{N(!1),g&&g(null)}),100))},children:[(0,ae.jsx)("div",{className:"\n        relative bg-blue-50 border-2 rounded-lg px-3 py-2 transition-all duration-200 cursor-pointer\n        ".concat(a?"border-gray-300 bg-gray-100 opacity-50":"border-blue-200 hover:border-blue-300 hover:shadow-md","\n        ").concat(w?"transform scale-105 shadow-lg border-blue-400":"","\n      "),children:(0,ae.jsxs)("div",{className:"text-center",children:[(0,ae.jsxs)("div",{className:"text-sm font-medium ".concat(a?"text-gray-500":"text-blue-700"),children:[E,1!==T&&(0,ae.jsxs)("span",{className:"ml-1 text-xs ".concat(T>=1.5?"text-red-600":T>1.2?"text-orange-600":T>1?"text-yellow-600":T<.8?"text-blue-600":"text-green-600"),children:[":",T.toFixed(1)]}),z>0&&(0,ae.jsxs)("span",{className:"ml-1 text-xs ".concat((()=>{switch(A){case"round":return"text-blue-600";case"square":return"text-purple-600";case"curly":return"text-green-600";default:return"text-gray-600"}})()),children:["round"===A&&"()","square"===A&&"[]","curly"===A&&"{}",z>1&&"\xd7".concat(z)]})]}),(0,ae.jsx)("div",{className:"text-xs mt-1 px-2 py-1 rounded transition-all ".concat(a?"text-gray-400 bg-gray-50":x?"text-orange-600 bg-orange-50 border border-orange-200":"text-gray-500 bg-gray-50 border border-gray-200"),children:y?(0,ae.jsx)("span",{className:"text-blue-500",children:"\u7ffb\u8bd1\u4e2d..."}):x||(0,ae.jsx)("span",{className:"text-gray-400",children:"\u70b9\u51fb\u7ffb\u8bd1\u6309\u94ae\u83b7\u53d6\u4e2d\u6587"})})]})}),w&&(0,ae.jsxs)("div",{ref:S,className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-4 z-[9999]",style:{zIndex:9999},onMouseEnter:()=>{C.current&&(clearTimeout(C.current),C.current=null),N(!0)},onMouseLeave:e=>{const t=e.relatedTarget;t&&_.current&&_.current.contains(t)||(C.current=setTimeout((()=>{N(!1),g&&g(null)}),100))},children:[(0,ae.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-2xl px-3 py-2 flex items-center gap-2 min-w-max",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-50 rounded border",children:[(0,ae.jsx)("button",{onClick:()=>I("weightDown"),disabled:T<=.1,className:"w-6 h-6 flex items-center justify-center hover:bg-gray-200 rounded disabled:opacity-50 transition-colors",title:"\u964d\u4f4e\u6743\u91cd",children:(0,ae.jsx)(Re,{size:12})}),(0,ae.jsx)("span",{className:"text-xs font-mono min-w-[2rem] text-center font-semibold",children:T.toFixed(1)}),(0,ae.jsx)("button",{onClick:()=>I("weightUp"),disabled:T>=2,className:"w-6 h-6 flex items-center justify-center hover:bg-gray-200 rounded disabled:opacity-50 transition-colors",title:"\u63d0\u9ad8\u6743\u91cd",children:(0,ae.jsx)(Me,{size:12})})]}),1===T&&(0,ae.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ae.jsx)("button",{onClick:()=>I("setBrackets","round"),className:"w-6 h-6 flex items-center justify-center rounded transition-colors text-xs ".concat("round"===A?"bg-blue-100 text-blue-600 border border-blue-200":"bg-gray-100 hover:bg-gray-200 text-gray-600"),title:"\u5706\u62ec\u53f7",children:"()"}),(0,ae.jsx)("button",{onClick:()=>I("setBrackets","square"),className:"w-6 h-6 flex items-center justify-center rounded transition-colors text-xs ".concat("square"===A?"bg-purple-100 text-purple-600 border border-purple-200":"bg-gray-100 hover:bg-gray-200 text-gray-600"),title:"\u65b9\u62ec\u53f7",children:"[]"}),(0,ae.jsxs)("button",{onClick:()=>I("setBrackets","curly"),className:"w-6 h-6 flex items-center justify-center rounded transition-colors text-xs ".concat("curly"===A?"bg-green-100 text-green-600 border border-green-200":"bg-gray-100 hover:bg-gray-200 text-gray-600"),title:"\u82b1\u62ec\u53f7",children:["{","}"]})]}),z>0&&(0,ae.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ae.jsx)("button",{onClick:()=>I("removeBracket"),disabled:z<=1,className:"w-6 h-6 flex items-center justify-center bg-red-100 hover:bg-red-200 text-red-600 rounded transition-colors text-xs disabled:opacity-50",title:"\u51cf\u5c11\u5d4c\u5957",children:"-"}),(0,ae.jsxs)("span",{className:"text-xs text-gray-600 min-w-[1.5rem] text-center",children:["\xd7",z]}),(0,ae.jsx)("button",{onClick:()=>I("addBracket"),disabled:z>=5,className:"w-6 h-6 flex items-center justify-center bg-green-100 hover:bg-green-200 text-green-600 rounded transition-colors text-xs disabled:opacity-50",title:"\u589e\u52a0\u5d4c\u5957",children:"+"})]}),(0,ae.jsx)("div",{className:"w-px h-5 bg-gray-300"}),(0,ae.jsx)("button",{onClick:()=>I("translate"),className:"p-1 hover:bg-blue-100 rounded text-blue-600 transition-colors",title:"\u7ffb\u8bd1\u6807\u7b7e",children:(0,ae.jsx)(be,{size:14})}),(0,ae.jsx)("button",{onClick:()=>I("copy"),className:"p-1 hover:bg-green-100 rounded text-green-600 transition-colors",title:"\u590d\u5236\u6807\u7b7e",children:(0,ae.jsx)(j,{size:14})}),(0,ae.jsx)("button",{onClick:()=>I("favorite"),className:"p-1 rounded transition-colors ".concat(s?"bg-red-100 hover:bg-red-200 text-red-600":"hover:bg-red-100 text-red-600"),title:s?"\u53d6\u6d88\u6536\u85cf":"\u6536\u85cf\u6807\u7b7e",children:(0,ae.jsx)(k,{size:14,fill:s?"currentColor":"none"})}),(0,ae.jsx)("button",{onClick:()=>I("toggle"),className:"p-1 rounded transition-colors ".concat(a?"hover:bg-gray-100 text-gray-600":"hover:bg-yellow-100 text-yellow-600"),title:a?"\u542f\u7528\u6807\u7b7e":"\u7981\u7528\u6807\u7b7e",children:a?(0,ae.jsx)(ze,{size:14}):(0,ae.jsx)(Ae,{size:14})}),(0,ae.jsx)("button",{onClick:()=>I("reset"),disabled:1===T&&0===z,className:"p-1 rounded transition-colors ".concat(1===T&&0===z?"opacity-30 cursor-not-allowed text-gray-400":"hover:bg-yellow-100 text-yellow-600"),title:"\u91cd\u7f6e",children:(0,ae.jsx)(Fe,{size:14})}),(0,ae.jsx)("button",{onClick:()=>I("delete"),className:"p-1 hover:bg-red-100 rounded text-red-600 transition-colors",title:"\u5220\u9664\u6807\u7b7e",children:(0,ae.jsx)(re,{size:14})})]}),(0,ae.jsx)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-full w-0 h-0 border-l-4 border-r-4 border-b-4 border-transparent border-b-white drop-shadow-sm"})]})]})}const qe=u("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Be=u("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),He=e=>{let{tag:t,onAdd:n,onToggleFavorite:r,isFavorited:a,onEdit:s,onDelete:i,isEditable:l,showManagement:o}=e;return(0,ae.jsxs)("div",{className:"group relative bg-white border border-gray-200 rounded-lg p-3 hover:border-blue-300 hover:shadow-md transition-all duration-200 cursor-pointer",onClick:()=>n(t),children:[(0,ae.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ae.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ae.jsx)("div",{className:"font-medium text-gray-900 text-sm mb-1 truncate",children:t.en}),t.cn&&(0,ae.jsx)("div",{className:"text-xs text-gray-600 mb-2 truncate",children:t.cn}),(0,ae.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[t.frequency&&(0,ae.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ae.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-400"}),(0,ae.jsxs)("span",{children:["\u70ed\u5ea6 ",t.frequency]})]}),t.category&&(0,ae.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full",children:t.category})]})]}),(0,ae.jsxs)("div",{className:"flex flex-col items-center gap-1 ml-2",children:[(0,ae.jsx)("button",{onClick:e=>{e.stopPropagation(),r(t)},className:"p-1.5 rounded-lg transition-colors ".concat(a?"text-red-500 bg-red-50 hover:bg-red-100":"text-gray-400 hover:text-red-500 hover:bg-red-50"),title:a?"\u53d6\u6d88\u6536\u85cf":"\u6dfb\u52a0\u6536\u85cf",children:(0,ae.jsx)(k,{size:14,className:a?"fill-current":""})}),o&&l&&(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)("button",{onClick:e=>{e.stopPropagation(),s(t)},className:"p-1.5 text-gray-400 hover:text-blue-500 hover:bg-blue-50 rounded-lg transition-colors",title:"\u7f16\u8f91\u6807\u7b7e",children:(0,ae.jsx)(qe,{size:14})}),(0,ae.jsx)("button",{onClick:e=>{e.stopPropagation(),i(t)},className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"\u5220\u9664\u6807\u7b7e",children:(0,ae.jsx)(Be,{size:14})})]})]})]}),(0,ae.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-blue-500/10 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none",children:(0,ae.jsx)("div",{className:"bg-blue-500 text-white p-2 rounded-full shadow-lg transform scale-75 group-hover:scale-100 transition-transform duration-200",children:(0,ae.jsx)(Me,{size:16})})}),t.isNew&&(0,ae.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white"}),t.isHot&&(0,ae.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-white"})]})},We=u("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ge=u("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ve=t=>{let{onClose:n}=t;const[r,a]=(0,e.useState)(0),s=[{title:"\u6b22\u8fce\u4f7f\u7528AI\u7ed8\u753b\u63d0\u793a\u8bcd\u52a9\u624b",icon:(0,ae.jsx)(b,{className:"text-purple-600",size:32}),content:(0,ae.jsxs)("div",{className:"space-y-4",children:[(0,ae.jsx)("p",{className:"text-gray-700",children:"\u8fd9\u662f\u4e00\u4e2a\u4e13\u4e1a\u7684AI\u7ed8\u753b\u63d0\u793a\u8bcd\u7f16\u8f91\u5668\uff0c\u5e2e\u52a9\u60a8\u521b\u4f5c\u51fa\u8272\u7684AI\u827a\u672f\u4f5c\u54c1\u3002"}),(0,ae.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,ae.jsx)("h4",{className:"font-semibold text-purple-900 mb-2",children:"\u4e3b\u8981\u529f\u80fd\uff1a"}),(0,ae.jsxs)("ul",{className:"text-purple-800 space-y-1 text-sm",children:[(0,ae.jsx)("li",{children:"\u2022 \u667a\u80fd\u6807\u7b7e\u7ba1\u7406\u548c\u7ec4\u5408"}),(0,ae.jsx)("li",{children:"\u2022 \u5b9e\u65f6\u4e2d\u82f1\u6587\u7ffb\u8bd1"}),(0,ae.jsx)("li",{children:"\u2022 \u6743\u91cd\u548c\u62ec\u53f7\u8c03\u8282"}),(0,ae.jsx)("li",{children:"\u2022 \u4e2a\u4eba\u6536\u85cf\u5939\u7ba1\u7406"}),(0,ae.jsx)("li",{children:"\u2022 \u4e30\u5bcc\u7684\u6807\u7b7e\u6570\u636e\u5e93"})]})]})]})},{title:"\u63d0\u793a\u8bcd\u7f16\u8f91\u533a\u57df",icon:(0,ae.jsx)(ve,{className:"text-blue-600",size:32}),content:(0,ae.jsxs)("div",{className:"space-y-4",children:[(0,ae.jsx)("p",{className:"text-gray-700",children:"\u5728\u9876\u90e8\u7684\u6587\u672c\u6846\u4e2d\u8f93\u5165\u60a8\u7684\u63d0\u793a\u8bcd\uff0c\u652f\u6301\u4e2d\u82f1\u6587\u6df7\u5408\u8f93\u5165\u3002"}),(0,ae.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,ae.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"\u7f16\u8f91\u529f\u80fd\uff1a"}),(0,ae.jsxs)("ul",{className:"text-blue-800 space-y-1 text-sm",children:[(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("strong",{children:"\u81ea\u52a8\u7ffb\u8bd1\uff1a"})," \u4e2d\u6587\u4f1a\u81ea\u52a8\u7ffb\u8bd1\u4e3a\u82f1\u6587"]}),(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("strong",{children:"\u6807\u7b7e\u89e3\u6790\uff1a"})," \u81ea\u52a8\u5206\u6790\u4e3a\u72ec\u7acb\u6807\u7b7e"]}),(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("strong",{children:"\u6743\u91cd\u8c03\u8282\uff1a"})," \u4f7f\u7528 \xb1\u6309\u94ae\u8c03\u6574\u91cd\u8981\u6027"]}),(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("strong",{children:"\u62ec\u53f7\u5f3a\u5316\uff1a"})," \u589e\u52a0\u6807\u7b7e\u5f3a\u8c03\u7a0b\u5ea6"]}),(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("strong",{children:"\u7981\u7528\u529f\u80fd\uff1a"})," \u4e34\u65f6\u5173\u95ed\u67d0\u4e9b\u6807\u7b7e"]})]})]}),(0,ae.jsx)("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:(0,ae.jsxs)("p",{className:"text-yellow-800 text-sm",children:["\ud83d\udca1 ",(0,ae.jsx)("strong",{children:"\u5c0f\u8d34\u58eb\uff1a"}),' \u60a8\u53ef\u4ee5\u76f4\u63a5\u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165"\u7f8e\u4e3d\u7684\u5973\u5b69, \u52a8\u6f2b\u98ce\u683c"\u7b49\u4e2d\u6587\u63cf\u8ff0']})})]})},{title:"\u6807\u7b7e\u5e93\u4f7f\u7528",icon:(0,ae.jsx)(x,{className:"text-green-600",size:32}),content:(0,ae.jsxs)("div",{className:"space-y-4",children:[(0,ae.jsx)("p",{className:"text-gray-700",children:"\u53f3\u4fa7\u7684\u6807\u7b7e\u5e93\u5305\u542b\u4e86\u4e30\u5bcc\u7684\u5206\u7c7b\u6807\u7b7e\uff0c\u70b9\u51fb\u5373\u53ef\u6dfb\u52a0\u5230\u63d0\u793a\u8bcd\u4e2d\u3002"}),(0,ae.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,ae.jsx)("h4",{className:"font-semibold text-green-900 mb-2",children:"\u6807\u7b7e\u5206\u7c7b\uff1a"}),(0,ae.jsxs)("ul",{className:"text-green-800 space-y-1 text-sm",children:[(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("strong",{children:"\u4eba\u7269\u98ce\u683c\uff1a"})," \u89d2\u8272\u7279\u5f81\u3001\u8868\u60c5\u3001\u59ff\u6001"]}),(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("strong",{children:"\u827a\u672f\u98ce\u683c\uff1a"})," \u7ed8\u753b\u98ce\u683c\u3001\u6280\u6cd5\u3001\u6d41\u6d3e"]}),(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("strong",{children:"\u573a\u666f\u73af\u5883\uff1a"})," \u80cc\u666f\u3001\u6c1b\u56f4\u3001\u5149\u5f71"]}),(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("strong",{children:"\u8d28\u91cf\u63a7\u5236\uff1a"})," \u5206\u8fa8\u7387\u3001\u7ec6\u8282\u3001\u6548\u679c"]}),(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("strong",{children:"\u8272\u5f69\u6784\u56fe\uff1a"})," \u914d\u8272\u3001\u5e03\u5c40\u3001\u89c6\u89d2"]})]})]}),(0,ae.jsx)("div",{className:"bg-gray-50 p-3 rounded-lg",children:(0,ae.jsxs)("p",{className:"text-gray-700 text-sm",children:["\ud83d\udd0d ",(0,ae.jsx)("strong",{children:"\u641c\u7d22\u529f\u80fd\uff1a"})," \u4f7f\u7528\u9876\u90e8\u641c\u7d22\u6846\u5feb\u901f\u627e\u5230\u6240\u9700\u6807\u7b7e"]})})]})},{title:"\u6536\u85cf\u548c\u81ea\u5b9a\u4e49",icon:(0,ae.jsx)(k,{className:"text-red-600",size:32}),content:(0,ae.jsxs)("div",{className:"space-y-4",children:[(0,ae.jsx)("p",{className:"text-gray-700",children:"\u60a8\u53ef\u4ee5\u6536\u85cf\u5e38\u7528\u6807\u7b7e\uff0c\u5e76\u521b\u5efa\u81ea\u5df1\u7684\u6807\u7b7e\u5e93\u3002"}),(0,ae.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg",children:[(0,ae.jsx)("h4",{className:"font-semibold text-red-900 mb-2",children:"\u4e2a\u6027\u5316\u529f\u80fd\uff1a"}),(0,ae.jsxs)("ul",{className:"text-red-800 space-y-1 text-sm",children:[(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("strong",{children:"\u4e2a\u4eba\u6536\u85cf\uff1a"})," \u6536\u85cf\u5e38\u7528\u6807\u7b7e\u4fbf\u4e8e\u5feb\u901f\u8bbf\u95ee"]}),(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("strong",{children:"\u81ea\u5b9a\u4e49\u5e93\uff1a"})," \u521b\u5efa\u4e13\u5c5e\u5206\u7c7b\u548c\u6807\u7b7e"]}),(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("strong",{children:"\u6279\u91cf\u7ba1\u7406\uff1a"})," \u5bfc\u5165\u5bfc\u51fa\u6807\u7b7e\u6570\u636e"]}),(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("strong",{children:"\u4f7f\u7528\u7edf\u8ba1\uff1a"})," \u67e5\u770b\u6807\u7b7e\u4f7f\u7528\u9891\u7387"]})]})]}),(0,ae.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[(0,ae.jsxs)("div",{className:"bg-white p-3 border border-red-200 rounded-lg",children:[(0,ae.jsx)("div",{className:"text-red-600 font-medium text-sm mb-1",children:"\u5e93\u6a21\u5f0f\u5207\u6362"}),(0,ae.jsx)("div",{className:"text-xs text-gray-600",children:"\u5728\u9ed8\u8ba4\u5e93\u548c\u81ea\u5b9a\u4e49\u5e93\u95f4\u5207\u6362"})]}),(0,ae.jsxs)("div",{className:"bg-white p-3 border border-red-200 rounded-lg",children:[(0,ae.jsx)("div",{className:"text-red-600 font-medium text-sm mb-1",children:"\u7ffb\u8bd1\u8bbe\u7f6e"}),(0,ae.jsx)("div",{className:"text-xs text-gray-600",children:"\u914d\u7f6e\u7ffb\u8bd1\u5f15\u64ce\u548c\u76ee\u6807\u8bed\u8a00"})]})]})]})},{title:"\u9ad8\u7ea7\u6280\u5de7",icon:(0,ae.jsx)(b,{className:"text-indigo-600",size:32}),content:(0,ae.jsxs)("div",{className:"space-y-4",children:[(0,ae.jsx)("p",{className:"text-gray-700",children:"\u638c\u63e1\u8fd9\u4e9b\u6280\u5de7\uff0c\u8ba9\u60a8\u7684AI\u7ed8\u753b\u66f4\u52a0\u7cbe\u51c6\u548c\u9ad8\u6548\u3002"}),(0,ae.jsxs)("div",{className:"space-y-3",children:[(0,ae.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-200",children:[(0,ae.jsx)("h4",{className:"font-semibold text-indigo-900 mb-2",children:"\u6743\u91cd\u63a7\u5236\uff1a"}),(0,ae.jsxs)("ul",{className:"text-indigo-800 space-y-1 text-sm",children:[(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("code",{className:"bg-white px-1 rounded",children:"tag:1.2"})," - \u63d0\u9ad8\u6743\u91cd20%"]}),(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("code",{className:"bg-white px-1 rounded",children:"tag:0.8"})," - \u964d\u4f4e\u6743\u91cd20%"]}),(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("code",{className:"bg-white px-1 rounded",children:"(tag)"})," - \u8f7b\u5fae\u5f3a\u8c03"]}),(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("code",{className:"bg-white px-1 rounded",children:"((tag))"})," - \u4e2d\u7b49\u5f3a\u8c03"]}),(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("code",{className:"bg-white px-1 rounded",children:"[tag]"})," - \u964d\u4f4e\u5f71\u54cd"]})]})]}),(0,ae.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[(0,ae.jsx)("h4",{className:"font-semibold text-yellow-900 mb-2",children:"\u7ec4\u5408\u7b56\u7565\uff1a"}),(0,ae.jsxs)("ul",{className:"text-yellow-800 space-y-1 text-sm",children:[(0,ae.jsx)("li",{children:"\u2022 \u5148\u63cf\u8ff0\u4e3b\u4f53\uff0c\u518d\u6dfb\u52a0\u98ce\u683c"}),(0,ae.jsx)("li",{children:"\u2022 \u8d28\u91cf\u6807\u7b7e\u653e\u5728\u5f00\u5934\u6216\u7ed3\u5c3e"}),(0,ae.jsx)("li",{children:"\u2022 \u8d1f\u9762\u63d0\u793a\u8bcd\u7528\u4e8e\u6392\u9664\u4e0d\u9700\u8981\u7684\u5143\u7d20"}),(0,ae.jsx)("li",{children:"\u2022 \u4fdd\u6301\u63d0\u793a\u8bcd\u7b80\u6d01\uff0c\u907f\u514d\u51b2\u7a81"})]})]})]})]})}],i=s[r];return(0,ae.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ae.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-3",children:[i.icon,(0,ae.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:i.title})]}),(0,ae.jsx)("button",{onClick:n,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:(0,ae.jsx)(re,{size:20})})]}),(0,ae.jsxs)("div",{className:"px-6 py-4 bg-gray-50",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ae.jsxs)("span",{className:"text-sm text-gray-600",children:["\u6b65\u9aa4 ",r+1," / ",s.length]}),(0,ae.jsxs)("span",{className:"text-sm text-gray-600",children:[Math.round((r+1)/s.length*100),"%"]})]}),(0,ae.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ae.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat((r+1)/s.length*100,"%")}})})]}),(0,ae.jsx)("div",{className:"p-6 overflow-y-auto max-h-96",children:i.content}),(0,ae.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[(0,ae.jsxs)("button",{onClick:()=>{a((e=>Math.max(e-1,0)))},disabled:0===r,className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ".concat(0===r?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-200"),children:[(0,ae.jsx)(We,{size:20}),"\u4e0a\u4e00\u6b65"]}),(0,ae.jsx)("div",{className:"flex gap-2",children:s.map(((e,t)=>(0,ae.jsx)("button",{onClick:()=>a(t),className:"w-3 h-3 rounded-full transition-colors ".concat(t===r?"bg-blue-600":t<r?"bg-blue-300":"bg-gray-300")},t)))}),r<s.length-1?(0,ae.jsxs)("button",{onClick:()=>{a((e=>Math.min(e+1,s.length-1)))},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:["\u4e0b\u4e00\u6b65",(0,ae.jsx)(Ge,{size:20})]}):(0,ae.jsxs)("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:["\u5f00\u59cb\u4f7f\u7528",(0,ae.jsx)(b,{size:20})]})]})]})})},Ke=u("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ze=u("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),$e=e=>{var t;let{libraryMode:n,selectedCategory:r,selectedSubcategory:a,expandedCategories:s,currentDatabase:i,favorites:l,onSelectCategory:o,onToggleCategory:c}=e;const u=(e,t)=>{const n=s[e],i=r===e,u=((e,t)=>"favorites"===e?l.length:null!==t&&void 0!==t&&t.subcategories?Object.values(t.subcategories).reduce(((e,t)=>{var n;return e+((null===t||void 0===t||null===(n=t.tags)||void 0===n?void 0:n.length)||0)}),0):0)(e,t),d=(null===t||void 0===t?void 0:t.subcategories)&&Object.keys(t.subcategories).length>0;return(0,ae.jsxs)("div",{className:"mb-2",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all ".concat(i&&!a?"bg-blue-100 text-blue-700 border-blue-200":"hover:bg-gray-50 text-gray-700"," border ").concat(i&&!a?"border-blue-200":"border-transparent"),onClick:()=>{o(e),d&&c(e)},children:[(0,ae.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[d&&(0,ae.jsx)("button",{onClick:t=>{t.stopPropagation(),c(e)},className:"p-1 hover:bg-gray-200 rounded transition-colors",title:n?"\u6536\u8d77\u5b50\u5206\u7c7b":"\u5c55\u5f00\u5b50\u5206\u7c7b",children:n?(0,ae.jsx)(Ke,{size:14}):(0,ae.jsx)(Ge,{size:14})}),(0,ae.jsx)("div",{className:"text-lg",children:(null===t||void 0===t?void 0:t.icon)||("favorites"===e?"\u2764\ufe0f":"\ud83d\udcc1")})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{className:"font-medium text-sm",children:(null===t||void 0===t?void 0:t.name)||e}),"favorites"===e&&(0,ae.jsx)("div",{className:"text-xs text-gray-500",children:"\u4e2a\u4eba\u6536\u85cf"})]})]}),(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:u}),"favorites"===e&&(0,ae.jsx)(k,{size:12,className:"text-red-500"})]})]}),n&&(null===t||void 0===t?void 0:t.subcategories)&&(0,ae.jsx)("div",{className:"ml-6 mt-2 space-y-1",children:Object.entries(t.subcategories).map((t=>{let[n,s]=t;const i=r===e&&a===n,l=(e=>{var t;return(null===e||void 0===e||null===(t=e.tags)||void 0===t?void 0:t.length)||0})(s);return(0,ae.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg cursor-pointer transition-all ".concat(i?"bg-blue-50 text-blue-600 border-blue-200":"hover:bg-gray-50 text-gray-600"," border ").concat(i?"border-blue-200":"border-transparent"),onClick:()=>o(e,n),children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),(0,ae.jsx)("span",{className:"text-sm font-medium",children:(null===s||void 0===s?void 0:s.name)||n})]}),(0,ae.jsx)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:l})]},n)}))})]},e)};return i?(0,ae.jsxs)("div",{className:"space-y-2",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ae.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:"\u6807\u7b7e\u5206\u7c7b"}),(0,ae.jsx)("span",{className:"text-xs text-gray-500",children:"default"===n?"\u9ed8\u8ba4\u5e93":"\u81ea\u5b9a\u4e49\u5e93"})]}),u("favorites",{name:"\u6211\u7684\u6536\u85cf",icon:"\u2764\ufe0f",subcategories:"default"===n&&null!==i&&void 0!==i&&null!==(t=i.favorites)&&void 0!==t&&t.subcategories?i.favorites.subcategories:{personal:{name:"\u4e2a\u4eba\u6536\u85cf",tags:l}}}),Object.entries(i).map((e=>{let[t,n]=e;return"favorites"===t?null:u(t,n)})),0===Object.keys(i).length&&(0,ae.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,ae.jsx)(Ze,{size:48,className:"mx-auto mb-2 opacity-50"}),(0,ae.jsx)("p",{children:"\u6682\u65e0\u5206\u7c7b"}),(0,ae.jsx)("p",{className:"text-sm",children:"\u70b9\u51fb\u4e0a\u65b9\u6309\u94ae\u6dfb\u52a0\u5206\u7c7b"})]})]}):(0,ae.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,ae.jsx)(je,{size:48,className:"mx-auto mb-2 opacity-50"}),(0,ae.jsx)("p",{children:"\u6682\u65e0\u5206\u7c7b"})]})},Qe=u("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),Xe=e=>{let{libraryMode:t,showTagManager:n,showImportExport:r,onToggleTagManager:a,onShowImportExport:s,onShowCustomLibraryManager:i,onShowLibraryManager:l,onAddTag:o,onRefreshDatabase:c,canEdit:u=!1}=e;return(0,ae.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ae.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:"\u7ba1\u7406\u5de5\u5177"}),(0,ae.jsx)("div",{className:"flex items-center gap-1",children:(0,ae.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("default"===t?"bg-blue-100 text-blue-600":"bg-purple-100 text-purple-600"),children:"default"===t?"\u9ed8\u8ba4\u5e93":"\u81ea\u5b9a\u4e49\u5e93"})})]}),(0,ae.jsxs)("div",{className:"space-y-2",children:[(0,ae.jsxs)("button",{onClick:l,className:"w-full flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all text-sm font-medium shadow-sm",children:[(0,ae.jsx)(Qe,{size:14}),"\u5e93\u7ba1\u7406\u7cfb\u7edf"]}),(0,ae.jsxs)("button",{onClick:a,className:"w-full flex items-center gap-2 px-3 py-2 rounded-lg transition-colors text-sm ".concat(n?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-50 text-gray-700 hover:bg-gray-100 border border-transparent"),children:[(0,ae.jsx)(qe,{size:14}),n?"\u9000\u51fa\u7f16\u8f91\u6a21\u5f0f":"\u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f"]}),"custom"===t&&(0,ae.jsxs)("button",{onClick:i,className:"w-full flex items-center gap-2 px-3 py-2 bg-purple-50 text-purple-700 rounded-lg hover:bg-purple-100 transition-colors text-sm border border-purple-200",children:[(0,ae.jsx)(p,{size:14}),"\u81ea\u5b9a\u4e49\u5e93\u8bbe\u7f6e"]}),(0,ae.jsxs)("div",{className:"pt-2 border-t border-gray-200",children:[(0,ae.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"\u5feb\u901f\u64cd\u4f5c"}),(0,ae.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[u&&(0,ae.jsxs)("button",{onClick:o,className:"flex items-center gap-1 px-2 py-1.5 bg-green-50 text-green-700 rounded text-xs hover:bg-green-100 transition-colors",children:[(0,ae.jsx)(Me,{size:12}),"\u6dfb\u52a0\u6807\u7b7e"]}),(0,ae.jsxs)("button",{onClick:c,className:"flex items-center gap-1 px-2 py-1.5 bg-blue-50 text-blue-700 rounded text-xs hover:bg-blue-100 transition-colors",children:[(0,ae.jsx)(pe,{size:12}),"\u5237\u65b0\u5e93"]})]})]}),(0,ae.jsxs)("div",{className:"pt-2 border-t border-gray-200",children:[(0,ae.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"\u5f53\u524d\u5e93\u72b6\u6001"}),(0,ae.jsx)("div",{className:"text-xs text-gray-600",children:"default"===t?"\u4f7f\u7528\u9ed8\u8ba4\u6807\u7b7e\u5e93":"\u4f7f\u7528\u81ea\u5b9a\u4e49\u6807\u7b7e\u5e93"})]})]}),(0,ae.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:(0,ae.jsxs)("div",{className:"text-xs text-blue-700",children:[(0,ae.jsx)("div",{className:"font-medium mb-1",children:"\ud83d\udca1 \u64cd\u4f5c\u63d0\u793a"}),n?(0,ae.jsxs)("ul",{className:"space-y-1",children:[(0,ae.jsx)("li",{children:"\u2022 \u70b9\u51fb\u6807\u7b7e\u5361\u7247\u53f3\u4e0a\u89d2\u7684\u7f16\u8f91/\u5220\u9664\u6309\u94ae"}),(0,ae.jsx)("li",{children:"\u2022 \u53cc\u51fb\u6807\u7b7e\u5361\u7247\u5feb\u901f\u7f16\u8f91"}),(0,ae.jsx)("li",{children:"\u2022 \u4f7f\u7528\u6279\u91cf\u64cd\u4f5c\u7ba1\u7406\u591a\u4e2a\u6807\u7b7e"})]}):(0,ae.jsxs)("ul",{className:"space-y-1",children:[(0,ae.jsx)("li",{children:"\u2022 \u70b9\u51fb\u6807\u7b7e\u5361\u7247\u6dfb\u52a0\u5230\u63d0\u793a\u8bcd"}),(0,ae.jsx)("li",{children:"\u2022 \u70b9\u51fb\u7231\u5fc3\u56fe\u6807\u6536\u85cf\u6807\u7b7e"}),(0,ae.jsx)("li",{children:"\u2022 \u4f7f\u7528\u641c\u7d22\u6846\u5feb\u901f\u67e5\u627e\u6807\u7b7e"})]})]})})]})},Ye=()=>{var t,n,r,a,s;const{notifySuccess:i,notifyError:o,showWarning:c,showInfo:u}=ue(),{isTranslating:d,currentEngine:f,translationError:p,translate:m,batchTranslate:g,switchEngine:y,getAllEngines:v,getEngineStatus:w,refreshEngines:N,detectLanguage:k,getTranslationStats:_}=(()=>{const[t,n]=(0,e.useState)(!1),[r,a]=(0,e.useState)(null),[s,i]=(0,e.useState)(null),[l,o]=(0,e.useState)([]);(0,e.useEffect)((()=>{Ce.onEngineSwitch=(e,t)=>{a(e),console.log("\ud83d\udd04 [Hook] \u7ffb\u8bd1\u5f15\u64ce\u5df2\u5207\u6362: ".concat(t," -> ").concat(e.name))},a(Ce.getCurrentEngine())}),[]);const c=(0,e.useCallback)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";if(!e||!e.trim())return i("\u7ffb\u8bd1\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a"),null;n(!0),i(null);try{const n=await Ce.smartTranslate(e,t,r),a={id:Date.now(),originalText:e,translatedText:n.translatedText,sourceLang:r,targetLang:t,engine:n.engine,confidence:n.confidence,timestamp:new Date,fromCache:n.fromCache||!1};return o((e=>[a,...e.slice(0,49)])),n}catch(a){return console.error("\u7ffb\u8bd1\u5931\u8d25:",a),i(a.message||"\u7ffb\u8bd1\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),null}finally{n(!1)}}),[]),u=(0,e.useCallback)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";if(!e||!Array.isArray(e)||0===e.length)return i("\u7ffb\u8bd1\u5217\u8868\u4e0d\u80fd\u4e3a\u7a7a"),[];n(!0),i(null);try{const n=[];for(let s=0;s<e.length;s++){const i=e[s];if(i&&i.trim())try{const e=await Ce.smartTranslate(i,t,r);n.push({index:s,original:i,translated:e.translatedText,engine:e.engine,confidence:e.confidence,success:!0})}catch(a){n.push({index:s,original:i,translated:null,error:a.message,success:!1})}else n.push({index:s,original:i,translated:null,error:"\u7a7a\u5185\u5bb9",success:!1});s<e.length-1&&await new Promise((e=>setTimeout(e,200)))}return n}catch(a){return console.error("\u6279\u91cf\u7ffb\u8bd1\u5931\u8d25:",a),i(a.message||"\u6279\u91cf\u7ffb\u8bd1\u5931\u8d25"),[]}finally{n(!1)}}),[]),d=(0,e.useCallback)((()=>Ce.getStatusReport()),[]),h=(0,e.useCallback)((e=>{try{const t=Ce.switchEngine(e);return a(t),i(null),t}catch(t){return i(t.message),null}}),[]),f=(0,e.useCallback)((()=>Ce.getAllEngines()),[]),p=(0,e.useCallback)((e=>Ce.detectLanguage(e)),[]),m=(0,e.useCallback)((()=>{Ce.clearCache(),o([])}),[]),g=(0,e.useCallback)((async()=>{try{await Ce.checkAllEnginesHealth(),a(Ce.getCurrentEngine())}catch(e){console.error("\u5237\u65b0\u5f15\u64ce\u72b6\u6001\u5931\u8d25:",e)}}),[]),x=(0,e.useCallback)((()=>{const e={totalTranslations:l.length,engineUsage:{},languagePairs:{},cacheHitRate:0};let t=0;return l.forEach((n=>{e.engineUsage[n.engine]=(e.engineUsage[n.engine]||0)+1;const r="".concat(n.sourceLang," -> ").concat(n.targetLang);e.languagePairs[r]=(e.languagePairs[r]||0)+1,n.fromCache&&t++})),e.cacheHitRate=l.length>0?Math.round(t/l.length*100):0,e}),[l]);return{isTranslating:t,currentEngine:r,translationError:s,translationHistory:l,translate:c,batchTranslate:u,switchEngine:h,getAllEngines:f,getEngineStatus:d,refreshEngines:g,detectLanguage:p,clearCache:m,getTranslationStats:x}})(),[S,C]=(0,e.useState)(""),[E,T]=(0,e.useState)(""),[z,I]=(0,e.useState)(!1),[P,O]=(0,e.useState)("auto"),[D,L]=(0,e.useState)([]),[R,M]=(0,e.useState)(new Set),[F,U]=(0,e.useState)({}),[q,B]=(0,e.useState)(null),[H,W]=(0,e.useState)("en"),[G,V]=(0,e.useState)(!0),[K,Z]=(0,e.useState)("favorites"),[$,Q]=(0,e.useState)(null),[X,Y]=(0,e.useState)({favorites:!0}),[J,ee]=(0,e.useState)(""),[te,ne]=(0,e.useState)([]),[se,ie]=(0,e.useState)("default"),[le,oe]=(0,e.useState)({categories:{favorites:{name:"\u6211\u7684\u6536\u85cf",icon:"\u2b50",subcategories:{personal:{name:"\u4e2a\u4eba\u6536\u85cf",tags:[],isDefault:!1}}},"personal-tags":{name:"\u4e2a\u4eba\u6807\u7b7e",icon:"\ud83c\udff7\ufe0f",subcategories:{custom:{name:"\u81ea\u5b9a\u4e49\u6807\u7b7e",tags:[],isDefault:!1}}}}}),[ce,de]=(0,e.useState)(!1),[he,fe]=(0,e.useState)(null),[me,ge]=(0,e.useState)({name:"",icon:"\ud83d\udcc1"}),[Ne,ke]=(0,e.useState)({name:""}),[_e,Se]=(0,e.useState)(!1),[Ee,Te]=(0,e.useState)(!1),[Ae,ze]=(0,e.useState)(null),[Ie,Pe]=(0,e.useState)({en:"",cn:"",frequency:50}),[Oe,Re]=(0,e.useState)(""),[Me,Fe]=(0,e.useState)([]),[qe,Be]=(0,e.useState)(!1),We=(0,e.useRef)(null),Ge=(0,e.useRef)(D),Ke=(0,e.useRef)(R);(0,e.useEffect)((()=>{Ge.current=D,Ke.current=R}),[D,R]);const[Ze,Qe]=(0,e.useState)(null),[Ye,Je]=(0,e.useState)({status:"idle",source:null,lastInput:"",completedAt:0}),et=(0,e.useMemo)((()=>({start:(e,t)=>{console.log("\ud83c\udfac [TranslationController] \u5f00\u59cb\u7ffb\u8bd1 source=".concat(e,', input="').concat(t,'"')),Je({status:"translating",source:e,lastInput:t,completedAt:0}),I(!0),Qe(e)},complete:e=>{console.log('\ud83c\udfc1 [TranslationController] \u7ffb\u8bd1\u5b8c\u6210: "'.concat(e,'"')),Je((e=>l(l({},e),{},{status:"completed",completedAt:Date.now()}))),I(!1),setTimeout((()=>{Qe(null),Je((e=>l(l({},e),{},{status:"idle"})))}),1e3)},error:e=>{console.log("\u274c [TranslationController] \u7ffb\u8bd1\u5931\u8d25:",e),Je((e=>l(l({},e),{},{status:"error",completedAt:Date.now()}))),I(!1),setTimeout((()=>{Qe(null),Je((e=>l(l({},e),{},{status:"idle"})))}),500)},shouldTranslate:e=>{const t=Ye;return"translating"===t.status?(console.log("\ud83d\uded1 [TranslationController] \u6b63\u5728\u7ffb\u8bd1\u4e2d\uff0c\u8df3\u8fc7"),!1):t.lastInput===e?(console.log('\ud83d\uded1 [TranslationController] \u8f93\u5165\u5185\u5bb9\u672a\u53d8\u5316\uff0c\u8df3\u8fc7: "'.concat(e,'"')),!1):!(t.completedAt>0&&Date.now()-t.completedAt<1e3)||(console.log("\ud83d\uded1 [TranslationController] \u9632\u6296\u671f\u5185\uff0c\u8df3\u8fc7\u7ffb\u8bd1"),!1)}})),[Ye]);(0,e.useEffect)((()=>{console.log("\ud83d\ude80 [PromptLibraryPage] \u7ec4\u4ef6\u521d\u59cb\u5316");const e=["beautiful girl","anime style","masterpiece","blue eyes","long hair"];L(e),T(e.join(", ")),console.log("\ud83d\udcdd [\u521d\u59cb\u5316] \u8bbe\u7f6e\u521d\u59cb\u6807\u7b7e\uff0c\u7b49\u5f85\u771f\u6b63\u7684\u7ffb\u8bd1\u5f15\u64ce\u5904\u7406");const t=De.getFavorites();t&&t.length>0&&Fe(t);try{const e=localStorage.getItem("customTagLibrary");if(e){const t=JSON.parse(e);oe(t),console.log("\ud83d\udcda [\u521d\u59cb\u5316] \u52a0\u8f7d\u81ea\u5b9a\u4e49\u5e93\u6570\u636e:",t)}}catch(n){console.error("\u52a0\u8f7d\u81ea\u5b9a\u4e49\u5e93\u6570\u636e\u5931\u8d25:",n)}}),[]),(0,e.useEffect)((()=>{try{localStorage.setItem("favorites",JSON.stringify(Me))}catch(e){console.error("\u4fdd\u5b58\u6536\u85cf\u5931\u8d25:",e),o("save","\u6536\u85cf\u6570\u636e\u4fdd\u5b58\u5931\u8d25")}}),[Me]),(0,e.useEffect)((()=>{try{localStorage.setItem("customTagLibrary",JSON.stringify(le))}catch(e){console.error("\u4fdd\u5b58\u81ea\u5b9a\u4e49\u5e93\u5931\u8d25:",e),o("save","\u81ea\u5b9a\u4e49\u5e93\u4fdd\u5b58\u5931\u8d25")}}),[le]),(0,e.useEffect)((()=>{if(J.trim()){const t=(e=J,De.searchTags(e)).slice(0,20);ne(t)}else ne([]);var e}),[J]),(0,e.useEffect)((()=>{if(!G||!S.trim())return void(S.trim()||(console.log("\ud83e\uddf9 [useEffect-autoTranslate] \u8f93\u5165\u4e3a\u7a7a\uff0c\u6e05\u7a7a\u5185\u5bb9"),T(""),L([]),M(new Set),O("auto")));if(!et.shouldTranslate(S))return;console.log("\ud83d\ude80 [useEffect-autoTranslate] \u51c6\u5907\u81ea\u52a8\u7ffb\u8bd1");const e=setTimeout((()=>{nt()}),1e3);return()=>clearTimeout(e)}),[S,G,et]);const tt=e=>{if(!e||"string"!==typeof e)return"";let t=e.trim();return[/^\[ALIBABA\]\s*\u7ffb\u8bd1[\uff1a:]?\s*/i,/^\[ALIBABA\]\s*Translated[\uff1a:]?\s*/i,/^\[.+?\]\s*\u7ffb\u8bd1[\uff1a:]?\s*/i,/^\[.+?\]\s*Translated[\uff1a:]?\s*/i,/^[^\u4e00-\u9fa5a-zA-Z]*[\uff1a:]\s*/,/^\u7ffb\u8bd1[\uff1a:]?\s*/,/^Translated[\uff1a:]?\s*/i,/^Result[\uff1a:]?\s*/i,/^Output[\uff1a:]?\s*/i].forEach((e=>{t=t.replace(e,"")})),t.trim()},nt=(0,e.useCallback)((async()=>{if(!S.trim())return;const e=S.trim();console.log("\ud83d\ude80 [handleAutoTranslation] \u5f00\u59cb\u81ea\u52a8\u7ffb\u8bd1:",e);try{et.start("input",e),Qe("translation");const t=it(e);console.log("\ud83d\udd0d [handleAutoTranslation] \u68c0\u6d4b\u5230\u8bed\u8a00:",t);let n=t,r=H;"zh"===t&&(r="en",console.log("\ud83c\udfaf [handleAutoTranslation] \u4e2d\u6587\u8f93\u5165\uff0c\u7ffb\u8bd1\u5230\u82f1\u6587"));const a=await m(e,r,n),s=(null===a||void 0===a?void 0:a.translatedText)||a||e;console.log("\ud83d\udcdd [handleAutoTranslation] \u539f\u59cb\u7ffb\u8bd1\u7ed3\u679c:",s);const l=tt(s);console.log("\u2728 [handleAutoTranslation] \u6e05\u7406\u540e\u7ed3\u679c:",l);const o=rt(l&&l!==e?l:e);T(o);const c=o.split(/[,\uff0c]/).map((e=>e.trim())).filter((e=>e));L(c),M(new Set),et.complete(o),l&&l!==e?i("translate","\u7ffb\u8bd1\u6210\u529f: ".concat(e," \u2192 ").concat(l)):i("info","\u5185\u5bb9\u5df2\u5904\u7406\uff0c\u65e0\u9700\u7ffb\u8bd1")}catch(t){console.error("\u274c [handleAutoTranslation] \u7ffb\u8bd1\u5931\u8d25:",t),et.error(t),o("translate",t.message||"\u7ffb\u8bd1\u670d\u52a1\u6682\u65f6\u4e0d\u53ef\u7528"),T(e);const n=e.split(/[,\uff0c]/).map((e=>e.trim())).filter((e=>e));L(n),M(new Set)}finally{setTimeout((()=>Qe(null)),500)}}),[S,H,P,G,et,i,o]),rt=e=>e,at=e=>{const t="string"===typeof e?e:(null===e||void 0===e?void 0:e.en)||String(e);if(!t)return{text:"",weight:1,bracketType:"none",brackets:0};let n=t.trim(),r=1,a="none",s=0;const i=n.match(/^\(([^:()]+):(\d+(?:\.\d+)?)\)$/);if(i)return n=i[1],r=parseFloat(i[2]),{text:n,weight:r,bracketType:"none",brackets:0};let l=n;if(n.startsWith("(")&&n.endsWith(")"))for(a="round";n.startsWith("(")&&n.endsWith(")")&&s<5;)n=n.slice(1,-1),s++;else if(n.startsWith("[")&&n.endsWith("]"))for(a="square";n.startsWith("[")&&n.endsWith("]")&&s<5;)n=n.slice(1,-1),s++;else if(n.startsWith("{")&&n.endsWith("}"))for(a="curly";n.startsWith("{")&&n.endsWith("}")&&s<5;)n=n.slice(1,-1),s++;return n.trim()||(n=l,a="none",s=0),{text:n,weight:r,bracketType:a,brackets:s}},st=(()=>{if(J.trim())return te;const e="custom"===se?null===le||void 0===le?void 0:le.categories:Le();if(!e)return[];if("favorites"===K){if("personal"===$)return Me;var t,n,r;if("popular"===$)return"default"===se&&(null===e||void 0===e||null===(t=e.favorites)||void 0===t||null===(n=t.subcategories)||void 0===n||null===(r=n.popular)||void 0===r?void 0:r.tags)||[];{var a;const t=[...Me];"default"===se&&null!==e&&void 0!==e&&null!==(a=e.favorites)&&void 0!==a&&a.subcategories&&Object.entries(e.favorites.subcategories).forEach((e=>{let[n,r]=e;"personal"!==n&&null!==r&&void 0!==r&&r.tags&&t.push(...r.tags)}));const n=[],r=new Set;return t.forEach((e=>{e&&e.en&&!r.has(e.en)&&(r.add(e.en),n.push(e))})),n}}const s=null===e||void 0===e?void 0:e[K];if(!s)return[];if($){var i;const e=null===(i=s.subcategories)||void 0===i?void 0:i[$];return(null===e||void 0===e?void 0:e.tags)||[]}const l=[];return s.subcategories&&Object.values(s.subcategories).forEach((e=>{null!==e&&void 0!==e&&e.tags&&l.push(...e.tags)})),l})(),it=e=>e&&e.trim()?/[\u4e00-\u9fa5]/.test(e)?"zh":/^[a-zA-Z\s\-_\d,\uff0c.]+$/.test(e.trim())?"en":"auto":"auto",lt=e=>{console.log("\ud83d\udcdd [handleInputPromptChange] \u8f93\u5165\u5185\u5bb9\u53d8\u5316:",e),C(e);const t=it(e);if(console.log("\ud83d\udd0d [handleInputPromptChange] \u68c0\u6d4b\u5230\u8bed\u8a00:",t),O(t),""===e.trim())return console.log("\ud83e\uddf9 [handleInputPromptChange] \u8f93\u5165\u4e3a\u7a7a\uff0c\u6e05\u7a7a\u6240\u6709\u5185\u5bb9"),T(""),L([]),M(new Set),void O("auto");G&&e.trim()&&(console.log("\u23f0 [handleInputPromptChange] \u8bbe\u7f6e\u5ef6\u8fdf\u7ffb\u8bd1"),clearTimeout(window.autoTranslateTimeout),window.autoTranslateTimeout=setTimeout((()=>{et.shouldTranslate(e)&&(console.log("\ud83d\ude80 [handleInputPromptChange] \u6267\u884c\u5ef6\u8fdf\u7ffb\u8bd1"),nt())}),1200))},ot=(0,e.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("\ud83c\udff7\ufe0f [addTag] \u6dfb\u52a0\u6807\u7b7e:",e,"\u6765\u6e90:",t?"\u6570\u636e\u5e93":"\u624b\u52a8"),Qe("add-tag");let n="";try{if("string"===typeof e)n=e.trim();else{if(!e||"object"!==typeof e)return void console.warn("\u26a0\ufe0f [addTag] \u65e0\u6548\u7684\u6807\u7b7e\u683c\u5f0f:",e);n=e.en||e.tag||String(e)}if(!n)return void console.warn("\u26a0\ufe0f [addTag] \u6807\u7b7e\u5185\u5bb9\u4e3a\u7a7a");if(D.includes(n))return console.log("\u2139\ufe0f [addTag] \u6807\u7b7e\u5df2\u5b58\u5728:",n),void i("info","\u6807\u7b7e\u5df2\u5b58\u5728: ".concat(n));L((e=>{const t=[...e,n];console.log("\ud83d\udcdd [addTag] \u66f4\u65b0\u6807\u7b7e\u5217\u8868:",t);const r=t.filter(((e,t)=>!R.has(t)));return T(r.join(", ")),t})),console.log("\ud83d\udcdd [addTag] \u6807\u7b7e\u5df2\u6dfb\u52a0\uff0c\u7ffb\u8bd1\u5c06\u7531TagPill\u7ec4\u4ef6\u81ea\u52a8\u5904\u7406"),i("add",t?"\u4ece\u6570\u636e\u5e93\u6dfb\u52a0":"\u624b\u52a8\u6dfb\u52a0",n)}catch(r){console.error("\u274c [addTag] \u6dfb\u52a0\u6807\u7b7e\u5931\u8d25:",r),o("add",r.message,n||String(e))}finally{setTimeout((()=>Qe(null)),100)}}),[D,R,i,o]),ct=e=>{const t=D[e];Qe("tag-edit"),L((t=>{const n=t.filter(((t,n)=>n!==e)),r=Array.from({length:n.length},((e,t)=>t)).filter((t=>!R.has(t<e?t:t+1))),a=n.filter(((e,t)=>r.includes(t)));return T(a.join(", ")),n})),M((t=>{const n=new Set(t);n.delete(e);const r=new Set;return Array.from(n).forEach((t=>{t>e?r.add(t-1):t<e&&r.add(t)})),r})),i("delete",t),setTimeout((()=>Qe(null)),100)},ut=e=>{const t=D[e],n=R.has(e);Qe("tag-edit"),M((t=>{const n=new Set(t);n.has(e)?n.delete(e):n.add(e);const r=D.filter(((e,t)=>!n.has(t)));return T(r.join(", ")),n})),i(n?"enable":"disable",t),setTimeout((()=>Qe(null)),100)},dt=(e,t)=>{Qe("tag-edit"),L((n=>{const r=[...n],a=r[e],{text:s,weight:i,bracketType:l,brackets:o}=at(a);if(o>0)return console.warn("\u6709\u62ec\u53f7\u7684\u6807\u7b7e\u4e0d\u80fd\u8c03\u6574\u6743\u91cd"),n;let c;"number"===typeof t&&0!==t?(c=Math.max(.1,Math.min(2,i+t)),c=Math.round(10*c)/10):(c=Math.max(.1,Math.min(2,t)),c=Math.round(10*c)/10),r[e]=1===c?s:"(".concat(s,":").concat(c.toFixed(1),")");const u=r.filter(((e,t)=>!R.has(t)));return T(u.join(", ")),r})),i("update","\u6743\u91cd\u8c03\u6574\u4e3a ".concat((at(D[e]).weight+t).toFixed(1))),setTimeout((()=>Qe(null)),100)},ht=(e,t,n)=>{Qe("tag-edit"),L((r=>{const a=[...r],s=a[e],i=at(s);let{text:l,weight:o,bracketType:c,brackets:u}=i;if(1!==o)return console.warn("\u6709\u6743\u91cd\u7684\u6807\u7b7e\u4e0d\u80fd\u8c03\u6574\u62ec\u53f7"),r;let d=u,h=c;if(999===n)u>0&&c!==t?(h=t,d=u):0===u?(h=t,d=1):c===t&&(d=0,h="none");else if(n>0)if(0===u)h=t,d=1;else{if(c!==t)return console.warn("\u4e0d\u80fd\u6df7\u7528\u4e0d\u540c\u7c7b\u578b\u7684\u62ec\u53f7"),r;d=Math.min(5,u+1)}else n<0&&(d=Math.max(0,u-1),0===d&&(h="none"));let f=l;if(d>0){const e={round:["(",")"],square:["[","]"],curly:["{","}"]},[t,n]=e[h]||["(",")"];for(let r=0;r<d;r++)f=t+f+n}a[e]=f;const p=a.filter(((e,t)=>!R.has(t)));return T(p.join(", ")),a}));const r={round:"\u5706\u62ec\u53f7",square:"\u65b9\u62ec\u53f7",curly:"\u82b1\u62ec\u53f7"}[t]||"\u62ec\u53f7";i("update","".concat(n>0?"\u6dfb\u52a0":"\u51cf\u5c11").concat(r)),setTimeout((()=>Qe(null)),100)},ft=async e=>{try{await A(e),i("copy",e)}catch(t){o("copy","\u590d\u5236\u5931\u8d25",e)}},pt=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n={en:"string"===typeof e?e:e.en,cn:t||("object"===typeof e?e.cn:""),frequency:50,id:"fav-".concat(Date.now())},r=Me.findIndex((e=>e.en===n.en));r>=0?(Fe((e=>e.filter(((e,t)=>t!==r)))),i("delete","\u53d6\u6d88\u6536\u85cf: ".concat(n.en))):(Fe((e=>[...e,n])),i("favorite",n.en))},mt=async e=>{let t="",n="";if(e&&e.trim())t=e.trim(),n="\u5185\u5bb9";else if(E&&E.trim())t=E.trim(),n="\u82f1\u6587\u63d0\u793a\u8bcd";else if(D.length>0){const e=D.filter(((e,t)=>!R.has(t)));e.length>0&&(t=e.join(", "),n="".concat(e.length,"\u4e2a\u6807\u7b7e"))}if(t)try{console.log("\ud83d\udccb [handleCopy] \u590d\u5236\u5185\u5bb9:",t),await A(t),i("copy","".concat(n,"\u5df2\u590d\u5236\u5230\u526a\u8d34\u677f"))}catch(r){console.error("\u274c [handleCopy] \u590d\u5236\u5931\u8d25:",r),o("copy","\u590d\u5236\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")}else console.log("\u26a0\ufe0f [handleCopy] \u6ca1\u6709\u5185\u5bb9\u53ef\u590d\u5236"),o("copy","\u6ca1\u6709\u5185\u5bb9\u53ef\u590d\u5236")},gt=async e=>{try{const t="string"===typeof e?e:at(e).text;if(!/^[a-zA-Z\s\-_\d]+$/.test(t))return console.log('\u26a0\ufe0f [translateSingleTag] \u8df3\u8fc7\u975e\u82f1\u6587\u6807\u7b7e: "'.concat(t,'"')),null;console.log('\ud83c\udf10 [translateSingleTag] \u5f00\u59cb\u7ffb\u8bd1\u82f1\u6587\u6807\u7b7e: "'.concat(t,'"'));const n=await m(t,"zh","en"),r=(null===n||void 0===n?void 0:n.translatedText)||n;if(r){console.log('\ud83d\udcdd [translateSingleTag] \u539f\u59cb\u7ffb\u8bd1\u7ed3\u679c: "'.concat(r,'"'));const e=tt(r);return console.log('\u2728 [translateSingleTag] \u6e05\u7406\u540e\u7ed3\u679c: "'.concat(e,'"')),e&&e!==t?/[\u4e00-\u9fa5]/.test(e)?(U((n=>l(l({},n),{},{[t]:e}))),console.log("\u2705 [translateSingleTag] \u7ffb\u8bd1\u6210\u529f: ".concat(t," -> ").concat(e)),i("translate","".concat(t," \u2192 ").concat(e)),l(l({},n),{},{translatedText:e})):(console.log('\u26a0\ufe0f [translateSingleTag] \u7ffb\u8bd1\u7ed3\u679c\u4e0d\u5305\u542b\u4e2d\u6587: "'.concat(e,'"')),null):(console.log("\u26a0\ufe0f [translateSingleTag] \u7ffb\u8bd1\u7ed3\u679c\u65e0\u6548\u6216\u672a\u53d8\u5316"),null)}return console.log("\u274c [translateSingleTag] \u7ffb\u8bd1\u8fd4\u56de\u7a7a\u7ed3\u679c"),null}catch(t){return console.error("\u274c [translateSingleTag] \u7ffb\u8bd1\u5931\u8d25:",t),o("translate",t.message||"\u7ffb\u8bd1\u5931\u8d25",e),null}},xt="custom"===se?null===le||void 0===le?void 0:le.categories:Le(),bt=(0,e.useCallback)(((e,t)=>{console.log('\ud83d\udcd6 [handleTranslationUpdate] \u66f4\u65b0\u7ffb\u8bd1\u7f13\u5b58: "'.concat(e,'" -> "').concat(t,'"')),U((n=>l(l({},n),{},{[e]:t})))}),[]),yt=(0,e.useCallback)((()=>{"custom"===se?(ze({isNew:!0}),Pe({en:"",cn:"",frequency:50}),Se(!0),i("info","\u5df2\u8fdb\u5165\u6807\u7b7e\u6dfb\u52a0\u6a21\u5f0f")):c("\u53ea\u80fd\u5728\u81ea\u5b9a\u4e49\u5e93\u6a21\u5f0f\u4e0b\u6dfb\u52a0\u6807\u7b7e")}),[se,c,i]),vt=(0,e.useCallback)((e=>{if(!e.en.trim())return void o("add","\u82f1\u6587\u6807\u7b7e\u4e0d\u80fd\u4e3a\u7a7a");const t={id:"custom-".concat(Date.now()),en:e.en.trim(),cn:e.cn.trim()||"",frequency:parseInt(e.frequency)||50},n=K||"personal-tags",r=$||"custom";oe((e=>{const a=l({},e);return a.categories[n]||(a.categories[n]={name:"\u4e2a\u4eba\u6807\u7b7e",icon:"\ud83c\udff7\ufe0f",subcategories:{}}),a.categories[n].subcategories[r]||(a.categories[n].subcategories[r]={name:"\u81ea\u5b9a\u4e49\u6807\u7b7e",tags:[]}),a.categories[n].subcategories[r].tags.push(t),a})),ze(null),Pe({en:"",cn:"",frequency:50}),i("add",'\u6807\u7b7e "'.concat(t.en,'" \u6dfb\u52a0\u6210\u529f'))}),[K,$,o,i]),wt=(0,e.useCallback)((()=>{try{const e=De.getFavorites();if(Fe(e||[]),"custom"===se){const e=localStorage.getItem("customTagLibrary");if(e){const t=JSON.parse(e);oe(t)}}ee(""),ne([]),i("refresh","\u6570\u636e\u5e93\u5237\u65b0\u6210\u529f")}catch(e){console.error("\u5237\u65b0\u6570\u636e\u5e93\u5931\u8d25:",e),o("refresh","\u6570\u636e\u5e93\u5237\u65b0\u5931\u8d25")}}),[se,i,o]),jt=(0,e.useCallback)((e=>{if(!e.name.trim())return void o("add","\u5206\u7c7b\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a");const t="category-".concat(Date.now()),n={name:e.name.trim(),icon:e.icon||"\ud83d\udcc1",subcategories:{default:{name:"\u9ed8\u8ba4\u5206\u7ec4",tags:[]}}};oe((e=>l(l({},e),{},{categories:l(l({},e.categories),{},{[t]:n})}))),ge({name:"",icon:"\ud83d\udcc1"}),fe(null),i("add",'\u5206\u7c7b "'.concat(n.name,'" \u521b\u5efa\u6210\u529f'))}),[o,i]),Nt=(0,e.useCallback)(((e,t)=>{if(!t.name.trim())return void o("add","\u5b50\u5206\u7c7b\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a");const n="subcategory-".concat(Date.now()),r={name:t.name.trim(),tags:[]};oe((t=>{const a=l({},t);return a.categories[e]&&(a.categories[e].subcategories[n]=r),a})),ke({name:""}),i("add",'\u5b50\u5206\u7c7b "'.concat(r.name,'" \u521b\u5efa\u6210\u529f'))}),[o,i]),kt=(0,e.useCallback)(((e,t,n)=>{oe((r=>{var a,s;const i=l({},r);return null!==(a=i.categories[t])&&void 0!==a&&null!==(s=a.subcategories[n])&&void 0!==s&&s.tags&&(i.categories[t].subcategories[n].tags=i.categories[t].subcategories[n].tags.filter((t=>t.id!==e))),i})),i("delete","\u6807\u7b7e\u5220\u9664\u6210\u529f")}),[i]),_t=(0,e.useCallback)(((e,t,n)=>{ze({tag:e,categoryKey:t,subcategoryKey:n}),Pe({en:e.en,cn:e.cn||"",frequency:e.frequency||50})}),[]),St=(0,e.useCallback)((e=>{if(!Ae.tag||!e.en.trim())return void o("edit","\u6807\u7b7e\u6570\u636e\u65e0\u6548");const t=l(l({},Ae.tag),{},{en:e.en.trim(),cn:e.cn.trim()||"",frequency:parseInt(e.frequency)||50});oe((e=>{var n,r;const a=l({},e),s=Ae.categoryKey,i=Ae.subcategoryKey;if(null!==(n=a.categories[s])&&void 0!==n&&null!==(r=n.subcategories[i])&&void 0!==r&&r.tags){const e=a.categories[s].subcategories[i].tags.findIndex((e=>e.id===Ae.tag.id));-1!==e&&(a.categories[s].subcategories[i].tags[e]=t)}return a})),ze(null),Pe({en:"",cn:"",frequency:50}),i("edit",'\u6807\u7b7e "'.concat(t.en,'" \u66f4\u65b0\u6210\u529f'))}),[Ae,o,i]),Ct=(0,e.useCallback)((()=>{try{const e={version:"1.0.0",timestamp:(new Date).toISOString(),library:le,favorites:Me},t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download="custom-tag-library-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r),i("export","\u5e93\u6570\u636e\u5bfc\u51fa\u6210\u529f")}catch(e){console.error("\u5bfc\u51fa\u5931\u8d25:",e),o("export","\u5e93\u6570\u636e\u5bfc\u51fa\u5931\u8d25")}}),[le,Me,i,o]),Et=(0,e.useCallback)((e=>{try{const t=JSON.parse(e);t.library&&(oe(t.library),i("import","\u5e93\u6570\u636e\u5bfc\u5165\u6210\u529f")),t.favorites&&(Fe(t.favorites),i("import","\u6536\u85cf\u6570\u636e\u5bfc\u5165\u6210\u529f")),Re(""),Te(!1)}catch(t){console.error("\u5bfc\u5165\u5931\u8d25:",t),o("import","\u6570\u636e\u683c\u5f0f\u9519\u8bef\uff0c\u5bfc\u5165\u5931\u8d25")}}),[i,o]);return(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[(0,ae.jsx)("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 px-6 py-4",children:(0,ae.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,ae.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 mb-2 flex items-center",children:[(0,ae.jsx)(b,{className:"text-blue-600 mr-2",size:28}),"\u667a\u80fd\u63d0\u793a\u8bcd\u5e93 3.0"]}),(0,ae.jsx)("p",{className:"text-gray-600 text-sm",children:"AI\u7ed8\u753b\u63d0\u793a\u8bcd\u7f16\u8f91\u7ba1\u7406\u5de5\u5177\uff0c\u652f\u6301\u4e2d\u82f1\u6587\u667a\u80fd\u8f93\u5165\u3001\u591a\u5f15\u64ce\u7ffb\u8bd1"})]}),(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsxs)("div",{className:"text-right",children:[(0,ae.jsx)("div",{className:"text-xs text-gray-500",children:"\u5f53\u524d\u6a21\u5f0f"}),(0,ae.jsx)("div",{className:"text-sm font-semibold text-blue-600",children:"\u5185\u6d4b\u7248\u672c"})]}),(0,ae.jsxs)("button",{onClick:()=>Be(!0),className:"flex items-center gap-1 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",title:"\u67e5\u770b\u4f7f\u7528\u6559\u7a0b",children:[(0,ae.jsx)(x,{size:16}),"\u4f7f\u7528\u6559\u7a0b"]}),(0,ae.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,ae.jsx)(b,{className:"text-white",size:20})})]})]})})}),(0,ae.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[(0,ae.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,ae.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200",children:(0,ae.jsxs)("div",{className:"p-4",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)(xe,{className:"text-blue-600",size:16}),(0,ae.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"\u667a\u80fd\u8f93\u5165"}),(0,ae.jsx)("div",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-0.5 rounded",children:"zh"===P?"\ud83c\udde8\ud83c\uddf3":"en"===P?"\ud83c\uddfa\ud83c\uddf8":"\ud83c\udf10"})]}),(0,ae.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ae.jsxs)("label",{className:"flex items-center text-xs text-gray-600",title:"\u81ea\u52a8\u7ffb\u8bd1",children:[(0,ae.jsx)("input",{type:"checkbox",checked:G,onChange:e=>V(e.target.checked),className:"w-3 h-3 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,ae.jsx)(be,{size:12,className:"ml-1"})]}),(0,ae.jsx)("button",{onClick:()=>mt(S),disabled:!S.trim(),className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors disabled:opacity-50",title:"\u590d\u5236",children:(0,ae.jsx)(j,{size:12})}),(0,ae.jsx)("button",{onClick:()=>{C(""),T(""),L([]),M(new Set),O("auto"),i("clear","\u5df2\u6e05\u7a7a")},disabled:!S.trim(),className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",title:"\u6e05\u7a7a",children:(0,ae.jsx)(re,{size:12})})]})]}),(0,ae.jsx)("div",{className:"mb-3 flex gap-1",children:[{text:"beautiful girl, anime style",icon:"\ud83d\udc67",title:"\u57fa\u7840"},{text:"masterpiece, best quality, ultra detailed",icon:"\u2728",title:"\u8d28\u91cf"},{text:"blue eyes, long hair, smile",icon:"\ud83d\udc41\ufe0f",title:"\u7279\u5f81"},{text:"forest, sunset, cinematic lighting",icon:"\ud83c\udf05",title:"\u573a\u666f"}].map(((e,t)=>(0,ae.jsx)("button",{onClick:()=>{C(e.text),lt(e.text)},className:"px-2 py-1 text-xs bg-blue-50 text-blue-600 rounded hover:bg-blue-100 transition-colors",title:e.title,children:e.icon},t)))}),(0,ae.jsx)("textarea",{ref:We,value:S,onChange:e=>lt(e.target.value),placeholder:"\u652f\u6301\u4e2d\u82f1\u6587\u8f93\u5165\uff0c\u5982\uff1a\u7f8e\u4e3d\u7684\u5973\u5b69, beautiful girl...",className:"w-full h-24 p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"}),(0,ae.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400 mt-2",children:[(0,ae.jsx)("span",{children:S.length}),(0,ae.jsx)("span",{className:"text-xs",children:"zh"===P?"\ud83c\udde8\ud83c\uddf3":"en"===P?"\ud83c\uddfa\ud83c\uddf8":"\ud83c\udf10"})]})]})}),(0,ae.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200",children:(0,ae.jsxs)("div",{className:"p-4",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)(ye,{className:"text-green-600",size:16}),(0,ae.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"\u8f93\u51fa"}),(0,ae.jsx)("div",{className:"text-xs bg-green-50 text-green-600 px-2 py-0.5 rounded",children:"AI\u6807\u51c6"})]}),(0,ae.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ae.jsxs)("select",{value:H,onChange:e=>W(e.target.value),className:"text-xs bg-gray-50 border border-gray-300 rounded px-1.5 py-0.5 focus:ring-1 focus:ring-blue-500",title:"\u9009\u62e9\u8bed\u8a00",children:[(0,ae.jsx)("option",{value:"en",children:"\ud83c\uddfa\ud83c\uddf8"}),(0,ae.jsx)("option",{value:"zh",children:"\ud83c\udde8\ud83c\uddf3"}),(0,ae.jsx)("option",{value:"ja",children:"\ud83c\uddef\ud83c\uddf5"}),(0,ae.jsx)("option",{value:"ko",children:"\ud83c\uddf0\ud83c\uddf7"})]}),(0,ae.jsxs)("div",{className:"text-xs bg-gray-50 px-2 py-0.5 rounded flex items-center gap-1",title:"\u5f53\u524d\u5f15\u64ce: ".concat((null===f||void 0===f?void 0:f.name)||"\u672a\u77e5"),children:[(0,ae.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),(0,ae.jsx)("span",{className:"text-gray-600",children:(null===f||void 0===f||null===(t=f.name)||void 0===t?void 0:t.slice(0,2))||"N/A"})]}),(0,ae.jsx)("button",{onClick:()=>mt(E),disabled:!E.trim(),className:"p-1.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors disabled:opacity-50",title:"\u590d\u5236",children:(0,ae.jsx)(j,{size:12})})]})]}),(0,ae.jsxs)("div",{className:"relative",children:[(0,ae.jsx)("textarea",{value:E,onChange:e=>(e=>{if(console.log("\ud83d\udd04 [handleEnglishPromptChange] \u82f1\u6587\u8f93\u51fa\u680f\u5185\u5bb9\u53d8\u5316:",e),T(e),"translation"!==Ze&&"add-tag"!==Ze&&"tag-edit"!==Ze){console.log("\ud83d\udcdd [handleEnglishPromptChange] \u624b\u52a8\u8f93\u5165\uff0c\u540c\u6b65\u5230\u63d0\u793a\u8bcd\u7f16\u8f91\u533a");const t=e.split(/[,\uff0c]/).map((e=>e.trim())).filter((e=>e));L(t),M(new Set),console.log("\ud83d\udcdd [handleEnglishPromptChange] \u6807\u7b7e\u5c06\u901a\u8fc7TagPill\u7ec4\u4ef6\u81ea\u52a8\u7ffb\u8bd1"),z||C(e)}})(e.target.value),placeholder:z?"\u7ffb\u8bd1\u4e2d...":"\u8bf7\u5148\u5728\u5de6\u4fa7\u8f93\u5165\u63d0\u793a\u8bcd...",className:"w-full h-24 p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all text-sm"}),z&&(0,ae.jsx)("div",{className:"absolute inset-0 bg-white/80 flex items-center justify-center",children:(0,ae.jsx)(pe,{size:14,className:"animate-spin text-blue-600"})})]}),(0,ae.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400 mt-2",children:[(0,ae.jsx)("span",{children:E.length}),(0,ae.jsx)("span",{children:"AI\u6807\u51c6"})]})]})})]}),(0,ae.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 prompt-edit-area",children:(0,ae.jsxs)("div",{className:"p-4",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ae.jsxs)("h2",{className:"text-md font-semibold text-gray-900 flex items-center",children:[(0,ae.jsx)(ve,{className:"text-blue-600 mr-2",size:18}),"\u63d0\u793a\u8bcd\u7f16\u8f91\u5668",(0,ae.jsx)("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full ml-2",children:"\u60ac\u505c\u7f16\u8f91 \xb7 \u6743\u91cd\u8c03\u8282 \xb7 \u667a\u80fd\u7ffb\u8bd1"}),(0,ae.jsxs)("span",{className:"text-xs bg-green-100 text-green-600 px-2 py-1 rounded-full ml-2",children:["(",D.filter(((e,t)=>!R.has(t))).length,"/",D.length,")"]})]}),(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsxs)("button",{onClick:async()=>{if(0===D.length)return void c("\u6ca1\u6709\u6807\u7b7e\u9700\u8981\u7ffb\u8bd1");console.log("\ud83c\udf10 [translateAllTags] \u5f00\u59cb\u7ffb\u8bd1\u6240\u6709\u6807\u7b7e:",D);const e={};let t=0,n=0,r=0;for(const i of D){const{text:a}=at(i);if(F[a])console.log("\ud83d\udcd6 [translateAllTags] \u8df3\u8fc7\u5df2\u7ffb\u8bd1\u7684\u6807\u7b7e:",a),n++;else if(/^[a-zA-Z\s\-_\d]+$/.test(a))try{await new Promise((e=>setTimeout(e,300))),console.log('\ud83c\udf10 [translateAllTags] \u5f00\u59cb\u7ffb\u8bd1: "'.concat(a,'"'));const n=await m(a,"zh","en"),r=(null===n||void 0===n?void 0:n.translatedText)||n;if(r){console.log('\ud83d\udcdd [translateAllTags] \u539f\u59cb\u7ffb\u8bd1\u7ed3\u679c: "'.concat(r,'"'));const n=tt(r);console.log('\u2728 [translateAllTags] \u6e05\u7406\u540e\u7ed3\u679c: "'.concat(n,'"')),n&&n!==a&&/[\u4e00-\u9fa5]/.test(n)?(e[a]=n,t++,console.log("\u2705 [translateAllTags] \u7ffb\u8bd1\u6210\u529f:",a,"\u2192",n)):console.log("\u26a0\ufe0f [translateAllTags] \u7ffb\u8bd1\u7ed3\u679c\u8d28\u91cf\u4e0d\u5408\u683c:",a,"\u2192",n)}else console.log("\u26a0\ufe0f [translateAllTags] \u7ffb\u8bd1\u8fd4\u56de\u7a7a\u7ed3\u679c:",a)}catch(s){console.error("\u274c [translateAllTags] \u7ffb\u8bd1\u5931\u8d25:",a,s.message)}else console.log("\u26a0\ufe0f [translateAllTags] \u8df3\u8fc7\u975e\u82f1\u6587\u6807\u7b7e:",a),r++}Object.keys(e).length>0&&U((t=>l(l({},t),e)));let a="";t>0&&(a+="\u6210\u529f\u7ffb\u8bd1 ".concat(t," \u4e2a\u6807\u7b7e"),i("translate",a)),n>0&&u("\u8df3\u8fc7 ".concat(n," \u4e2a\u5df2\u7ffb\u8bd1\u7684\u6807\u7b7e")),r>0&&u("\u8df3\u8fc7 ".concat(r," \u4e2a\u975e\u82f1\u6587\u6807\u7b7e")),0===t&&(n>0?u("\u6240\u6709\u82f1\u6587\u6807\u7b7e\u90fd\u5df2\u7ffb\u8bd1"):c("\u6ca1\u6709\u627e\u5230\u53ef\u7ffb\u8bd1\u7684\u82f1\u6587\u6807\u7b7e")),console.log("\u2705 [translateAllTags] \u7ffb\u8bd1\u5b8c\u6210\uff0c\u65b0\u589e\u7ffb\u8bd1:",e)},disabled:0===D.length||d,className:"flex items-center gap-1 px-2 py-1 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:[d?(0,ae.jsx)(pe,{size:12,className:"animate-spin"}):(0,ae.jsx)(xe,{size:12}),"\u7ffb\u8bd1\u5168\u90e8"]}),(0,ae.jsxs)("button",{onClick:()=>{console.log("\ud83e\uddf9 [\u6e05\u7a7a\u6309\u94ae] \u6e05\u7a7a\u6240\u6709\u5185\u5bb9"),L([]),T(""),C(""),U({}),M(new Set),O("auto"),i("clear","\u5df2\u6e05\u7a7a\u6240\u6709\u5185\u5bb9")},disabled:0===D.length&&!E.trim()&&!S.trim(),className:"flex items-center gap-1 px-2 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,ae.jsx)(re,{size:12}),"\u6e05\u7a7a"]})]})]}),D.length>0&&(0,ae.jsx)("div",{className:"mb-4 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:(0,ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2 text-sm text-blue-800",children:[(0,ae.jsx)(be,{className:"text-blue-600",size:16}),(0,ae.jsx)("span",{className:"font-medium",children:"\u667a\u80fd\u7ffb\u8bd1\u5df2\u542f\u7528"}),(0,ae.jsx)("span",{className:"text-blue-600",children:'\u2022 \u6807\u7b7e\u4e0b\u65b9\u4f1a\u81ea\u52a8\u663e\u793a\u4e2d\u6587\u7ffb\u8bd1 \u2022 \u652f\u6301\u672c\u5730\u8bcd\u5178\u548c\u5728\u7ebf\u7ffb\u8bd1 \u2022 \u70b9\u51fb"\u7ffb\u8bd1\u5168\u90e8"\u83b7\u53d6\u6240\u6709\u6807\u7b7e\u7ffb\u8bd1'})]}),(0,ae.jsxs)("div",{className:"text-xs text-blue-600 bg-white px-2 py-1 rounded border",children:[Object.keys(F).length,"/",D.length," \u5df2\u7ffb\u8bd1"]})]})}),(0,ae.jsx)("div",{className:"border border-gray-300 rounded-lg p-4 bg-blue-50/20 relative",style:{minHeight:"200px",height:"auto"},children:0===D.length?(0,ae.jsx)("div",{className:"flex items-center justify-center h-24 text-gray-500",children:(0,ae.jsxs)("div",{className:"text-center",children:[(0,ae.jsx)(we,{size:24,className:"mx-auto mb-2 opacity-50"}),(0,ae.jsx)("p",{className:"text-sm",children:"\u70b9\u51fb\u4e0b\u65b9\u6807\u7b7e\u5e93\u6dfb\u52a0\u6807\u7b7e"}),(0,ae.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"\u6216\u5728\u4e0a\u65b9\u8f93\u5165\u533a\u76f4\u63a5\u8f93\u5165\u63d0\u793a\u8bcd"})]})}):(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsxs)("div",{className:"mb-4",children:[(0,ae.jsx)("textarea",{value:D.filter(((e,t)=>!R.has(t))).join(", "),readOnly:!0,className:"w-full h-20 p-3 border border-gray-300 rounded-lg resize-none bg-green-50/30 text-sm overflow-y-auto text-gray-700",placeholder:"\u7f16\u8f91\u540e\u7684\u6807\u7b7e\u5c06\u5728\u8fd9\u91cc\u663e\u793a..."}),(0,ae.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-2",children:[(0,ae.jsxs)("span",{children:[D.filter(((e,t)=>!R.has(t))).join(", ").length," \u5b57\u7b26"]}),(0,ae.jsxs)("span",{children:["\u542f\u7528\u6807\u7b7e: ",D.filter(((e,t)=>!R.has(t))).length,"/",D.length]})]})]}),(0,ae.jsx)("div",{className:"flex flex-wrap gap-3",style:{paddingBottom:"20px"},children:D.map(((e,t)=>{const n="string"===typeof e?e:e.en,r=Me.some((e=>e.en===n));return(0,ae.jsx)(Ue,{tag:e,index:t,isDisabled:R.has(t),isFavorited:r,onDelete:ct,onToggleDisabled:ut,onAdjustWeight:dt,onAdjustBrackets:ht,onCopy:ft,onFavorite:pt,onTranslate:gt,translatedTags:F,hoveredTag:q,setHoveredTag:B,targetLanguage:H,onTranslationUpdate:bt},"".concat(e,"-").concat(t))}))})]})})]})}),(0,ae.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[(0,ae.jsxs)("div",{className:"lg:col-span-1 space-y-4",children:[(0,ae.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:(0,ae.jsxs)("div",{className:"relative",children:[(0,ae.jsx)(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,ae.jsx)("input",{type:"text",value:J,onChange:e=>ee(e.target.value),placeholder:"\u641c\u7d22\u6807\u7b7e...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,ae.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[(0,ae.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"\u6807\u7b7e\u5e93\u6a21\u5f0f"}),(0,ae.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,ae.jsx)("button",{onClick:()=>ie("default"),className:"px-3 py-2 text-sm rounded-lg transition-colors ".concat("default"===se?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"\u9ed8\u8ba4\u6807\u7b7e\u5e93"}),(0,ae.jsx)("button",{onClick:()=>ie("custom"),className:"px-3 py-2 text-sm rounded-lg transition-colors ".concat("custom"===se?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"\u81ea\u5b9a\u4e49\u5e93"})]})]}),(0,ae.jsx)($e,{libraryMode:se,selectedCategory:K,selectedSubcategory:$,expandedCategories:X,currentDatabase:xt,favorites:Me,onSelectCategory:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Z(e),Q(t),ee("")},onToggleCategory:e=>{Y((t=>l(l({},t),{},{[e]:!t[e]})))}}),(0,ae.jsx)(Xe,{libraryMode:se,showTagManager:_e,showImportExport:Ee,onToggleTagManager:()=>Se(!_e),onShowImportExport:()=>Te(!Ee),onShowCustomLibraryManager:()=>de(!0),onShowLibraryManager:()=>Te(!0),onAddTag:yt,onRefreshDatabase:wt,canEdit:"custom"===se})]}),(0,ae.jsx)("div",{className:"lg:col-span-4",children:(0,ae.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ae.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center",children:[(0,ae.jsx)(je,{className:"text-purple-600 mr-2",size:18}),"\u6807\u7b7e\u5e93 (",st.length," \u4e2a\u6807\u7b7e)",J&&(0,ae.jsxs)("span",{className:"text-sm text-gray-500 ml-2",children:['\u641c\u7d22 "',J,'"']})]}),(0,ae.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,ae.jsx)("span",{children:"favorites"===K?"\u6211\u7684\u6536\u85cf":(null===xt||void 0===xt||null===(n=xt[K])||void 0===n?void 0:n.name)||K}),$&&(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)("span",{children:"\u203a"}),(0,ae.jsx)("span",{children:(null===xt||void 0===xt||null===(r=xt[K])||void 0===r||null===(a=r.subcategories)||void 0===a||null===(s=a[$])||void 0===s?void 0:s.name)||$})]})]})]}),(0,ae.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 max-h-96 overflow-y-auto",children:st.map(((e,t)=>(0,ae.jsx)(He,{tag:e,onAdd:ot,onToggleFavorite:pt,isFavorited:Me.some((t=>t.en===e.en)),onEdit:e=>_t(e,K,$),onDelete:e=>{window.confirm('\u786e\u5b9a\u8981\u5220\u9664\u6807\u7b7e "'.concat(e.en,'" \u5417\uff1f'))&&kt(e.id,K,$)},isEditable:"custom"===se,showManagement:_e},"".concat(e.en,"-").concat(t))))}),0===st.length&&(0,ae.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,ae.jsx)(je,{size:48,className:"mx-auto mb-2 opacity-50"}),(0,ae.jsx)("p",{children:"\u6682\u65e0\u6807\u7b7e"}),J?(0,ae.jsx)("p",{className:"text-sm",children:"\u5c1d\u8bd5\u5176\u4ed6\u641c\u7d22\u5173\u952e\u8bcd"}):(0,ae.jsx)("p",{className:"text-sm",children:"\u5c1d\u8bd5\u5207\u6362\u5206\u7c7b\u6216\u6dfb\u52a0\u6807\u7b7e"})]})]})})]})]}),qe&&(0,ae.jsx)(Ve,{onClose:()=>Be(!1)}),ce&&(0,ae.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ae.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-hidden",children:[(0,ae.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,ae.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\u81ea\u5b9a\u4e49\u5e93\u7ba1\u7406"}),(0,ae.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"\u7ba1\u7406\u60a8\u7684\u81ea\u5b9a\u4e49\u6807\u7b7e\u5e93\u548c\u5206\u7c7b"})]}),(0,ae.jsxs)("div",{className:"p-6 space-y-6 overflow-y-auto max-h-[60vh]",children:[(0,ae.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,ae.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"\u6dfb\u52a0\u65b0\u5206\u7c7b"}),(0,ae.jsxs)("div",{className:"flex gap-3",children:[(0,ae.jsx)("input",{type:"text",placeholder:"\u5206\u7c7b\u540d\u79f0",value:me.name,onChange:e=>ge((t=>l(l({},t),{},{name:e.target.value}))),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,ae.jsx)("input",{type:"text",placeholder:"\u56fe\u6807",value:me.icon,onChange:e=>ge((t=>l(l({},t),{},{icon:e.target.value}))),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center"}),(0,ae.jsx)("button",{onClick:()=>jt(me),disabled:!me.name.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"\u6dfb\u52a0"})]})]}),(0,ae.jsxs)("div",{className:"space-y-4",children:[(0,ae.jsx)("h3",{className:"font-semibold text-gray-900",children:"\u73b0\u6709\u5206\u7c7b"}),Object.entries(le.categories||{}).map((e=>{let[t,n]=e;return(0,ae.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)("span",{className:"text-lg",children:n.icon}),(0,ae.jsx)("span",{className:"font-medium",children:n.name}),(0,ae.jsxs)("span",{className:"text-xs text-gray-500",children:["(",Object.values(n.subcategories||{}).reduce(((e,t)=>{var n;return e+((null===(n=t.tags)||void 0===n?void 0:n.length)||0)}),0)," \u4e2a\u6807\u7b7e)"]})]}),(0,ae.jsx)("div",{className:"flex gap-2",children:(0,ae.jsx)("button",{onClick:()=>{ke({name:""}),fe(t)},className:"text-blue-600 hover:text-blue-800 text-sm",children:"\u6dfb\u52a0\u5b50\u5206\u7c7b"})})]}),he===t&&(0,ae.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,ae.jsx)("input",{type:"text",placeholder:"\u5b50\u5206\u7c7b\u540d\u79f0",value:Ne.name,onChange:e=>ke({name:e.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),(0,ae.jsx)("button",{onClick:()=>{Nt(t,Ne),fe(null)},className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:"\u6dfb\u52a0"}),(0,ae.jsx)("button",{onClick:()=>fe(null),className:"px-3 py-2 bg-gray-400 text-white rounded-lg hover:bg-gray-500 text-sm",children:"\u53d6\u6d88"})]})]},t)}))]})]}),(0,ae.jsx)("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:(0,ae.jsx)("button",{onClick:()=>de(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"\u5173\u95ed"})})]})}),Ae&&(0,ae.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ae.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:[(0,ae.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,ae.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:Ae.isNew?"\u6dfb\u52a0\u65b0\u6807\u7b7e":"\u7f16\u8f91\u6807\u7b7e"})}),(0,ae.jsxs)("div",{className:"p-6 space-y-4",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u82f1\u6587\u6807\u7b7e"}),(0,ae.jsx)("input",{type:"text",placeholder:"beautiful girl",value:Ie.en,onChange:e=>Pe((t=>l(l({},t),{},{en:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u4e2d\u6587\u7ffb\u8bd1"}),(0,ae.jsx)("input",{type:"text",placeholder:"\u7f8e\u4e3d\u5973\u5b69",value:Ie.cn,onChange:e=>Pe((t=>l(l({},t),{},{cn:e.target.value}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["\u70ed\u5ea6\u503c (",Ie.frequency,")"]}),(0,ae.jsx)("input",{type:"range",min:"1",max:"100",value:Ie.frequency,onChange:e=>Pe((t=>l(l({},t),{},{frequency:parseInt(e.target.value)}))),className:"w-full"}),(0,ae.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,ae.jsx)("span",{children:"\u51b7\u95e8"}),(0,ae.jsx)("span",{children:"\u70ed\u95e8"})]})]})]}),(0,ae.jsxs)("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[(0,ae.jsx)("button",{onClick:()=>{ze(null),Pe({en:"",cn:"",frequency:50})},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"\u53d6\u6d88"}),(0,ae.jsx)("button",{onClick:()=>Ae.isNew?vt(Ie):St(Ie),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:Ae.isNew?"\u6dfb\u52a0":"\u4fdd\u5b58"})]})]})}),Ee&&(0,ae.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ae.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-hidden",children:[(0,ae.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,ae.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\u5e93\u7ba1\u7406\u7cfb\u7edf"}),(0,ae.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"\u5bfc\u5165\u5bfc\u51fa\u60a8\u7684\u6807\u7b7e\u5e93\u6570\u636e"})]}),(0,ae.jsxs)("div",{className:"p-6 space-y-6",children:[(0,ae.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,ae.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"\u5bfc\u51fa\u6570\u636e"}),(0,ae.jsx)("p",{className:"text-gray-600 text-sm mb-3",children:"\u5c06\u60a8\u7684\u81ea\u5b9a\u4e49\u5e93\u548c\u6536\u85cf\u5bfc\u51fa\u4e3aJSON\u6587\u4ef6"}),(0,ae.jsx)("button",{onClick:Ct,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"\u4e0b\u8f7d\u5e93\u6570\u636e"})]}),(0,ae.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,ae.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"\u5bfc\u5165\u6570\u636e"}),(0,ae.jsx)("p",{className:"text-gray-600 text-sm mb-3",children:"\u4eceJSON\u6587\u4ef6\u5bfc\u5165\u6807\u7b7e\u5e93\u6570\u636e"}),(0,ae.jsx)("textarea",{placeholder:"\u8bf7\u7c98\u8d34JSON\u6570\u636e...",value:Oe,onChange:e=>Re(e.target.value),className:"w-full h-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm font-mono"}),(0,ae.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,ae.jsx)("button",{onClick:()=>Et(Oe),disabled:!Oe.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"\u5bfc\u5165\u6570\u636e"}),(0,ae.jsx)("button",{onClick:()=>Re(""),className:"px-4 py-2 bg-gray-400 text-white rounded-lg hover:bg-gray-500 transition-colors",children:"\u6e05\u7a7a"})]})]})]}),(0,ae.jsx)("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:(0,ae.jsx)("button",{onClick:()=>Te(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"\u5173\u95ed"})})]})})]})})},Je=u("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),et=u("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]),tt=u("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);function nt(e){try{const t=e.data;if("tEXt"===e.type){const e=t.indexOf(0);if(-1===e)return{};const n=rt(t.slice(0,e));return{keyword:n,text:rt(t.slice(e+1))}}if("iTXt"===e.type){const e=[];for(let r=0;r<t.length&&!(0===t[r]&&(e.push(r),e.length>=4));r++);if(e.length<4)return{};const n=at(t.slice(0,e[0]));return{keyword:n,text:at(t.slice(e[3]+1))}}return{}}catch(t){return console.warn("\u6587\u672c\u5757\u89e3\u6790\u5931\u8d25:",t),{}}}function rt(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}function at(e){try{return new TextDecoder("utf-8",{fatal:!1}).decode(e)}catch(t){return rt(e)}}function st(e){const t=e.toLowerCase();return t.includes("steps:")||t.includes("cfg scale:")||t.includes("sampler:")||t.includes("negative prompt:")}function it(e){const t={positive:"",negative:"",parameters:{}};try{const n=e.indexOf("Negative prompt:");if(-1!==n){t.positive=e.substring(0,n).trim();const r=e.substring(n+16).split("\n");let a="",s=[],i=!1;for(const e of r){const t=e.trim();lt(t)?(i=!0,s.push(t)):!i&&t?a+=(a?"\n":"")+t:i&&s.push(t)}t.negative=a.trim(),s.length>0&&(t.parameters=ot(s.join(", ")))}else{const n=e.split("\n");let r=[],a=[],s=!1;for(const e of n){const t=e.trim();lt(t)?(s=!0,a.push(t)):!s&&t?r.push(t):s&&a.push(t)}t.positive=r.join(" ").trim(),a.length>0&&(t.parameters=ot(a.join(", ")))}}catch(n){console.warn("AUTOMATIC1111\u89e3\u6790\u8b66\u544a:",n),t.positive=e}return t}function lt(e){return/\b(Steps|Sampler|CFG scale|Seed|Size|Model):/i.test(e)}function ot(e){const t={},n=/(\w+(?:\s+\w+)*)\s*:\s*([^,]+?)(?=,\s*\w+\s*:|$)/g;let r;for(;null!==(r=n.exec(e));){const e=r[1].trim().toLowerCase().replace(/\s+/g,""),n=r[2].trim(),a=parseFloat(n);t[e]=!isNaN(a)&&isFinite(a)?a:n}return t}function ct(e){const t={positive:"",negative:"",parameters:{}};try{const n=JSON.parse(e);if(Array.isArray(null===n||void 0===n?void 0:n.nodes)){console.log("\ud83d\udccb \u68c0\u6d4b\u5230ComfyUI\u5de5\u4f5c\u6d41\u683c\u5f0f");const e=function(e){var t;const n=[],r=[],a={};console.log("\ud83d\udd0d \u5206\u6790ComfyUI\u5de5\u4f5c\u6d41\uff0c\u8282\u70b9\u6570\u91cf:",(null===(t=e.nodes)||void 0===t?void 0:t.length)||0);for(const u of e.nodes||[]){console.log("\ud83d\udcdd \u68c0\u67e5\u8282\u70b9: ".concat(u.type," (").concat(u.title||"untitled",")"));if(["CLIPTextEncode","CLIPTextEncodeSDXL","BNK_CLIPTextEncoder","WeiLin-ComfyUI-prompt-all-in-one","TIPO","PromptWithStyle","StringFunction","Text","TextInput","PromptBuilder","AdvancedCLIPTextEncode","CLIPTextEncodeFlux","ShowText","StringConstant","MultilineStringLiteral"].includes(u.type)){console.log("\u2705 \u627e\u5230\u6587\u672c\u7f16\u7801\u8282\u70b9: ".concat(u.type));let e=null;if(u.widgets_values&&Array.isArray(u.widgets_values))for(const t of u.widgets_values)if("string"===typeof t&&t.trim().length>0){e=t.trim(),console.log("\ud83d\udcc4 \u4ecewidgets_values\u83b7\u53d6\u6587\u672c: ".concat(e.substring(0,50),"..."));break}if(!e&&u.text&&"string"===typeof u.text&&(e=u.text.trim(),console.log("\ud83d\udcc4 \u4ecetext\u5c5e\u6027\u83b7\u53d6\u6587\u672c: ".concat(e.substring(0,50),"..."))),!e&&u.inputs)for(const t of u.inputs)if("text"===t.name&&t.widget&&t.widget.value){e=t.widget.value.trim(),console.log("\ud83d\udcc4 \u4eceinputs\u83b7\u53d6\u6587\u672c: ".concat(e.substring(0,50),"..."));break}if(!e&&u.properties&&u.properties.text&&(e=u.properties.text.trim(),console.log("\ud83d\udcc4 \u4eceproperties\u83b7\u53d6\u6587\u672c: ".concat(e.substring(0,50),"..."))),e&&e.length>0){var s,i,l;ht(e)||(null===(s=u.title)||void 0===s?void 0:s.toLowerCase().includes("negative"))||(null===(i=u.title)||void 0===i?void 0:i.toLowerCase().includes("\u8d1f\u5411"))||(null===(l=u.title)||void 0===l?void 0:l.toLowerCase().includes("\u53cd\u5411"))||u.color&&("#ff6b6b"===u.color||"#e74c3c"===u.color)?(r.push(e),console.log("\u2796 \u8bc6\u522b\u4e3a\u8d1f\u5411\u63d0\u793a\u8bcd: ".concat(e.substring(0,30),"..."))):(n.push(e),console.log("\u2795 \u8bc6\u522b\u4e3a\u6b63\u5411\u63d0\u793a\u8bcd: ".concat(e.substring(0,30),"...")))}}if(["KSampler","KSamplerAdvanced","SamplerCustom"].includes(u.type)&&u.widgets_values){const[e,t,n,r,s,i]=u.widgets_values;void 0!==e&&(a.seed=e),void 0!==t&&(a.steps=t),void 0!==n&&(a.cfg_scale=n),void 0!==r&&(a.sampler=r),void 0!==s&&(a.scheduler=s),void 0!==i&&(a.denoise=i),console.log("\u2699\ufe0f \u63d0\u53d6\u91c7\u6837\u5668\u53c2\u6570: steps=".concat(t,", cfg=").concat(n,", sampler=").concat(r))}if(["CheckpointLoaderSimple","CheckpointLoader"].includes(u.type)&&u.widgets_values&&u.widgets_values[0]&&(a.model=u.widgets_values[0],console.log("\ud83c\udfaf \u63d0\u53d6\u6a21\u578b: ".concat(a.model))),["EmptyLatentImage","LatentUpscale"].includes(u.type)&&u.widgets_values){const[e,t]=u.widgets_values;void 0!==e&&(a.width=e),void 0!==t&&(a.height=t),console.log("\ud83d\udcd0 \u63d0\u53d6\u5c3a\u5bf8: ".concat(e,"x").concat(t))}}const o=dt(n),c=dt(r);return console.log("\ud83c\udfaf \u6700\u7ec8\u7ed3\u679c: \u6b63\u5411\u63d0\u793a\u8bcd".concat(o.length,"\u5b57\u7b26, \u8d1f\u5411\u63d0\u793a\u8bcd").concat(c.length,"\u5b57\u7b26")),{positive:o,negative:c,parameters:a}}(n);t.positive=e.positive,t.negative=e.negative,Object.assign(t.parameters,e.parameters)}else if("object"===typeof n){console.log("\ud83d\udccb \u68c0\u6d4b\u5230ComfyUI\u63d0\u793a\u683c\u5f0f");const e=function(e){const t=[],n=[],r={};console.log("\ud83d\udd0d \u5206\u6790ComfyUI\u63d0\u793a\u683c\u5f0f\uff0c\u8282\u70b9\u6570\u91cf:",Object.keys(e).length);for(const[c,u]of Object.entries(e)){console.log("\ud83d\udcdd \u68c0\u67e5\u8282\u70b9 ".concat(c,": ").concat(u.class_type));if(["CLIPTextEncode","CLIPTextEncodeSDXL","BNK_CLIPTextEncoder","WeiLin-ComfyUI-prompt-all-in-one","TIPO","PromptWithStyle","StringFunction","Text","TextInput","PromptBuilder","AdvancedCLIPTextEncode","CLIPTextEncodeFlux","ShowText","StringConstant","MultilineStringLiteral"].includes(u.class_type)){var a,s,i;console.log("\u2705 \u627e\u5230\u6587\u672c\u7f16\u7801\u8282\u70b9: ".concat(u.class_type));let e=null;null!==(a=u.inputs)&&void 0!==a&&a.text&&"string"===typeof u.inputs.text?(e=u.inputs.text.trim(),console.log("\ud83d\udcc4 \u4eceinputs.text\u83b7\u53d6: ".concat(e.substring(0,50),"..."))):null!==(s=u.inputs)&&void 0!==s&&s.prompt&&"string"===typeof u.inputs.prompt?(e=u.inputs.prompt.trim(),console.log("\ud83d\udcc4 \u4eceinputs.prompt\u83b7\u53d6: ".concat(e.substring(0,50),"..."))):null!==(i=u.inputs)&&void 0!==i&&i.string&&"string"===typeof u.inputs.string&&(e=u.inputs.string.trim(),console.log("\ud83d\udcc4 \u4eceinputs.string\u83b7\u53d6: ".concat(e.substring(0,50),"..."))),e&&e.length>0&&(ht(e)?(n.push(e),console.log("\u2796 \u8bc6\u522b\u4e3a\u8d1f\u5411\u63d0\u793a\u8bcd")):(t.push(e),console.log("\u2795 \u8bc6\u522b\u4e3a\u6b63\u5411\u63d0\u793a\u8bcd")))}if(["KSampler","KSamplerAdvanced","SamplerCustom"].includes(u.class_type)){const e=u.inputs;void 0!==e.seed&&(r.seed=e.seed),void 0!==e.steps&&(r.steps=e.steps),void 0!==e.cfg&&(r.cfg_scale=e.cfg),void 0!==e.sampler_name&&(r.sampler=e.sampler_name),void 0!==e.scheduler&&(r.scheduler=e.scheduler),void 0!==e.denoise&&(r.denoise=e.denoise)}}const l=dt(t),o=dt(n);return console.log("\ud83c\udfaf \u6700\u7ec8\u7ed3\u679c: \u6b63\u5411\u63d0\u793a\u8bcd".concat(l.length,"\u5b57\u7b26, \u8d1f\u5411\u63d0\u793a\u8bcd").concat(o.length,"\u5b57\u7b26")),{positive:l,negative:o,parameters:r}}(n);t.positive=e.positive,t.negative=e.negative,Object.assign(t.parameters,e.parameters)}if(!t.positive&&!t.negative){console.log("\ud83d\udd0d \u5f00\u59cb\u6df1\u5ea6\u641c\u7d22\u63d0\u793a\u8bcd...");const e=function(e){const t={positive:"",negative:"",parameters:{}},n=[];function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";"string"===typeof e&&e.trim().length>10?function(e){return[/^[a-f0-9]{8,}$/i,/^\d+\.\d+\.\d+/,/^https?:\/\//,/^[A-Z_]+$/,/^\w+\.(png|jpg|jpeg|webp|gif)$/i,/^(true|false|null|undefined)$/i,/^\d+x\d+$/,/^#[a-f0-9]{6}$/i].some((t=>t.test(e.trim())))}(e)||(n.push({text:e.trim(),path:t,length:e.trim().length}),console.log("\ud83d\udd0d \u53d1\u73b0\u6587\u672c (".concat(t,"): ").concat(e.substring(0,50),"..."))):Array.isArray(e)?e.forEach(((e,n)=>{r(e,"".concat(t,"[").concat(n,"]"))})):"object"===typeof e&&null!==e&&Object.entries(e).forEach((e=>{let[n,a]=e;r(a,["text","prompt","string","content","value","input","output"].includes(n.toLowerCase())?"".concat(t,".").concat(n,"*"):"".concat(t,".").concat(n))}))}r(e),n.sort(((e,t)=>t.length-e.length)),console.log("\ud83c\udfaf \u5171\u53d1\u73b0 ".concat(n.length," \u4e2a\u6587\u672c\u7247\u6bb5"));const a=[],s=[];for(const i of n){const e=i.text;a.some((t=>t.includes(e)||e.includes(t)))||s.some((t=>t.includes(e)||e.includes(t)))||(ht(e)?(s.push(e),console.log("\u2796 \u5206\u7c7b\u4e3a\u8d1f\u5411: ".concat(e.substring(0,30),"..."))):(a.push(e),console.log("\u2795 \u5206\u7c7b\u4e3a\u6b63\u5411: ".concat(e.substring(0,30),"..."))))}return t.positive=ut(a),t.negative=ut(s),t}(n);t.positive=e.positive,t.negative=e.negative,Object.assign(t.parameters,e.parameters)}}catch(n){console.warn("ComfyUI\u89e3\u6790\u5931\u8d25:",n)}return t}function ut(e){if(0===e.length)return"";if(1===e.length)return e[0];const t=e.map((e=>{let t=0;t+=.3*Math.max(0,1-Math.abs(e.length-200)/200);const n=(e.match(/,/g)||[]).length;t+=.2*Math.min(n/10,1);const r=["masterpiece","best quality","high quality","detailed","professional"];t+=.2*(r.filter((t=>e.toLowerCase().includes(t))).length/r.length);const a=["anime","realistic","painting","illustration","digital art","concept art"];t+=.1*(a.filter((t=>e.toLowerCase().includes(t))).length/a.length);const s=e.toLowerCase().split(/\s+/);return t+=.2*(new Set(s).size/s.length),{text:e,score:t}}));t.sort(((e,t)=>t.score-e.score));const n=t[0];return console.log("\ud83c\udfc6 \u9009\u62e9\u6700\u4f73\u63d0\u793a\u8bcd (\u5f97\u5206: ".concat(n.score.toFixed(2),"): ").concat(n.text.substring(0,50),"...")),n.text}function dt(e){if(0===e.length)return"";if(1===e.length)return e[0];const t=[...new Set(e)];t.sort(((e,t)=>t.length-e.length));const n=t[0],r=t[1]||"";return n.length>2*r.length?(console.log("\ud83c\udfaf \u9009\u62e9\u6700\u957f\u63d0\u793a\u8bcd\u4f5c\u4e3a\u6700\u7ec8\u7ed3\u679c: ".concat(n.length," vs ").concat(r.length)),n):t.join(", ")}function ht(e){const t=e.toLowerCase(),n=["worst quality","bad quality","low quality","poor quality","bad anatomy","bad proportions","bad hands","bad fingers","ugly","deformed","disfigured","mutated","malformed","blurry","blur","out of focus","unfocused","soft focus","lowres","low resolution","pixelated","jpeg artifacts","error","glitch","artifact","noise","grain","distorted","cropped","cut off","truncated","incomplete","watermark","signature","text","logo","username","border","frame","black bars","letterbox","extra limbs","missing limbs","extra fingers","missing fingers","extra arms","extra legs","fused fingers","too many fingers","long neck","long body","elongated","stretched","duplicate","multiple","conjoined","merged","amateur","sketch","draft","unfinished","rough","simple","basic","plain","boring","dull","monochrome","grayscale","black and white","sepia","nsfw","nude","naked","explicit","sexual","violence","blood","gore","disturbing","scary","dark","horror","nightmare","creepy","evil","\u6700\u5dee\u8d28\u91cf","\u7cdf\u7cd5\u8d28\u91cf","\u4f4e\u8d28\u91cf","\u5dee\u8d28\u91cf","\u7cdf\u7cd5\u89e3\u5256","\u53d8\u5f62","\u7578\u5f62","\u4e11\u964b","\u6a21\u7cca","\u4f4e\u5206\u8fa8\u7387","\u50cf\u7d20\u5316","\u566a\u70b9","\u4f2a\u5f71","\u6c34\u5370","\u7b7e\u540d","\u6587\u5b57","\u6807\u5fd7","\u7528\u6237\u540d","\u591a\u4f59\u7684","\u7f3a\u5931\u7684","\u878d\u5408\u7684","\u91cd\u590d\u7684","\u4e1a\u4f59","\u8349\u56fe","\u672a\u5b8c\u6210","\u7c97\u7cd9","\u7b80\u5355","\u5355\u8272","\u7070\u5ea6","\u9ed1\u767d","\u6697\u8272\u8c03"],r=n.some((e=>t.includes(e.toLowerCase()))),a=n.filter((e=>t.includes(e.toLowerCase()))).length/e.split(/\s+/).length,s=a>.3,i=n.some((e=>t.startsWith(e.toLowerCase())));return console.log("\ud83d\udd0d \u8d1f\u5411\u68c0\u6d4b: \u5173\u952e\u8bcd=".concat(r,", \u6bd4\u4f8b=").concat(a.toFixed(2),", \u5f00\u5934=").concat(i)),r||s||i}function ft(e){const t={positive:"",negative:"",parameters:{}};try{const n=JSON.parse(e);t.positive=n.prompt||"",t.negative=n.uc||"",["steps","scale","seed","sampler","width","height"].forEach((e=>{void 0!==n[e]&&(t.parameters[e]=n[e])}))}catch(n){console.warn("NovelAI\u89e3\u6790\u5931\u8d25:",n)}return t}const pt={extractMetadata:async function(e){console.log("\ud83d\ude80 \u5f00\u59cb\u63d0\u53d6\u56fe\u50cf\u5143\u6570\u636e...");const t={success:!1,filename:e.name,extractedData:{},standardizedData:null,timestamp:(new Date).toISOString()};try{if(t.basicInfo={size:e.size,sizeFormatted:"".concat((e.size/1024).toFixed(1)," KB"),type:e.type,lastModified:new Date(e.lastModified).toLocaleString()},"image/png"===e.type){const n=await async function(e){return new Promise(((t,n)=>{const r=new FileReader;r.onload=e=>{try{const n=function(e){const t=new DataView(e),n=[];let r=8;const a=[137,80,78,71,13,10,26,10];for(let i=0;i<8;i++)if(t.getUint8(i)!==a[i])throw new Error("\u4e0d\u662f\u6709\u6548\u7684PNG\u6587\u4ef6");for(;r<e.byteLength-8;)try{const a=t.getUint32(r);r+=4;const s=String.fromCharCode(t.getUint8(r),t.getUint8(r+1),t.getUint8(r+2),t.getUint8(r+3));r+=4;const i=new Uint8Array(e,r,a);r+=a;const l=t.getUint32(r);if(r+=4,n.push({type:s,length:a,data:i,crc:l}),"IEND"===s)break}catch(s){console.warn("PNG\u5757\u89e3\u6790\u8b66\u544a:",s);break}return n}(e.target.result),r=function(e){const t=e.filter((e=>["tEXt","iTXt","zTXt"].includes(e.type))),n={confidence:"low",generationTool:"Unknown",positive:"",negative:"",parameters:{}};for(const a of t){const e=nt(a);if(e.keyword&&e.text)if(console.log("\u89e3\u6790\u6587\u672c\u5757:",e.keyword,"\u957f\u5ea6:",e.text.length),"parameters"===e.keyword&&st(e.text)){const t=it(e.text);Object.assign(n,t),n.generationTool="AUTOMATIC1111",n.confidence="high"}else if(["workflow","prompt"].includes(e.keyword))try{const t=ct(e.text);Object.assign(n,t),n.generationTool="ComfyUI",n.confidence="high"}catch(r){console.warn("ComfyUI\u89e3\u6790\u5931\u8d25:",r)}else if(["Description","Comment"].includes(e.keyword))try{const t=ft(e.text);Object.assign(n,t),n.generationTool="NovelAI",n.confidence="high"}catch(r){console.warn("NovelAI\u89e3\u6790\u5931\u8d25:",r)}}return n}(n);t({type:"PNG",confidence:r.confidence||"medium",data:r})}catch(n){console.warn("PNG\u89e3\u6790\u5931\u8d25:",n),t(null)}},r.onerror=()=>t(null),r.readAsArrayBuffer(e)}))}(e);n&&(t.extractedData.PNG=n)}try{const r=await async function(e){try{const t=await n.e(477).then(n.bind(n,477)),r=await t.parse(e,{userComment:!0,imageDescription:!0,software:!0});return r?{type:"EXIF",confidence:"medium",data:{software:r.Software,description:r.ImageDescription,userComment:r.UserComment,positive:r.UserComment||r.ImageDescription||"",negative:"",parameters:{}}}:null}catch(t){return console.warn("EXIF\u63d0\u53d6\u5931\u8d25:",t),null}}(e);r&&(t.extractedData.EXIF=r)}catch(r){console.warn("EXIF\u63d0\u53d6\u5931\u8d25:",r)}return t.standardizedData=function(e){const t={generationTool:"Unknown",positive:"",negative:"",parameters:{}},n=["PNG","EXIF"];for(const r of n){const n=e[r];n&&(n.data.generationTool&&(t.generationTool=n.data.generationTool),n.data.positive&&!t.positive&&(t.positive=n.data.positive),n.data.negative&&!t.negative&&(t.negative=n.data.negative),Object.assign(t.parameters,n.data.parameters||{}))}return t}(t.extractedData),t.success=Object.keys(t.extractedData).length>0,t.extractionMethods=Object.keys(t.extractedData).map((e=>{var n;return{method:e,confidence:(null===(n=t.extractedData[e])||void 0===n?void 0:n.confidence)||"unknown"}})),t}catch(r){throw console.error("\u274c \u5143\u6570\u636e\u63d0\u53d6\u5931\u8d25:",r),t.error=r.message,r}}},mt=e=>{let{image:t,onReset:n,onReExtract:r}=e;return(0,ae.jsxs)("div",{className:"space-y-4",children:[(0,ae.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ae.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"\u4e0a\u4f20\u7684\u56fe\u7247"}),(0,ae.jsxs)("div",{className:"flex gap-2",children:[(0,ae.jsx)("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"\u91cd\u65b0\u63d0\u53d6"}),(0,ae.jsx)("button",{onClick:n,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"\u91cd\u65b0\u4e0a\u4f20"})]})]}),(0,ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ae.jsx)("div",{className:"space-y-3",children:(0,ae.jsx)("img",{src:t.url,alt:"\u4e0a\u4f20\u7684\u56fe\u7247",className:"w-full h-64 object-cover rounded-lg border border-gray-200"})}),(0,ae.jsx)("div",{className:"space-y-3",children:(0,ae.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ae.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"\u6587\u4ef6\u4fe1\u606f"}),(0,ae.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,ae.jsxs)("p",{children:[(0,ae.jsx)("span",{className:"font-medium",children:"\u6587\u4ef6\u540d\uff1a"}),t.name]}),(0,ae.jsxs)("p",{children:[(0,ae.jsx)("span",{className:"font-medium",children:"\u6587\u4ef6\u5927\u5c0f\uff1a"}),(t.size/1024/1024).toFixed(2)," MB"]}),(0,ae.jsxs)("p",{children:[(0,ae.jsx)("span",{className:"font-medium",children:"\u6587\u4ef6\u7c7b\u578b\uff1a"}),t.file.type]})]})]})})]})]})},gt=e=>{let{data:t,onCopy:n,copyStatus:r}=e;const a=t.rawData||{},s=t.generationTool||"unknown";return(0,ae.jsxs)("div",{className:"space-y-6",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ae.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,ae.jsx)(w,{className:"mr-2 text-green-600",size:24}),"\u63d0\u53d6\u5b8c\u6210"]}),(0,ae.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ae.jsx)(ne,{className:"text-blue-600",size:16}),(0,ae.jsxs)("span",{className:"text-sm text-gray-600",children:["\u6765\u6e90: ",(0,ae.jsx)("span",{className:"font-medium text-blue-600",children:(i=s,{comfyui:"ComfyUI",automatic1111:"AUTOMATIC1111",novelai:"NovelAI","sd-webui":"Stable Diffusion WebUI",exif_usercomment:"EXIF UserComment",unknown:"\u672a\u77e5\u683c\u5f0f"}[i]||i||"\u672a\u77e5\u683c\u5f0f")})]})]})]}),(0,ae.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ae.jsx)(xt,{title:"\u6b63\u5411\u63d0\u793a\u8bcd (Positive Prompts)",content:t.positivePrompts||"",onCopy:n,copyStatus:r,bgColor:"bg-green-50",borderColor:"border-green-200"}),(0,ae.jsx)(xt,{title:"\u8d1f\u5411\u63d0\u793a\u8bcd (Negative Prompts)",content:t.negativePrompts||"",onCopy:n,copyStatus:r,bgColor:"bg-red-50",borderColor:"border-red-200"})]}),(0,ae.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 border border-gray-200",children:[(0,ae.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ae.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"\u751f\u6210\u53c2\u6570"}),(0,ae.jsx)("button",{onClick:()=>n(JSON.stringify(t.parameters||{},null,2)),className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"\u590d\u5236\u53c2\u6570",children:(0,ae.jsx)(j,{size:16})})]}),t.parameters&&Object.keys(t.parameters).length>0?(0,ae.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(t.parameters).map((e=>{let[t,n]=e;const r="object"===typeof n&&null!==n?"[\u590d\u6742\u5bf9\u8c61]":String(n);return(0,ae.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,ae.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:t}),(0,ae.jsx)("p",{className:"text-sm font-medium text-gray-900 break-words",children:r})]},t)}))}):(0,ae.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,ae.jsx)("p",{children:"\u672a\u627e\u5230\u751f\u6210\u53c2\u6570"})})]}),(0,ae.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 border border-gray-200",children:[(0,ae.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"\u5143\u6570\u636e\u4fe1\u606f"}),a&&Object.keys(a).length>0?(0,ae.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(a).map((e=>{let[t,n]=e;const r="object"===typeof n&&null!==n?JSON.stringify(n):String(n||"");return(0,ae.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,ae.jsxs)("span",{className:"text-sm text-gray-600",children:[t,":"]}),(0,ae.jsx)("span",{className:"text-sm font-medium text-gray-900 break-words max-w-xs",children:r})]},t)}))}):(0,ae.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,ae.jsx)("p",{children:"\u672a\u627e\u5230\u5143\u6570\u636e\u4fe1\u606f"})})]}),t.extractionMethods&&t.extractionMethods.length>0&&(0,ae.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 border border-gray-200",children:[(0,ae.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"\u63d0\u53d6\u65b9\u6cd5"}),(0,ae.jsx)("div",{className:"flex flex-wrap gap-2",children:t.extractionMethods.map(((e,t)=>(0,ae.jsxs)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[e.method," (",e.confidence,")"]},t)))})]}),(0,ae.jsx)("div",{className:"text-center",children:(0,ae.jsxs)("button",{onClick:()=>n("\u6b63\u5411\u63d0\u793a\u8bcd:\n".concat(t.positivePrompts||"","\n\n\u8d1f\u5411\u63d0\u793a\u8bcd:\n").concat(t.negativePrompts||"","\n\n\u53c2\u6570:\n").concat(JSON.stringify(t.parameters||{},null,2))),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all",children:[(0,ae.jsx)(tt,{className:"inline mr-2",size:20}),"\u4e00\u952e\u590d\u5236\u6240\u6709\u4fe1\u606f"]})})]});var i},xt=e=>{let{title:t,content:n,onCopy:r,copyStatus:a,bgColor:s,borderColor:i}=e;return(0,ae.jsxs)("div",{className:"".concat(s," ").concat(i," border rounded-xl p-6"),children:[(0,ae.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,ae.jsx)("h3",{className:"font-medium text-gray-900",children:t}),(0,ae.jsx)("button",{onClick:()=>r(n),className:"p-2 bg-white/80 rounded-lg hover:bg-white transition-colors",title:"\u590d\u5236\u5185\u5bb9",children:"copied"===a?(0,ae.jsx)(w,{size:16,className:"text-green-600"}):(0,ae.jsx)(j,{size:16,className:"text-gray-600"})})]}),(0,ae.jsx)("div",{className:"bg-white/80 p-4 rounded-lg",children:(0,ae.jsx)("p",{className:"text-sm font-mono text-gray-700 leading-relaxed",children:n||"\u6682\u65e0\u5185\u5bb9"})})]})},bt=()=>{const[t,n]=(0,e.useState)(null),[r,a]=(0,e.useState)(null),[s,i]=(0,e.useState)(!1),[l,o]=(0,e.useState)(!1),[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)(""),p=(0,e.useCallback)((async e=>{h("");const t=(e=>{const t=[];if(!e)return t.push(T.VALIDATION.NO_FILE_SELECTED),{isValid:!1,errors:t};e.size>E.FILE_UPLOAD.MAX_SIZE&&t.push(T.VALIDATION.FILE_TOO_LARGE),E.FILE_UPLOAD.ALLOWED_TYPES.includes(e.type)||t.push(T.VALIDATION.INVALID_FILE_TYPE);const n=e.name.toLowerCase();return E.FILE_UPLOAD.ALLOWED_EXTENSIONS.some((e=>n.endsWith(e)))||t.push(T.VALIDATION.INVALID_FILE_TYPE),{isValid:0===t.length,errors:t}})(e);if(!t.isValid)return void h(t.errors.join(", "));const r=URL.createObjectURL(e);n({file:e,url:r,name:e.name,size:e.size}),await m(e)}),[]),m=async e=>{i(!0),a(null),h("");try{const t=await pt.extractMetadata(e);if(t.success&&t.standardizedData){const{positive:e,negative:n,parameters:r}=t.standardizedData,s={positivePrompts:e||"",negativePrompts:n||"",parameters:r||{},generationTool:t.standardizedData.generationTool||"Unknown",extractionMethods:t.extractionMethods||[],rawData:t.extractedData||{}};a(s)}else h("\u672a\u80fd\u4ece\u56fe\u50cf\u4e2d\u63d0\u53d6\u5230AI\u751f\u6210\u4fe1\u606f\u3002\u8fd9\u53ef\u80fd\u662f\u56e0\u4e3a\uff1a\n1. \u56fe\u50cf\u4e0d\u662fAI\u751f\u6210\u7684\n2. \u56fe\u50cf\u5143\u6570\u636e\u5df2\u88ab\u6e05\u9664\n3. \u4f7f\u7528\u4e86\u4e0d\u652f\u6301\u7684AI\u5de5\u5177\u683c\u5f0f")}catch(t){console.error("\u56fe\u50cf\u4fe1\u606f\u63d0\u53d6\u5931\u8d25:",t),h(t.message||"\u56fe\u50cf\u4fe1\u606f\u63d0\u53d6\u5931\u8d25\uff0c\u8bf7\u786e\u4fdd\u4e0a\u4f20\u7684\u662f\u5305\u542b\u5143\u6570\u636e\u7684AI\u751f\u6210\u56fe\u50cf")}finally{i(!1)}},g=(0,e.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?o(!0):"dragleave"===e.type&&o(!1)}),[]),x=(0,e.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),o(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&p(e.dataTransfer.files[0])}),[p]);return(0,ae.jsxs)("div",{className:"space-y-6",children:[(0,ae.jsxs)("div",{className:"text-center mb-8",children:[(0,ae.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center justify-center",children:[(0,ae.jsx)(f,{className:"mr-3 text-green-600",size:32}),"\u56fe\u50cf\u4fe1\u606f\u63d0\u53d6\u5668"]}),(0,ae.jsx)("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"\u4e0a\u4f20AI\u751f\u6210\u7684\u56fe\u7247\uff0c\u81ea\u52a8\u63d0\u53d6\u5176\u4e2d\u7684\u63d0\u793a\u8bcd\u3001\u53c2\u6570\u548c\u5143\u6570\u636e\u4fe1\u606f\uff0c\u652f\u6301\u4e3b\u6d41AI\u7ed8\u753b\u5de5\u5177\u683c\u5f0f"})]}),(0,ae.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg border border-green-100/50 p-6",children:[t?(0,ae.jsx)(mt,{image:t,onReset:()=>{n(null),a(null),h(""),u("")},onReExtract:()=>m(t.file)}):(0,ae.jsxs)("div",{className:"border-2 border-dashed rounded-xl p-12 text-center transition-all ".concat(l?"border-green-500 bg-green-50":"border-gray-300 hover:border-green-400 hover:bg-green-50/50"),onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:x,children:[(0,ae.jsx)(Je,{className:"mx-auto text-gray-400 mb-4",size:48}),(0,ae.jsx)("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"\u62d6\u62fd\u56fe\u7247\u5230\u6b64\u5904\uff0c\u6216\u70b9\u51fb\u9009\u62e9\u6587\u4ef6"}),(0,ae.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"\u652f\u6301 JPG\u3001PNG\u3001WEBP \u683c\u5f0f\uff0c\u6700\u5927 10MB"}),(0,ae.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{e.target.files&&e.target.files[0]&&p(e.target.files[0])},className:"hidden",id:"file-upload"}),(0,ae.jsxs)("label",{htmlFor:"file-upload",className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors cursor-pointer",children:[(0,ae.jsx)(et,{className:"mr-2",size:20}),"\u9009\u62e9\u56fe\u7247\u6587\u4ef6"]})]}),d&&(0,ae.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,ae.jsxs)("div",{className:"flex items-start",children:[(0,ae.jsx)(y,{className:"mr-2 text-red-600 flex-shrink-0 mt-0.5",size:16}),(0,ae.jsx)("p",{className:"text-sm text-red-800",children:d})]})})]}),s&&(0,ae.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 border border-blue-200",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[(0,ae.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,ae.jsx)("span",{className:"text-lg font-medium text-gray-700",children:"\u6b63\u5728\u5206\u6790\u56fe\u50cf\u5143\u6570\u636e..."})]}),(0,ae.jsxs)("div",{className:"text-center space-y-2",children:[(0,ae.jsx)("p",{className:"text-sm text-gray-600",children:"\u6b63\u5728\u8bfb\u53d6EXIF\u4fe1\u606f\u548cPNG\u6587\u672c\u5757"}),(0,ae.jsx)("p",{className:"text-xs text-gray-500",children:"\u652f\u6301ComfyUI\u3001AUTOMATIC1111\u3001NovelAI\u7b49\u683c\u5f0f"})]}),(0,ae.jsx)("div",{className:"mt-4 w-full bg-gray-200 rounded-full h-2",children:(0,ae.jsx)("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"85%"}})})]}),r&&(0,ae.jsx)(gt,{data:r,onCopy:async e=>{const t=await A(e);u(t?"copied":"error"),setTimeout((()=>u("")),2e3)},copyStatus:c}),c&&(0,ae.jsx)("div",{className:"fixed bottom-4 right-4 px-4 py-2 rounded-lg text-white text-sm transition-all duration-300 shadow-lg ".concat("copied"===c?"bg-green-600":"bg-red-600"),children:"copied"===c?"\u2705 \u5df2\u590d\u5236\u5230\u526a\u8d34\u677f":"\u274c \u590d\u5236\u5931\u8d25"})]})},yt=u("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),vt=u("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),wt=u("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),jt=u("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Nt=u("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),kt=t=>{var n,r;let{onCopy:a,copyStatus:s,tagDatabase:i}=t;const[l,o]=(0,e.useState)("random"),[c,u]=(0,e.useState)("medium"),[h,f]=(0,e.useState)([]),[p,m]=(0,e.useState)(!1),[g,x]=(0,e.useState)([]);(0,e.useEffect)((()=>{const e=localStorage.getItem("favoritePrompts");if(e)try{x(JSON.parse(e))}catch(t){console.error("\u52a0\u8f7d\u6536\u85cf\u63d0\u793a\u8bcd\u5931\u8d25:",t)}}),[]),(0,e.useEffect)((()=>{localStorage.setItem("favoritePrompts",JSON.stringify(g))}),[g]);const y=[{id:"random",name:"\u968f\u673a\u7075\u611f",icon:vt,description:"\u968f\u673a\u7ec4\u5408\u4e0d\u540c\u7c7b\u578b\u7684\u6807\u7b7e",color:"bg-purple-500"},{id:"character",name:"\u4eba\u7269\u521b\u4f5c",icon:ze,description:"\u4e13\u6ce8\u4e8e\u4eba\u7269\u89d2\u8272\u8bbe\u8ba1",color:"bg-blue-500"},{id:"scene",name:"\u573a\u666f\u6784\u5efa",icon:wt,description:"\u521b\u5efa\u73af\u5883\u548c\u80cc\u666f\u573a\u666f",color:"bg-green-500"},{id:"style",name:"\u98ce\u683c\u63a2\u7d22",icon:jt,description:"\u5c1d\u8bd5\u4e0d\u540c\u7684\u827a\u672f\u98ce\u683c",color:"bg-pink-500"},{id:"fantasy",name:"\u5947\u5e7b\u4e16\u754c",icon:d,description:"\u9b54\u6cd5\u4e0e\u5947\u5e7b\u5143\u7d20",color:"bg-indigo-500"}],v=[{id:"simple",name:"\u7b80\u7ea6",tagCount:"3-5\u4e2a\u6807\u7b7e",description:"\u7b80\u6d01\u660e\u4e86\u7684\u57fa\u7840\u63d0\u793a\u8bcd"},{id:"medium",name:"\u5747\u8861",tagCount:"6-10\u4e2a\u6807\u7b7e",description:"\u5e73\u8861\u7684\u7ec6\u8282\u548c\u590d\u6742\u5ea6"},{id:"complex",name:"\u4e30\u5bcc",tagCount:"11-15\u4e2a\u6807\u7b7e",description:"\u8be6\u7ec6\u4e14\u590d\u6742\u7684\u63cf\u8ff0"},{id:"detailed",name:"\u6781\u81f4",tagCount:"16+\u4e2a\u6807\u7b7e",description:"\u6781\u5176\u8be6\u7ec6\u7684\u4e13\u4e1a\u7ea7\u63d0\u793a\u8bcd"}],N=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!i||!i[e])return[];const n=i[e],r=[];n.subcategories&&Object.values(n.subcategories).forEach((e=>{e.tags&&r.push(...e.tags)}));return r.sort((()=>.5-Math.random())).slice(0,t).map((e=>e.en||e))},_=(e,t)=>{if(!i)return"";const n={simple:{total:4,quality:1,main:2,detail:1},medium:{total:8,quality:2,main:4,detail:2},complex:{total:13,quality:3,main:6,detail:4},detailed:{total:18,quality:4,main:8,detail:6}}[t];let r=[];const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!i||!i[e])return[];const n=i[e],r=[];return n.subcategories&&Object.values(n.subcategories).forEach((e=>{e.tags&&r.push(...e.tags)})),r.filter((e=>e.frequency)).sort(((e,t)=>t.frequency-e.frequency)).slice(0,t).map((e=>e.en||e))}("quality",n.quality);switch(r.push(...a),e){case"character":r.push(...N("character",2)),r.push(...N("appearance",Math.ceil(n.main/2))),r.push(...N("clothing",Math.floor(n.main/2))),n.detail>0&&r.push(...N("environment",Math.min(2,n.detail)));break;case"scene":r.push(...N("environment",n.main)),r.push(...N("style",Math.ceil(n.detail/2))),n.detail>2&&r.push(...N("character",1));break;case"style":r.push(...N("style",n.main)),n.detail>0&&r.push(...N("appearance",n.detail));break;case"fantasy":r.push(...N("character",1));const e=N("character",2).filter((e=>e.includes("dragon")||e.includes("elf")||e.includes("angel")||e.includes("demon")||e.includes("fairy")||e.includes("witch")));r.push(...e),r.push(...N("environment",Math.ceil(n.main/2))),r.push(...N("style",n.detail));break;default:const t=Object.keys(i).sort((()=>.5-Math.random())).slice(0,4);t.forEach((e=>{if("quality"!==e){const a=Math.ceil(n.main/t.length);r.push(...N(e,a))}}))}return[...new Set(r)].filter((e=>e)).slice(0,n.total).join(", ")},S=e=>{x((t=>t.find((t=>t.id===e.id))?t.filter((t=>t.id!==e.id)):[...t,e]))};return(0,ae.jsxs)("div",{className:"space-y-6",children:[(0,ae.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[(0,ae.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,ae.jsx)(b,{className:"text-orange-600 mr-2",size:20}),"\u7075\u611f\u6a21\u5f0f"]}),(0,ae.jsx)("div",{className:"grid grid-cols-1 gap-3",children:y.map((e=>{const t=e.icon;return(0,ae.jsx)("button",{onClick:()=>o(e.id),className:"p-4 rounded-lg border transition-all text-left ".concat(l===e.id?"".concat(e.color," text-white border-transparent shadow-md"):"bg-white hover:bg-gray-50 text-gray-700 border-gray-200 hover:border-gray-300"),children:(0,ae.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ae.jsx)(t,{size:20}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("h4",{className:"font-medium",children:e.name}),(0,ae.jsx)("p",{className:"text-sm ".concat(l===e.id?"text-white/80":"text-gray-500"),children:e.description})]})]})},e.id)}))})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,ae.jsx)(Nt,{className:"text-orange-600 mr-2",size:20}),"\u590d\u6742\u5ea6\u8bbe\u7f6e"]}),(0,ae.jsx)("div",{className:"space-y-3",children:v.map((e=>(0,ae.jsx)("button",{onClick:()=>u(e.id),className:"w-full p-4 rounded-lg border transition-all text-left ".concat(c===e.id?"bg-orange-600 text-white border-orange-600 shadow-md":"bg-white hover:bg-orange-50 text-gray-700 border-gray-200 hover:border-orange-300"),children:(0,ae.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("h4",{className:"font-medium",children:e.name}),(0,ae.jsx)("p",{className:"text-sm ".concat(c===e.id?"text-white/80":"text-gray-500"),children:e.description})]}),(0,ae.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(c===e.id?"bg-white/20":"bg-gray-100"),children:e.tagCount})]})},e.id)))})]})]}),(0,ae.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ae.jsxs)("div",{className:"text-sm text-gray-600",children:["\u6a21\u5f0f: ",(0,ae.jsx)("span",{className:"font-medium text-orange-600",children:null===(n=y.find((e=>e.id===l)))||void 0===n?void 0:n.name})," | ","\u590d\u6742\u5ea6: ",(0,ae.jsx)("span",{className:"font-medium text-orange-600",children:null===(r=v.find((e=>e.id===c)))||void 0===r?void 0:r.name})]}),(0,ae.jsxs)("div",{className:"flex gap-3",children:[g.length>0&&(0,ae.jsxs)("button",{onClick:()=>{if(0===g.length)return void alert("\u6682\u65e0\u6536\u85cf\u7684\u63d0\u793a\u8bcd");const e={title:"I-Prompt \u6536\u85cf\u7684\u7075\u611f\u63d0\u793a\u8bcd",exportTime:(new Date).toISOString(),prompts:g},t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download="inspiration-prompts-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,ae.jsx)(tt,{size:16}),"\u5bfc\u51fa\u6536\u85cf (",g.length,")"]}),(0,ae.jsxs)("button",{onClick:()=>{i?(m(!0),f([]),setTimeout((()=>{const e=[];for(let t=0;t<4;t++){const n=_(l,c);n&&e.push({id:Date.now()+t,text:n,mode:l,complexity:c,timestamp:(new Date).toLocaleTimeString()})}f(e),m(!1)}),1500)):console.warn("\u6807\u7b7e\u5e93\u672a\u52a0\u8f7d")},disabled:p||!i,className:"flex items-center gap-2 px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[p?(0,ae.jsx)(pe,{size:16,className:"animate-spin"}):(0,ae.jsx)(yt,{size:16}),p?"\u751f\u6210\u4e2d...":"\u751f\u6210\u7075\u611f"]})]})]})})]}),p&&(0,ae.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-12",children:(0,ae.jsxs)("div",{className:"text-center",children:[(0,ae.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),(0,ae.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"\u6b63\u5728\u751f\u6210\u521b\u610f\u7075\u611f..."}),(0,ae.jsx)("p",{className:"text-gray-600",children:"\u57fa\u4e8e\u6807\u7b7e\u5e93\u667a\u80fd\u5206\u6790\u4e2d\uff0c\u8bf7\u7a0d\u5019"})]})}),h.length>0&&(0,ae.jsxs)("div",{className:"space-y-4",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ae.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"\u751f\u6210\u7684\u521b\u610f\u7075\u611f"}),(0,ae.jsxs)("span",{className:"text-sm text-gray-500",children:[h.length," \u4e2a\u63d0\u793a\u8bcd"]})]}),(0,ae.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:h.map(((e,t)=>{var n,r;const i=g.some((t=>t.id===e.id));return(0,ae.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 hover:shadow-xl transition-shadow",children:[(0,ae.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsx)("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-orange-100 text-orange-600 rounded-full text-sm font-medium",children:t+1}),(0,ae.jsxs)("span",{className:"text-xs text-gray-500",children:[null===(n=y.find((t=>t.id===e.mode)))||void 0===n?void 0:n.name," \xb7 ",e.timestamp]})]}),(0,ae.jsx)("button",{onClick:()=>S(e),className:"p-1 rounded transition-colors ".concat(i?"text-red-500 hover:text-red-600":"text-gray-400 hover:text-red-500"),children:(0,ae.jsx)(k,{size:16,className:i?"fill-current":""})})]}),(0,ae.jsx)("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 rounded-lg p-4 mb-4",children:(0,ae.jsx)("p",{className:"text-sm text-gray-700 font-mono leading-relaxed",children:e.text})}),(0,ae.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ae.jsxs)("div",{className:"text-xs text-gray-500",children:[e.text.split(", ").length," \u4e2a\u6807\u7b7e \xb7",null===(r=v.find((t=>t.id===e.complexity)))||void 0===r?void 0:r.name,"\u590d\u6742\u5ea6"]}),(0,ae.jsxs)("button",{onClick:()=>a(e.text),className:"flex items-center gap-1 px-3 py-1 bg-orange-100 text-orange-600 rounded-lg hover:bg-orange-200 transition-colors text-sm",children:["copied"===s?(0,ae.jsx)(w,{size:14}):(0,ae.jsx)(j,{size:14}),"\u590d\u5236"]})]})]},e.id)}))})]}),g.length>0&&(0,ae.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ae.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,ae.jsx)(k,{className:"text-red-500 mr-2",size:20}),"\u6536\u85cf\u7684\u7075\u611f (",g.length,")"]}),(0,ae.jsx)("button",{onClick:()=>x([]),className:"text-sm text-gray-500 hover:text-red-500 transition-colors",children:"\u6e05\u7a7a\u6536\u85cf"})]}),(0,ae.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 max-h-96 overflow-y-auto",children:g.map(((e,t)=>{var n;return(0,ae.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 rounded-lg p-4 border border-red-100",children:[(0,ae.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,ae.jsx)("span",{className:"text-xs text-red-600 font-medium",children:null===(n=y.find((t=>t.id===e.mode)))||void 0===n?void 0:n.name}),(0,ae.jsx)("button",{onClick:()=>S(e),className:"text-red-500 hover:text-red-600 transition-colors",children:(0,ae.jsx)(k,{size:14,className:"fill-current"})})]}),(0,ae.jsx)("p",{className:"text-sm text-gray-700 font-mono mb-3 leading-relaxed",children:e.text}),(0,ae.jsxs)("button",{onClick:()=>a(e.text),className:"flex items-center gap-1 px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 transition-colors text-xs",children:[(0,ae.jsx)(j,{size:12}),"\u590d\u5236"]})]},e.id)}))})]}),(0,ae.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200 p-6",children:[(0,ae.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"\u4f7f\u7528\u8bf4\u660e"}),(0,ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm text-blue-800",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("h4",{className:"font-medium mb-2",children:"\u7075\u611f\u6a21\u5f0f"}),(0,ae.jsxs)("ul",{className:"space-y-1",children:[(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("strong",{children:"\u968f\u673a\u7075\u611f"}),"\uff1a\u4ece\u5404\u5206\u7c7b\u968f\u673a\u7ec4\u5408\u6807\u7b7e"]}),(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("strong",{children:"\u4eba\u7269\u521b\u4f5c"}),"\uff1a\u4e13\u6ce8\u89d2\u8272\u8bbe\u8ba1\u548c\u5916\u89c2"]}),(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("strong",{children:"\u573a\u666f\u6784\u5efa"}),"\uff1a\u521b\u5efa\u73af\u5883\u548c\u80cc\u666f"]}),(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("strong",{children:"\u98ce\u683c\u63a2\u7d22"}),"\uff1a\u5c1d\u8bd5\u4e0d\u540c\u827a\u672f\u98ce\u683c"]}),(0,ae.jsxs)("li",{children:["\u2022 ",(0,ae.jsx)("strong",{children:"\u5947\u5e7b\u4e16\u754c"}),"\uff1a\u9b54\u6cd5\u4e0e\u5947\u5e7b\u5143\u7d20"]})]})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("h4",{className:"font-medium mb-2",children:"\u529f\u80fd\u7279\u70b9"}),(0,ae.jsxs)("ul",{className:"space-y-1",children:[(0,ae.jsx)("li",{children:"\u2022 \u57fa\u4e8e\u5b8c\u6574\u6807\u7b7e\u5e93\u6570\u636e\u751f\u6210"}),(0,ae.jsx)("li",{children:"\u2022 \u667a\u80fd\u5206\u6790\u6807\u7b7e\u9891\u7387\u548c\u642d\u914d"}),(0,ae.jsx)("li",{children:"\u2022 \u652f\u6301\u6536\u85cf\u548c\u5bfc\u51fa\u529f\u80fd"}),(0,ae.jsx)("li",{children:"\u2022 \u53ef\u8c03\u8282\u590d\u6742\u5ea6\u548c\u6807\u7b7e\u6570\u91cf"}),(0,ae.jsx)("li",{children:"\u2022 \u4e00\u952e\u590d\u5236\u5230\u526a\u8d34\u677f"})]})]})]})]})]})},_t=()=>{const[t,n]=(0,e.useState)(""),[r,a]=(0,e.useState)(null);(0,e.useEffect)((()=>{const e=Le();a(e)}),[]);return(0,ae.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-yellow-50",children:[(0,ae.jsx)("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 px-6 py-4",children:(0,ae.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,ae.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 mb-2 flex items-center",children:[(0,ae.jsx)(yt,{className:"text-orange-600 mr-2",size:28}),"\u7075\u611f\u751f\u6210\u5668"]}),(0,ae.jsx)("p",{className:"text-gray-600 text-sm",children:"\u57fa\u4e8e\u6807\u7b7e\u5e93\u7684\u667a\u80fd\u521b\u610f\u7075\u611f\u751f\u6210\uff0c\u4e3a\u60a8\u7684AI\u7ed8\u753b\u63d0\u4f9b\u65e0\u9650\u521b\u610f\u7075\u611f"})]}),(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsxs)("div",{className:"text-right",children:[(0,ae.jsx)("div",{className:"text-xs text-gray-500",children:"\u667a\u80fd\u6a21\u5f0f"}),(0,ae.jsx)("div",{className:"text-sm font-semibold text-orange-600",children:"AI\u9a71\u52a8"})]}),(0,ae.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-yellow-600 rounded-lg flex items-center justify-center",children:(0,ae.jsx)(yt,{className:"text-white",size:20})})]})]})})}),(0,ae.jsx)("div",{className:"max-w-7xl mx-auto p-6",children:(0,ae.jsx)(kt,{onCopy:async e=>{const t=await A(e);n(t?"copied":"error"),setTimeout((()=>n("")),2e3)},copyStatus:t,tagDatabase:r})}),t&&(0,ae.jsx)("div",{className:"fixed bottom-4 right-4 px-4 py-2 rounded-lg text-white text-sm transition-all duration-300 shadow-lg z-50 ".concat("copied"===t?"bg-green-600":"bg-red-600"),children:"copied"===t?"\u2705 \u5df2\u590d\u5236\u5230\u526a\u8d34\u677f":"\u274c \u590d\u5236\u5931\u8d25"})]})},St=u("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Ct=u("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Et=u("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Tt=u("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),At={"tutorial-1":{id:"tutorial-1",title:"AI\u7ed8\u753b\u5165\u95e8\u57fa\u7840",description:"\u4e86\u89e3AI\u7ed8\u753b\u7684\u57fa\u672c\u6982\u5ff5\u548c\u5de5\u5177\uff0c\u638c\u63e1\u57fa\u7840\u64cd\u4f5c\u548c\u6838\u5fc3\u539f\u7406\u3002",level:"\u65b0\u624b",duration:"30\u5206\u949f",rating:4.8,tags:["\u5165\u95e8","\u57fa\u7840\u6982\u5ff5","\u5de5\u5177\u4ecb\u7ecd"],objectives:["\u7406\u89e3AI\u7ed8\u753b\u7684\u57fa\u672c\u6982\u5ff5\u548c\u5de5\u4f5c\u539f\u7406","\u4e86\u89e3\u4e3b\u6d41AI\u7ed8\u753b\u5de5\u5177\u7684\u7279\u70b9\u548c\u533a\u522b","\u638c\u63e1\u57fa\u7840\u7684\u754c\u9762\u64cd\u4f5c\u548c\u53c2\u6570\u8bbe\u7f6e","\u5b8c\u6210\u7b2c\u4e00\u5f20AI\u7ed8\u753b\u4f5c\u54c1\u7684\u751f\u6210"],prerequisites:[],chapters:[{id:"chapter-1-1",title:"\u4ec0\u4e48\u662fAI\u7ed8\u753b\uff1f",duration:"5\u5206\u949f",content:{introduction:"AI\u7ed8\u753b\u662f\u5229\u7528\u4eba\u5de5\u667a\u80fd\u6280\u672f\u81ea\u52a8\u751f\u6210\u56fe\u50cf\u7684\u6280\u672f\u3002\u5b83\u901a\u8fc7\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\uff0c\u7279\u522b\u662f\u751f\u6210\u5bf9\u6297\u7f51\u7edc(GAN)\u548c\u6269\u6563\u6a21\u578b(Diffusion Model)\uff0c\u5c06\u6587\u5b57\u63cf\u8ff0\u8f6c\u6362\u4e3a\u76f8\u5e94\u7684\u56fe\u50cf\u3002\u6838\u5fc3\u6982\u5ff5\u5305\u62ec\u6587\u672c\u5230\u56fe\u50cf\u751f\u6210\u3001\u6269\u6563\u6a21\u578b\u539f\u7406\u7b49\u3002AI\u7ed8\u753b\u6280\u672f\u53d1\u5c55\u8fc5\u901f\uff0c\u76ee\u524d\u5df2\u5e7f\u6cdb\u5e94\u7528\u4e8e\u827a\u672f\u521b\u4f5c\u3001\u5546\u4e1a\u8bbe\u8ba1\u3001\u5185\u5bb9\u521b\u4f5c\u7b49\u9886\u57df\u3002",keyPoints:["AI\u7ed8\u753b\u662f\u901a\u8fc7\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\u5c06\u6587\u5b57\u8f6c\u6362\u4e3a\u56fe\u50cf\u7684\u6280\u672f","\u6269\u6563\u6a21\u578b\u662f\u76ee\u524d\u6700\u4e3b\u6d41\u7684AI\u7ed8\u753b\u6280\u672f\u57fa\u7840","AI\u7ed8\u753b\u5728\u591a\u4e2a\u9886\u57df\u6709\u5e7f\u6cdb\u5e94\u7528\u524d\u666f"],quiz:[{question:"AI\u7ed8\u753b\u7684\u6838\u5fc3\u6280\u672f\u539f\u7406\u662f\u4ec0\u4e48\uff1f",options:["\u5c06\u6587\u5b57\u63cf\u8ff0\u8f6c\u6362\u4e3a\u76f8\u5e94\u7684\u56fe\u50cf","\u590d\u5236\u73b0\u6709\u7684\u827a\u672f\u4f5c\u54c1","\u968f\u673a\u751f\u6210\u56fe\u50cf\u5185\u5bb9","\u4eba\u5de5\u624b\u7ed8\u540e\u6570\u5b57\u5316"],correct:0,explanation:"AI\u7ed8\u753b\u7684\u6838\u5fc3\u662f\u6587\u672c\u5230\u56fe\u50cf\u751f\u6210\uff0c\u901a\u8fc7\u7406\u89e3\u6587\u5b57\u63cf\u8ff0\u6765\u751f\u6210\u76f8\u5e94\u7684\u89c6\u89c9\u56fe\u50cf\u3002"}]}},{id:"chapter-1-2",title:"\u4e3b\u6d41AI\u7ed8\u753b\u5de5\u5177\u4ecb\u7ecd",duration:"10\u5206\u949f",content:{introduction:"\u5f53\u524d\u5e02\u573a\u4e0a\u6709\u4f17\u591a\u4f18\u79c0\u7684AI\u7ed8\u753b\u5de5\u5177\u3002Stable Diffusion\u662f\u6700\u53d7\u6b22\u8fce\u7684\u5f00\u6e90\u6a21\u578b\uff0c\u5b8c\u5168\u514d\u8d39\u4e14\u9ad8\u5ea6\u53ef\u5b9a\u5236\u3002Midjourney\u4ee5\u51fa\u8272\u7684\u827a\u672f\u98ce\u683c\u8457\u79f0\uff0c\u64cd\u4f5c\u7b80\u5355\u3002DALL-E\u7cfb\u5217\u7531OpenAI\u5f00\u53d1\uff0c\u6587\u672c\u7406\u89e3\u80fd\u529b\u5f3a\u3002\u56fd\u4ea7\u5de5\u5177\u5982\u6587\u5fc3\u4e00\u683c\u30016pen Art\u7b49\u5728\u4e2d\u6587\u7406\u89e3\u65b9\u9762\u6709\u4f18\u52bf\u3002\u9009\u62e9\u5de5\u5177\u8981\u8003\u8651\u4f7f\u7528\u573a\u666f\u3001\u6280\u672f\u6c34\u5e73\u548c\u9884\u7b97\u3002",keyPoints:["Stable Diffusion\u5f00\u6e90\u514d\u8d39\uff0c\u9002\u5408\u6280\u672f\u7528\u6237","Midjourney\u64cd\u4f5c\u7b80\u5355\uff0c\u827a\u672f\u8d28\u91cf\u9ad8","DALL-E\u6587\u672c\u7406\u89e3\u80fd\u529b\u5f3a\uff0c\u56fe\u50cf\u771f\u5b9e\u611f\u597d","\u9009\u62e9\u5de5\u5177\u8981\u8003\u8651\u4f7f\u7528\u573a\u666f\u548c\u6280\u672f\u6c34\u5e73"],quiz:[{question:"Stable Diffusion\u7684\u6700\u5927\u4f18\u52bf\u662f\u4ec0\u4e48\uff1f",options:["\u5b8c\u5168\u514d\u8d39\u4e14\u5f00\u6e90","\u751f\u6210\u901f\u5ea6\u6700\u5feb","\u827a\u672f\u8d28\u91cf\u6700\u9ad8","\u64cd\u4f5c\u6700\u7b80\u5355"],correct:0,explanation:"Stable Diffusion\u7684\u6700\u5927\u4f18\u52bf\u662f\u5b8c\u5168\u514d\u8d39\u5f00\u6e90\uff0c\u7528\u6237\u53ef\u4ee5\u81ea\u7531\u4f7f\u7528\u548c\u4fee\u6539\u3002"}]}},{id:"chapter-1-3",title:"\u57fa\u7840\u754c\u9762\u64cd\u4f5c",duration:"8\u5206\u949f",content:{introduction:"\u638c\u63e1AI\u7ed8\u753b\u5de5\u5177\u7684\u57fa\u7840\u754c\u9762\u64cd\u4f5c\u662f\u6210\u529f\u521b\u4f5c\u7684\u7b2c\u4e00\u6b65\u3002\u4ee5Stable Diffusion WebUI\u4e3a\u4f8b\uff0c\u754c\u9762\u5206\u4e3a\u5bfc\u822a\u680f\u3001\u63d0\u793a\u8bcd\u533a\u3001\u53c2\u6570\u533a\u548c\u63a7\u5236\u533a\u3002\u91cd\u8981\u53c2\u6570\u5305\u62ec\u91c7\u6837\u65b9\u6cd5\u3001\u91c7\u6837\u6b65\u6570\u3001CFG Scale\u7b49\u3002\u63d0\u793a\u8bcd\u5206\u4e3a\u6b63\u5411\u548c\u8d1f\u5411\uff0c\u8981\u5408\u7406\u7ec4\u7ec7\u63cf\u8ff0\u3002\u53c2\u6570\u8c03\u4f18\u8981\u6839\u636e\u5177\u4f53\u95ee\u9898\u8fdb\u884c\u9488\u5bf9\u6027\u8c03\u6574\u3002",keyPoints:["\u754c\u9762\u5206\u4e3a\u56db\u4e2a\u4e3b\u8981\u90e8\u5206\uff1a\u5bfc\u822a\u680f\u3001\u63d0\u793a\u8bcd\u533a\u3001\u53c2\u6570\u533a\u548c\u63a7\u5236\u533a","\u91c7\u6837\u65b9\u6cd5\u548c\u6b65\u6570\u76f4\u63a5\u5f71\u54cd\u751f\u6210\u8d28\u91cf\u548c\u901f\u5ea6","CFG Scale\u63a7\u5236AI\u5bf9\u63d0\u793a\u8bcd\u7684\u9075\u5faa\u7a0b\u5ea6\uff0c\u63a8\u83507-12","\u63d0\u793a\u8bcd\u5206\u4e3a\u6b63\u5411\u548c\u8d1f\u5411\uff0c\u8981\u5408\u7406\u7ec4\u7ec7"],quiz:[{question:"CFG Scale\u7684\u63a8\u8350\u8bbe\u7f6e\u8303\u56f4\u662f\uff1f",options:["1-5","7-12","15-20","25-30"],correct:1,explanation:"CFG Scale\u63a8\u8350\u8bbe\u7f6e\u57287-12\u4e4b\u95f4\uff0c\u8fd9\u4e2a\u8303\u56f4\u80fd\u5e73\u8861\u521b\u610f\u6027\u548c\u51c6\u786e\u6027\u3002"}]}},{id:"chapter-1-4",title:"\u7b2c\u4e00\u5f20AI\u4f5c\u54c1\u751f\u6210",duration:"7\u5206\u949f",content:{introduction:'\u901a\u8fc7\u5b9e\u9645\u64cd\u4f5c\u521b\u4f5c\u7b2c\u4e00\u5f20AI\u7ed8\u753b\u4f5c\u54c1\u3002\u4ee5"\u68ee\u6797\u4e2d\u7684\u5c0f\u6728\u5c4b"\u4e3a\u4e3b\u9898\uff0c\u6309\u7167"\u4e3b\u4f53+\u73af\u5883+\u98ce\u683c+\u8d28\u91cf"\u7684\u7ed3\u6784\u7ec4\u7ec7\u63d0\u793a\u8bcd\u3002\u4ece\u7b80\u5355\u5f00\u59cb\uff0c\u9010\u6b65\u6dfb\u52a0\u7ec6\u8282\u4f18\u5316\u3002\u53c2\u6570\u8c03\u4f18\u8981\u6839\u636e\u5b9e\u9645\u6548\u679c\u8fdb\u884c\u8c03\u6574\u3002\u5b8c\u6574\u7684\u521b\u4f5c\u6d41\u7a0b\u5305\u62ec\u6784\u601d\u3001\u751f\u6210\u3001\u5206\u6790\u3001\u4f18\u5316\u591a\u4e2a\u73af\u8282\u3002\u8bb0\u5f55\u6bcf\u6b21\u5c1d\u8bd5\u6709\u52a9\u4e8e\u540e\u7eed\u6539\u8fdb\u3002',keyPoints:["\u521b\u4f5c\u524d\u8981\u5148\u786e\u5b9a\u4e3b\u9898\u548c\u6784\u601d\u63d0\u793a\u8bcd\u7ed3\u6784","\u4ece\u7b80\u5355\u7684\u63d0\u793a\u8bcd\u5f00\u59cb\uff0c\u9010\u6b65\u6dfb\u52a0\u7ec6\u8282","\u53c2\u6570\u8c03\u4f18\u8981\u6839\u636e\u5b9e\u9645\u6548\u679c\u8fdb\u884c\u8c03\u6574","\u5b8c\u6574\u6d41\u7a0b\u5305\u62ec\u6784\u601d\u3001\u751f\u6210\u3001\u5206\u6790\u3001\u4f18\u5316"],quiz:[{question:"\u63d0\u793a\u8bcd\u7684\u63a8\u8350\u7ec4\u7ec7\u7ed3\u6784\u662f\u4ec0\u4e48\uff1f",options:["\u98ce\u683c+\u4e3b\u4f53+\u73af\u5883+\u8d28\u91cf","\u4e3b\u4f53+\u73af\u5883+\u98ce\u683c+\u8d28\u91cf","\u8d28\u91cf+\u98ce\u683c+\u4e3b\u4f53+\u73af\u5883","\u73af\u5883+\u8d28\u91cf+\u4e3b\u4f53+\u98ce\u683c"],correct:1,explanation:'\u63a8\u8350\u6309\u7167"\u4e3b\u4f53+\u73af\u5883+\u98ce\u683c+\u8d28\u91cf"\u7684\u7ed3\u6784\u7ec4\u7ec7\u63d0\u793a\u8bcd\uff0c\u8fd9\u6837\u903b\u8f91\u6e05\u6670\uff0c\u6548\u679c\u66f4\u597d\u3002'}]}}]},"tutorial-2":{id:"tutorial-2",title:"\u63d0\u793a\u8bcd\u7f16\u5199\u6280\u5de7",description:"\u638c\u63e1\u9ad8\u6548\u63d0\u793a\u8bcd\u5199\u4f5c\u65b9\u6cd5\uff0c\u5b66\u4f1a\u63cf\u8ff0\u60f3\u8981\u7684\u753b\u9762\u6548\u679c\u3002",level:"\u521d\u7ea7",duration:"45\u5206\u949f",rating:4.9,tags:["\u63d0\u793a\u8bcd","\u5199\u4f5c\u6280\u5de7","\u4f18\u5316\u65b9\u6cd5"],objectives:["\u638c\u63e1\u63d0\u793a\u8bcd\u7684\u57fa\u7840\u8bed\u6cd5\u548c\u7ed3\u6784","\u5b66\u4f1a\u4f7f\u7528\u6743\u91cd\u63a7\u5236\u5f3a\u8c03\u91cd\u70b9","\u4e86\u89e3\u98ce\u683c\u63cf\u8ff0\u7684\u6280\u5de7\u548c\u65b9\u6cd5","\u901a\u8fc7\u5b9e\u6218\u7ec3\u4e60\u63d0\u5347\u5199\u4f5c\u80fd\u529b"],prerequisites:["tutorial-1"],chapters:[{id:"chapter-2-1",title:"\u63d0\u793a\u8bcd\u57fa\u7840\u8bed\u6cd5",duration:"10\u5206\u949f",content:{introduction:"\u63d0\u793a\u8bcd\u662fAI\u7ed8\u753b\u7684\u6838\u5fc3\uff0c\u597d\u7684\u63d0\u793a\u8bcd\u80fd\u591f\u7cbe\u786e\u8868\u8fbe\u521b\u4f5c\u610f\u56fe\u3002\u57fa\u7840\u8bed\u6cd5\u5305\u62ec\u8bcd\u6c47\u9009\u62e9\u3001\u8bed\u5e8f\u6392\u5217\u3001\u6743\u91cd\u8bbe\u7f6e\u7b49\u3002\u8981\u9075\u5faa\u7b80\u6d01\u660e\u786e\u7684\u539f\u5219\uff0c\u907f\u514d\u590d\u6742\u957f\u53e5\u3002\u5408\u7406\u4f7f\u7528\u9017\u53f7\u5206\u9694\uff0c\u6309\u91cd\u8981\u6027\u6392\u5e8f\u3002\u638c\u63e1\u57fa\u7840\u8bed\u6cd5\u662f\u9ad8\u6548\u521b\u4f5c\u7684\u524d\u63d0\u3002",keyPoints:["\u63d0\u793a\u8bcd\u8981\u7b80\u6d01\u660e\u786e\uff0c\u907f\u514d\u590d\u6742\u957f\u53e5","\u4f7f\u7528\u9017\u53f7\u5206\u9694\u4e0d\u540c\u5143\u7d20","\u6309\u91cd\u8981\u6027\u6392\u5e8f\u5173\u952e\u8bcd","\u638c\u63e1\u57fa\u7840\u8bed\u6cd5\u89c4\u5219"],quiz:[{question:"\u63d0\u793a\u8bcd\u7f16\u5199\u7684\u57fa\u672c\u539f\u5219\u662f\u4ec0\u4e48\uff1f",options:["\u8d8a\u957f\u8d8a\u597d","\u7b80\u6d01\u660e\u786e","\u8bed\u6cd5\u590d\u6742","\u968f\u610f\u6392\u5217"],correct:1,explanation:"\u63d0\u793a\u8bcd\u8981\u7b80\u6d01\u660e\u786e\uff0c\u907f\u514d\u590d\u6742\u957f\u53e5\uff0c\u8fd9\u6837AI\u66f4\u5bb9\u6613\u7406\u89e3\u3002"}]}},{id:"chapter-2-2",title:"\u5173\u952e\u8bcd\u6743\u91cd\u63a7\u5236",duration:"12\u5206\u949f",content:{introduction:"\u6743\u91cd\u63a7\u5236\u662f\u63d0\u793a\u8bcd\u7684\u9ad8\u7ea7\u6280\u5de7\uff0c\u901a\u8fc7\u8c03\u6574\u5173\u952e\u8bcd\u7684\u6743\u91cd\u6765\u5f3a\u8c03\u6216\u5f31\u5316\u7279\u5b9a\u5143\u7d20\u3002\u4f7f\u7528\u62ec\u53f7\u589e\u52a0\u6743\u91cd\uff0c\u51cf\u53f7\u964d\u4f4e\u6743\u91cd\u3002\u5408\u7406\u7684\u6743\u91cd\u8bbe\u7f6e\u80fd\u591f\u7cbe\u786e\u63a7\u5236\u753b\u9762\u6548\u679c\u3002\u8981\u6ce8\u610f\u6743\u91cd\u4e0d\u5b9c\u8fc7\u9ad8\uff0c\u907f\u514d\u753b\u9762\u5931\u8861\u3002",keyPoints:["\u4f7f\u7528\u62ec\u53f7\u589e\u52a0\u5173\u952e\u8bcd\u6743\u91cd","\u4f7f\u7528\u51cf\u53f7\u964d\u4f4e\u6743\u91cd","\u6743\u91cd\u8bbe\u7f6e\u8981\u9002\u5ea6\uff0c\u907f\u514d\u8fc7\u9ad8","\u901a\u8fc7\u6743\u91cd\u63a7\u5236\u753b\u9762\u91cd\u70b9"],quiz:[{question:"\u5982\u4f55\u589e\u52a0\u5173\u952e\u8bcd\u7684\u6743\u91cd\uff1f",options:["\u4f7f\u7528\u51cf\u53f7","\u4f7f\u7528\u62ec\u53f7","\u91cd\u590d\u4e66\u5199","\u5927\u5199\u5b57\u6bcd"],correct:1,explanation:"\u4f7f\u7528\u62ec\u53f7\u53ef\u4ee5\u589e\u52a0\u5173\u952e\u8bcd\u7684\u6743\u91cd\uff0c\u8ba9AI\u66f4\u91cd\u89c6\u8fd9\u4e2a\u5143\u7d20\u3002"}]}},{id:"chapter-2-3",title:"\u98ce\u683c\u63cf\u8ff0\u6280\u5de7",duration:"15\u5206\u949f",content:{introduction:"\u98ce\u683c\u63cf\u8ff0\u662f\u63d0\u793a\u8bcd\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\uff0c\u76f4\u63a5\u5f71\u54cd\u753b\u9762\u7684\u89c6\u89c9\u6548\u679c\u3002\u5305\u62ec\u827a\u672f\u98ce\u683c\u3001\u8272\u5f69\u642d\u914d\u3001\u5149\u7ebf\u6c1b\u56f4\u7b49\u65b9\u9762\u3002\u8981\u5b66\u4f1a\u4f7f\u7528\u4e13\u4e1a\u7684\u827a\u672f\u672f\u8bed\uff0c\u53c2\u8003\u77e5\u540d\u827a\u672f\u5bb6\u548c\u827a\u672f\u6d41\u6d3e\u3002\u5408\u7406\u642d\u914d\u4e0d\u540c\u98ce\u683c\u5143\u7d20\uff0c\u521b\u9020\u72ec\u7279\u7684\u89c6\u89c9\u6548\u679c\u3002",keyPoints:["\u4f7f\u7528\u4e13\u4e1a\u7684\u827a\u672f\u672f\u8bed","\u53c2\u8003\u77e5\u540d\u827a\u672f\u5bb6\u548c\u6d41\u6d3e","\u6ce8\u610f\u8272\u5f69\u642d\u914d\u548c\u5149\u7ebf\u63cf\u8ff0","\u5408\u7406\u642d\u914d\u4e0d\u540c\u98ce\u683c\u5143\u7d20"],quiz:[{question:"\u98ce\u683c\u63cf\u8ff0\u5e94\u8be5\u5305\u542b\u54ea\u4e9b\u65b9\u9762\uff1f",options:["\u53ea\u6709\u827a\u672f\u98ce\u683c","\u827a\u672f\u98ce\u683c\u3001\u8272\u5f69\u3001\u5149\u7ebf\u7b49","\u53ea\u6709\u8272\u5f69\u642d\u914d","\u53ea\u6709\u5149\u7ebf\u6548\u679c"],correct:1,explanation:"\u98ce\u683c\u63cf\u8ff0\u5e94\u8be5\u5305\u542b\u827a\u672f\u98ce\u683c\u3001\u8272\u5f69\u642d\u914d\u3001\u5149\u7ebf\u6c1b\u56f4\u7b49\u591a\u4e2a\u65b9\u9762\u3002"}]}},{id:"chapter-2-4",title:"\u5b9e\u6218\u7ec3\u4e60",duration:"8\u5206\u949f",content:{introduction:"\u901a\u8fc7\u5b9e\u9645\u6848\u4f8b\u7ec3\u4e60\u63d0\u793a\u8bcd\u7f16\u5199\u6280\u5de7\u3002\u4ece\u7b80\u5355\u573a\u666f\u5f00\u59cb\uff0c\u9010\u6b65\u589e\u52a0\u590d\u6742\u5ea6\u3002\u5206\u6790\u4f18\u79c0\u63d0\u793a\u8bcd\u7684\u7ed3\u6784\u548c\u7279\u70b9\uff0c\u5b66\u4e60\u5176\u4e2d\u7684\u6280\u5de7\u3002\u901a\u8fc7\u5927\u91cf\u7ec3\u4e60\u63d0\u5347\u5199\u4f5c\u80fd\u529b\uff0c\u5f62\u6210\u81ea\u5df1\u7684\u98ce\u683c\u3002\u5b9e\u8df5\u662f\u6700\u597d\u7684\u8001\u5e08\u3002",keyPoints:["\u4ece\u7b80\u5355\u573a\u666f\u5f00\u59cb\u7ec3\u4e60","\u5206\u6790\u4f18\u79c0\u63d0\u793a\u8bcd\u6848\u4f8b","\u9010\u6b65\u589e\u52a0\u590d\u6742\u5ea6","\u901a\u8fc7\u5b9e\u8df5\u63d0\u5347\u80fd\u529b"],quiz:[{question:"\u63d0\u9ad8\u63d0\u793a\u8bcd\u5199\u4f5c\u80fd\u529b\u7684\u6700\u4f73\u65b9\u6cd5\u662f\u4ec0\u4e48\uff1f",options:["\u53ea\u770b\u6559\u7a0b","\u5927\u91cf\u5b9e\u8df5\u7ec3\u4e60","\u80cc\u8bf5\u6a21\u677f","\u968f\u610f\u5c1d\u8bd5"],correct:1,explanation:"\u5927\u91cf\u5b9e\u8df5\u7ec3\u4e60\u662f\u63d0\u9ad8\u63d0\u793a\u8bcd\u5199\u4f5c\u80fd\u529b\u7684\u6700\u4f73\u65b9\u6cd5\u3002"}]}}]},"tutorial-3":{id:"tutorial-3",title:"\u9ad8\u7ea7\u6784\u56fe\u65b9\u6cd5",description:"\u5b66\u4e60\u4e13\u4e1a\u6784\u56fe\u6280\u5de7\uff0c\u63d0\u5347\u4f5c\u54c1\u7684\u89c6\u89c9\u51b2\u51fb\u529b\u548c\u827a\u672f\u6027\u3002",level:"\u8fdb\u9636",duration:"60\u5206\u949f",rating:4.7,tags:["\u6784\u56fe","\u8272\u5f69","\u827a\u672f\u7406\u8bba"],objectives:["\u7406\u89e3\u6784\u56fe\u7684\u57fa\u672c\u539f\u7406\u548c\u8981\u7d20","\u638c\u63e1\u7ecf\u5178\u6784\u56fe\u6cd5\u5219\u7684\u5e94\u7528","\u5b66\u4e60\u8272\u5f69\u642d\u914d\u7684\u7406\u8bba\u77e5\u8bc6","\u901a\u8fc7\u6848\u4f8b\u5206\u6790\u63d0\u5347\u5ba1\u7f8e\u80fd\u529b"],prerequisites:["tutorial-1","tutorial-2"],chapters:[{id:"chapter-3-1",title:"\u6784\u56fe\u57fa\u672c\u539f\u7406",duration:"15\u5206\u949f",content:{introduction:"\u6784\u56fe\u662f\u89c6\u89c9\u827a\u672f\u7684\u57fa\u7840\uff0c\u51b3\u5b9a\u4e86\u4f5c\u54c1\u7684\u89c6\u89c9\u6548\u679c\u548c\u8868\u73b0\u529b\u3002\u57fa\u672c\u539f\u7406\u5305\u62ec\u5e73\u8861\u3001\u5bf9\u6bd4\u3001\u8282\u594f\u3001\u7edf\u4e00\u7b49\u8981\u7d20\u3002\u8981\u5b66\u4f1a\u8fd0\u7528\u70b9\u3001\u7ebf\u3001\u9762\u7684\u5173\u7cfb\uff0c\u521b\u9020\u6709\u5e8f\u7684\u89c6\u89c9\u7ed3\u6784\u3002\u597d\u7684\u6784\u56fe\u80fd\u591f\u5f15\u5bfc\u89c2\u8005\u7684\u89c6\u7ebf\uff0c\u589e\u5f3a\u4f5c\u54c1\u7684\u8868\u73b0\u529b\u3002",keyPoints:["\u6784\u56fe\u5305\u62ec\u5e73\u8861\u3001\u5bf9\u6bd4\u3001\u8282\u594f\u3001\u7edf\u4e00\u7b49\u8981\u7d20","\u8fd0\u7528\u70b9\u3001\u7ebf\u3001\u9762\u7684\u5173\u7cfb","\u521b\u9020\u6709\u5e8f\u7684\u89c6\u89c9\u7ed3\u6784","\u5f15\u5bfc\u89c2\u8005\u89c6\u7ebf"],quiz:[{question:"\u6784\u56fe\u7684\u57fa\u672c\u8981\u7d20\u4e0d\u5305\u62ec\uff1f",options:["\u5e73\u8861","\u5bf9\u6bd4","\u4ef7\u683c","\u8282\u594f"],correct:2,explanation:"\u6784\u56fe\u7684\u57fa\u672c\u8981\u7d20\u5305\u62ec\u5e73\u8861\u3001\u5bf9\u6bd4\u3001\u8282\u594f\u3001\u7edf\u4e00\u7b49\uff0c\u4e0d\u5305\u62ec\u4ef7\u683c\u3002"}]}},{id:"chapter-3-2",title:"\u9ec4\u91d1\u6bd4\u4f8b\u548c\u4e09\u5206\u6cd5",duration:"18\u5206\u949f",content:{introduction:"\u9ec4\u91d1\u6bd4\u4f8b\u548c\u4e09\u5206\u6cd5\u662f\u7ecf\u5178\u7684\u6784\u56fe\u6cd5\u5219\u3002\u9ec4\u91d1\u6bd4\u4f8b\u521b\u9020\u6700\u548c\u8c10\u7684\u89c6\u89c9\u6548\u679c\uff0c\u4e09\u5206\u6cd5\u5219\u7b80\u5355\u5b9e\u7528\u3002\u8981\u5b66\u4f1a\u5c06\u91cd\u8981\u5143\u7d20\u653e\u7f6e\u5728\u5173\u952e\u4f4d\u7f6e\uff0c\u907f\u514d\u5c45\u4e2d\u6784\u56fe\u7684\u5355\u8c03\u3002\u7075\u6d3b\u8fd0\u7528\u8fd9\u4e9b\u6cd5\u5219\uff0c\u521b\u9020\u6709\u8da3\u7684\u89c6\u89c9\u8282\u594f\u3002",keyPoints:["\u9ec4\u91d1\u6bd4\u4f8b\u521b\u9020\u548c\u8c10\u7684\u89c6\u89c9\u6548\u679c","\u4e09\u5206\u6cd5\u5219\u7b80\u5355\u5b9e\u7528","\u91cd\u8981\u5143\u7d20\u653e\u7f6e\u5728\u5173\u952e\u4f4d\u7f6e","\u907f\u514d\u5355\u8c03\u7684\u5c45\u4e2d\u6784\u56fe"],quiz:[{question:"\u4e09\u5206\u6cd5\u5219\u7684\u6838\u5fc3\u662f\u4ec0\u4e48\uff1f",options:["\u5c06\u753b\u9762\u7b49\u5206\u4e3a\u4e09\u90e8\u5206","\u4f7f\u7528\u4e09\u79cd\u989c\u8272","\u521b\u4f5c\u4e09\u4e2a\u4e3b\u4f53","\u5206\u4e09\u6b21\u5b8c\u6210"],correct:0,explanation:"\u4e09\u5206\u6cd5\u5219\u662f\u5c06\u753b\u9762\u5206\u4e3a\u4e09\u7b49\u5206\uff0c\u91cd\u8981\u5143\u7d20\u653e\u5728\u5206\u5272\u7ebf\u4e0a\u3002"}]}},{id:"chapter-3-3",title:"\u8272\u5f69\u642d\u914d\u7406\u8bba",duration:"20\u5206\u949f",content:{introduction:"\u8272\u5f69\u662f\u6784\u56fe\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\uff0c\u76f4\u63a5\u5f71\u54cd\u60c5\u611f\u8868\u8fbe\u3002\u8981\u7406\u89e3\u8272\u76f8\u3001\u660e\u5ea6\u3001\u7eaf\u5ea6\u7684\u5173\u7cfb\uff0c\u638c\u63e1\u51b7\u6696\u8272\u8c03\u7684\u642d\u914d\u3002\u5b66\u4f1a\u4f7f\u7528\u5bf9\u6bd4\u8272\u548c\u90bb\u8fd1\u8272\uff0c\u521b\u9020\u4e0d\u540c\u7684\u89c6\u89c9\u6548\u679c\u3002\u8272\u5f69\u642d\u914d\u8981\u670d\u52a1\u4e8e\u4e3b\u9898\u8868\u8fbe\u3002",keyPoints:["\u7406\u89e3\u8272\u76f8\u3001\u660e\u5ea6\u3001\u7eaf\u5ea6\u7684\u5173\u7cfb","\u638c\u63e1\u51b7\u6696\u8272\u8c03\u642d\u914d","\u4f7f\u7528\u5bf9\u6bd4\u8272\u548c\u90bb\u8fd1\u8272","\u8272\u5f69\u670d\u52a1\u4e8e\u4e3b\u9898\u8868\u8fbe"],quiz:[{question:"\u5bf9\u6bd4\u8272\u7684\u6548\u679c\u662f\u4ec0\u4e48\uff1f",options:["\u521b\u9020\u548c\u8c10\u611f","\u589e\u5f3a\u89c6\u89c9\u51b2\u51fb","\u964d\u4f4e\u9971\u548c\u5ea6","\u7edf\u4e00\u8272\u8c03"],correct:1,explanation:"\u5bf9\u6bd4\u8272\u80fd\u591f\u589e\u5f3a\u89c6\u89c9\u51b2\u51fb\u529b\uff0c\u521b\u9020\u5f3a\u70c8\u7684\u89c6\u89c9\u6548\u679c\u3002"}]}},{id:"chapter-3-4",title:"\u6848\u4f8b\u5206\u6790",duration:"7\u5206\u949f",content:{introduction:"\u901a\u8fc7\u7ecf\u5178\u827a\u672f\u4f5c\u54c1\u5206\u6790\u6784\u56fe\u548c\u8272\u5f69\u7684\u8fd0\u7528\u3002\u5b66\u4e60\u5927\u5e08\u4eec\u7684\u6784\u56fe\u6280\u5de7\uff0c\u7406\u89e3\u5176\u4f5c\u54c1\u7684\u6210\u529f\u4e4b\u5904\u3002\u5206\u6790\u4e0d\u540c\u98ce\u683c\u4f5c\u54c1\u7684\u7279\u70b9\uff0c\u4ece\u4e2d\u6c72\u53d6\u7075\u611f\u3002\u5c06\u7406\u8bba\u77e5\u8bc6\u4e0e\u5b9e\u9645\u4f5c\u54c1\u7ed3\u5408\uff0c\u63d0\u5347\u5ba1\u7f8e\u80fd\u529b\u3002",keyPoints:["\u5206\u6790\u7ecf\u5178\u827a\u672f\u4f5c\u54c1","\u5b66\u4e60\u5927\u5e08\u7684\u6784\u56fe\u6280\u5de7","\u7406\u89e3\u4e0d\u540c\u98ce\u683c\u7279\u70b9","\u7406\u8bba\u7ed3\u5408\u5b9e\u9645"],quiz:[{question:"\u5b66\u4e60\u6784\u56fe\u6700\u597d\u7684\u65b9\u6cd5\u662f\u4ec0\u4e48\uff1f",options:["\u53ea\u770b\u7406\u8bba\u4e66\u7c4d","\u5206\u6790\u7ecf\u5178\u4f5c\u54c1","\u968f\u610f\u6a21\u4eff","\u907f\u514d\u5b66\u4e60\u4ed6\u4eba"],correct:1,explanation:"\u5206\u6790\u7ecf\u5178\u4f5c\u54c1\u662f\u5b66\u4e60\u6784\u56fe\u7684\u6700\u597d\u65b9\u6cd5\uff0c\u80fd\u591f\u7406\u89e3\u5b9e\u9645\u5e94\u7528\u3002"}]}}]},"tutorial-4":{id:"tutorial-4",title:"\u98ce\u683c\u63a7\u5236\u6280\u672f",description:"\u63a7\u5236\u56fe\u7247\u98ce\u683c\u7684\u9ad8\u7ea7\u6280\u5de7\uff0c\u5b9e\u73b0\u7279\u5b9a\u827a\u672f\u98ce\u683c\u7684\u7cbe\u51c6\u8868\u8fbe\u3002",level:"\u8fdb\u9636",duration:"40\u5206\u949f",rating:4.6,tags:["\u98ce\u683c\u63a7\u5236","LoRA","\u827a\u672f\u98ce\u683c"],objectives:["\u4e86\u89e3\u4e0d\u540c\u827a\u672f\u98ce\u683c\u7684\u7279\u70b9","\u638c\u63e1LoRA\u6a21\u578b\u7684\u4f7f\u7528\u65b9\u6cd5","\u5b66\u4f1a\u6df7\u5408\u591a\u79cd\u98ce\u683c\u7684\u6280\u5de7","\u901a\u8fc7\u6848\u4f8b\u5b66\u4e60\u5b9e\u9645\u5e94\u7528"],prerequisites:["tutorial-1","tutorial-2"],chapters:[{id:"chapter-4-1",title:"\u827a\u672f\u98ce\u683c\u5206\u7c7b",duration:"8\u5206\u949f",content:{introduction:"\u4e0d\u540c\u827a\u672f\u98ce\u683c\u6709\u5404\u81ea\u7684\u7279\u70b9\u548c\u8868\u73b0\u5f62\u5f0f\u3002\u5199\u5b9e\u98ce\u683c\u6ce8\u91cd\u771f\u5b9e\u611f\uff0c\u52a8\u6f2b\u98ce\u683c\u5f3a\u8c03\u53ef\u7231\u548c\u5938\u5f20\uff0c\u6cb9\u753b\u98ce\u683c\u8ffd\u6c42\u539a\u91cd\u611f\uff0c\u6c34\u5f69\u98ce\u683c\u4f53\u73b0\u6e05\u65b0\u611f\u3002\u8981\u7406\u89e3\u5404\u79cd\u98ce\u683c\u7684\u6838\u5fc3\u7279\u5f81\uff0c\u9009\u62e9\u5408\u9002\u7684\u98ce\u683c\u8bcd\u6c47\u3002\u98ce\u683c\u9009\u62e9\u8981\u4e0e\u4e3b\u9898\u5185\u5bb9\u76f8\u5339\u914d\u3002",keyPoints:["\u5199\u5b9e\u98ce\u683c\u6ce8\u91cd\u771f\u5b9e\u611f","\u52a8\u6f2b\u98ce\u683c\u5f3a\u8c03\u53ef\u7231\u5938\u5f20","\u6cb9\u753b\u98ce\u683c\u8ffd\u6c42\u539a\u91cd\u611f","\u98ce\u683c\u9009\u62e9\u8981\u5339\u914d\u4e3b\u9898"],quiz:[{question:"\u6c34\u5f69\u98ce\u683c\u7684\u4e3b\u8981\u7279\u70b9\u662f\u4ec0\u4e48\uff1f",options:["\u539a\u91cd\u611f\u5f3a","\u8272\u5f69\u9c9c\u8273","\u6e05\u65b0\u900f\u660e","\u7ebf\u6761\u7c97\u72b7"],correct:2,explanation:"\u6c34\u5f69\u98ce\u683c\u7684\u4e3b\u8981\u7279\u70b9\u662f\u6e05\u65b0\u900f\u660e\uff0c\u8272\u5f69\u81ea\u7136\u8fc7\u6e21\u3002"}]}},{id:"chapter-4-2",title:"LoRA\u6a21\u578b\u4f7f\u7528",duration:"15\u5206\u949f",content:{introduction:"LoRA\u662f\u4f4e\u79e9\u9002\u5e94\u6280\u672f\uff0c\u80fd\u591f\u5feb\u901f\u9002\u914d\u7279\u5b9a\u98ce\u683c\u3002\u4f7f\u7528LoRA\u9700\u8981\u4e0b\u8f7d\u76f8\u5e94\u6a21\u578b\u6587\u4ef6\uff0c\u8bbe\u7f6e\u5408\u9002\u7684\u6743\u91cd\u3002\u4e0d\u540cLoRA\u6709\u4e0d\u540c\u7684\u7279\u70b9\u548c\u9002\u7528\u573a\u666f\u3002\u8981\u5b66\u4f1a\u8c03\u8282LoRA\u6743\u91cd\uff0c\u83b7\u5f97\u6700\u4f73\u6548\u679c\u3002\u5408\u7406\u642d\u914d\u591a\u4e2aLoRA\u53ef\u4ee5\u521b\u9020\u72ec\u7279\u98ce\u683c\u3002",keyPoints:["LoRA\u662f\u4f4e\u79e9\u9002\u5e94\u6280\u672f","\u9700\u8981\u4e0b\u8f7d\u76f8\u5e94\u6a21\u578b\u6587\u4ef6","\u8c03\u8282\u6743\u91cd\u83b7\u5f97\u6700\u4f73\u6548\u679c","\u53ef\u4ee5\u642d\u914d\u591a\u4e2aLoRA"],quiz:[{question:"LoRA\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f",options:["\u589e\u52a0\u751f\u6210\u901f\u5ea6","\u5feb\u901f\u9002\u914d\u7279\u5b9a\u98ce\u683c","\u51cf\u5c11\u5185\u5b58\u5360\u7528","\u63d0\u9ad8\u56fe\u50cf\u5206\u8fa8\u7387"],correct:1,explanation:"LoRA\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u5feb\u901f\u9002\u914d\u7279\u5b9a\u98ce\u683c\uff0c\u65e0\u9700\u91cd\u65b0\u8bad\u7ec3\u6574\u4e2a\u6a21\u578b\u3002"}]}},{id:"chapter-4-3",title:"\u6df7\u5408\u98ce\u683c\u6280\u5de7",duration:"12\u5206\u949f",content:{introduction:"\u6df7\u5408\u98ce\u683c\u80fd\u591f\u521b\u9020\u72ec\u7279\u7684\u89c6\u89c9\u6548\u679c\u3002\u8981\u9009\u62e9\u517c\u5bb9\u7684\u98ce\u683c\u8fdb\u884c\u6df7\u5408\uff0c\u907f\u514d\u51b2\u7a81\u7684\u5143\u7d20\u3002\u901a\u8fc7\u8c03\u8282\u6743\u91cd\u63a7\u5236\u6df7\u5408\u6bd4\u4f8b\uff0c\u521b\u9020\u5e73\u8861\u7684\u6548\u679c\u3002\u5b9e\u9a8c\u4e0d\u540c\u7684\u7ec4\u5408\u65b9\u5f0f\uff0c\u627e\u5230\u6700\u9002\u5408\u7684\u642d\u914d\u3002\u6df7\u5408\u98ce\u683c\u9700\u8981\u7ecf\u9a8c\u79ef\u7d2f\u548c\u53cd\u590d\u5c1d\u8bd5\u3002",keyPoints:["\u9009\u62e9\u517c\u5bb9\u7684\u98ce\u683c\u6df7\u5408","\u907f\u514d\u51b2\u7a81\u7684\u5143\u7d20","\u8c03\u8282\u6743\u91cd\u63a7\u5236\u6bd4\u4f8b","\u9700\u8981\u7ecf\u9a8c\u79ef\u7d2f"],quiz:[{question:"\u6df7\u5408\u98ce\u683c\u65f6\u6700\u91cd\u8981\u7684\u662f\u4ec0\u4e48\uff1f",options:["\u4f7f\u7528\u6700\u591a\u7684\u98ce\u683c","\u9009\u62e9\u517c\u5bb9\u7684\u98ce\u683c","\u968f\u610f\u7ec4\u5408","\u53ea\u7528\u4e00\u79cd\u98ce\u683c"],correct:1,explanation:"\u6df7\u5408\u98ce\u683c\u65f6\u6700\u91cd\u8981\u7684\u662f\u9009\u62e9\u517c\u5bb9\u7684\u98ce\u683c\uff0c\u907f\u514d\u51b2\u7a81\u3002"}]}},{id:"chapter-4-4",title:"\u5b9e\u7528\u6848\u4f8b",duration:"5\u5206\u949f",content:{introduction:"\u901a\u8fc7\u5b9e\u9645\u6848\u4f8b\u5c55\u793a\u98ce\u683c\u63a7\u5236\u7684\u5e94\u7528\u6548\u679c\u3002\u5206\u6790\u4e0d\u540c\u98ce\u683c\u7684\u53c2\u6570\u8bbe\u7f6e\u548c\u6548\u679c\u5bf9\u6bd4\uff0c\u603b\u7ed3\u6210\u529f\u7ecf\u9a8c\u3002\u4ece\u5931\u8d25\u6848\u4f8b\u4e2d\u5b66\u4e60\u907f\u514d\u7684\u95ee\u9898\uff0c\u79ef\u7d2f\u5b9e\u6218\u7ecf\u9a8c\u3002\u98ce\u683c\u63a7\u5236\u662f\u6280\u672f\u4e0e\u827a\u672f\u7684\u7ed3\u5408\uff0c\u9700\u8981\u6301\u7eed\u7ec3\u4e60\u548c\u63a2\u7d22\u3002",keyPoints:["\u5206\u6790\u5b9e\u9645\u6848\u4f8b\u6548\u679c","\u603b\u7ed3\u6210\u529f\u7ecf\u9a8c","\u4ece\u5931\u8d25\u4e2d\u5b66\u4e60","\u6280\u672f\u4e0e\u827a\u672f\u7ed3\u5408"],quiz:[{question:"\u98ce\u683c\u63a7\u5236\u6280\u672f\u7684\u672c\u8d28\u662f\u4ec0\u4e48\uff1f",options:["\u7eaf\u6280\u672f\u64cd\u4f5c","\u7eaf\u827a\u672f\u521b\u4f5c","\u6280\u672f\u4e0e\u827a\u672f\u7ed3\u5408","\u968f\u673a\u5c1d\u8bd5"],correct:2,explanation:"\u98ce\u683c\u63a7\u5236\u6280\u672f\u662f\u6280\u672f\u4e0e\u827a\u672f\u7684\u7ed3\u5408\uff0c\u9700\u8981\u6280\u672f\u624b\u6bb5\u548c\u827a\u672f\u611f\u89c9\u3002"}]}}]},"tutorial-5":{id:"tutorial-5",title:"\u53c2\u6570\u8c03\u4f18\u6307\u5357",description:"\u6df1\u5165\u7406\u89e3\u751f\u6210\u53c2\u6570\uff0c\u638c\u63e1\u5404\u79cd\u53c2\u6570\u5bf9\u56fe\u50cf\u8d28\u91cf\u7684\u5f71\u54cd\u3002",level:"\u9ad8\u7ea7",duration:"90\u5206\u949f",rating:4.8,tags:["\u53c2\u6570\u8c03\u4f18","\u91c7\u6837\u5668","\u9ad8\u7ea7\u6280\u5de7"],objectives:["\u6df1\u5165\u7406\u89e3\u5404\u79cd\u91c7\u6837\u5668\u7684\u7279\u70b9","\u638c\u63e1CFG Scale\u7b49\u53c2\u6570\u7684\u4f18\u5316","\u5b66\u4f1a\u6839\u636e\u9700\u6c42\u8c03\u8282\u751f\u6210\u6b65\u6570","\u719f\u7ec3\u8fd0\u7528\u9ad8\u7ea7\u53c2\u6570\u7ec4\u5408"],prerequisites:["tutorial-1","tutorial-2","tutorial-3"],chapters:[{id:"chapter-5-1",title:"\u91c7\u6837\u5668\u8be6\u89e3",duration:"25\u5206\u949f",content:{introduction:"\u91c7\u6837\u5668\u662f\u63a7\u5236\u56fe\u50cf\u751f\u6210\u8fc7\u7a0b\u7684\u6838\u5fc3\u7ec4\u4ef6\u3002\u4e0d\u540c\u91c7\u6837\u5668\u6709\u4e0d\u540c\u7684\u7b97\u6cd5\u548c\u7279\u70b9\u3002Euler\u7cfb\u5217\u901f\u5ea6\u5feb\u9002\u5408\u9884\u89c8\uff0cDPM\u7cfb\u5217\u8d28\u91cf\u9ad8\u9002\u5408\u6b63\u5f0f\u521b\u4f5c\uff0cDDIM\u7cfb\u5217\u7a33\u5b9a\u6027\u597d\u9002\u5408\u6279\u91cf\u751f\u6210\u3002\u8981\u6839\u636e\u5177\u4f53\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u91c7\u6837\u5668\uff0c\u5e73\u8861\u8d28\u91cf\u548c\u901f\u5ea6\u3002",keyPoints:["Euler\u7cfb\u5217\u901f\u5ea6\u5feb\u9002\u5408\u9884\u89c8","DPM\u7cfb\u5217\u8d28\u91cf\u9ad8\u9002\u5408\u521b\u4f5c","DDIM\u7cfb\u5217\u7a33\u5b9a\u6027\u597d","\u8981\u5e73\u8861\u8d28\u91cf\u548c\u901f\u5ea6"],quiz:[{question:"\u5feb\u901f\u9884\u89c8\u5e94\u8be5\u9009\u62e9\u4ec0\u4e48\u91c7\u6837\u5668\uff1f",options:["DPM++ 2M","Euler a","DDIM","LMS"],correct:1,explanation:"Euler a\u901f\u5ea6\u5feb\uff0c\u9002\u5408\u5feb\u901f\u9884\u89c8\u548c\u6d4b\u8bd5\u3002"}]}},{id:"chapter-5-2",title:"CFG Scale\u4f18\u5316",duration:"20\u5206\u949f",content:{introduction:"CFG Scale\u63a7\u5236AI\u5bf9\u63d0\u793a\u8bcd\u7684\u9075\u5faa\u7a0b\u5ea6\uff0c\u662f\u91cd\u8981\u7684\u8c03\u4f18\u53c2\u6570\u3002\u6570\u503c\u8fc7\u4f4e\u4f1a\u504f\u79bb\u63d0\u793a\u8bcd\uff0c\u8fc7\u9ad8\u4f1a\u663e\u5f97\u6b7b\u677f\u3002\u4e00\u822c\u63a8\u83507-12\u7684\u8303\u56f4\uff0c\u6839\u636e\u5177\u4f53\u60c5\u51b5\u5fae\u8c03\u3002\u4e0d\u540c\u6a21\u578b\u548c\u98ce\u683c\u53ef\u80fd\u9700\u8981\u4e0d\u540c\u7684CFG\u503c\u3002\u8981\u901a\u8fc7\u5b9e\u9a8c\u627e\u5230\u6700\u9002\u5408\u7684\u8bbe\u7f6e\u3002",keyPoints:["CFG Scale\u63a7\u5236\u63d0\u793a\u8bcd\u9075\u5faa\u7a0b\u5ea6","\u63a8\u8350\u8303\u56f47-12","\u4e0d\u540c\u6a21\u578b\u9700\u8981\u4e0d\u540c\u8bbe\u7f6e","\u8981\u901a\u8fc7\u5b9e\u9a8c\u627e\u5230\u6700\u4f73\u503c"],quiz:[{question:"CFG Scale\u8bbe\u7f6e\u8fc7\u9ad8\u4f1a\u5bfc\u81f4\u4ec0\u4e48\u95ee\u9898\uff1f",options:["\u56fe\u50cf\u6a21\u7cca","\u504f\u79bb\u63d0\u793a\u8bcd","\u663e\u5f97\u6b7b\u677f","\u751f\u6210\u901f\u5ea6\u6162"],correct:2,explanation:"CFG Scale\u8fc7\u9ad8\u4f1a\u8ba9\u56fe\u50cf\u663e\u5f97\u6b7b\u677f\uff0c\u7f3a\u4e4f\u521b\u610f\u6027\u3002"}]}},{id:"chapter-5-3",title:"\u6b65\u6570\u4e0e\u8d28\u91cf\u5173\u7cfb",duration:"25\u5206\u949f",content:{introduction:"\u751f\u6210\u6b65\u6570\u76f4\u63a5\u5f71\u54cd\u56fe\u50cf\u8d28\u91cf\u548c\u751f\u6210\u65f6\u95f4\u3002\u6b65\u6570\u8d8a\u591a\u8d28\u91cf\u8d8a\u9ad8\uff0c\u4f46\u6536\u76ca\u9012\u51cf\u3002\u4e00\u822c15-20\u6b65\u7528\u4e8e\u5feb\u901f\u9884\u89c8\uff0c25-30\u6b65\u7528\u4e8e\u65e5\u5e38\u521b\u4f5c\uff0c40-50\u6b65\u7528\u4e8e\u9ad8\u8d28\u91cf\u8f93\u51fa\u3002\u8981\u6839\u636e\u5b9e\u9645\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u6b65\u6570\uff0c\u907f\u514d\u6d6a\u8d39\u65f6\u95f4\u3002",keyPoints:["\u6b65\u6570\u5f71\u54cd\u8d28\u91cf\u548c\u65f6\u95f4","\u6536\u76ca\u9012\u51cf\u89c4\u5f8b","\u4e0d\u540c\u7528\u9014\u9009\u62e9\u4e0d\u540c\u6b65\u6570","\u907f\u514d\u6d6a\u8d39\u65f6\u95f4"],quiz:[{question:"\u65e5\u5e38\u521b\u4f5c\u63a8\u8350\u591a\u5c11\u6b65\u6570\uff1f",options:["15-20\u6b65","25-30\u6b65","40-50\u6b65","100\u6b65\u4ee5\u4e0a"],correct:1,explanation:"\u65e5\u5e38\u521b\u4f5c\u63a8\u835025-30\u6b65\uff0c\u80fd\u591f\u5e73\u8861\u8d28\u91cf\u548c\u901f\u5ea6\u3002"}]}},{id:"chapter-5-4",title:"\u9ad8\u7ea7\u53c2\u6570\u8c03\u4f18",duration:"20\u5206\u949f",content:{introduction:"\u9ad8\u7ea7\u53c2\u6570\u5305\u62ec\u79cd\u5b50\u503c\u3001\u5c3a\u5bf8\u6bd4\u4f8b\u3001\u6279\u91cf\u8bbe\u7f6e\u7b49\u3002\u79cd\u5b50\u503c\u7528\u4e8e\u590d\u73b0\u7279\u5b9a\u7ed3\u679c\uff0c\u5c3a\u5bf8\u5f71\u54cd\u6784\u56fe\u548c\u7ec6\u8282\uff0c\u6279\u91cf\u8bbe\u7f6e\u63d0\u9ad8\u6548\u7387\u3002\u8981\u5b66\u4f1a\u7ec4\u5408\u4f7f\u7528\u5404\u79cd\u53c2\u6570\uff0c\u521b\u9020\u6700\u4f73\u6548\u679c\u3002\u53c2\u6570\u8c03\u4f18\u662f\u4e2a\u6027\u5316\u7684\u8fc7\u7a0b\uff0c\u9700\u8981\u79ef\u7d2f\u7ecf\u9a8c\u3002",keyPoints:["\u79cd\u5b50\u503c\u7528\u4e8e\u590d\u73b0\u7ed3\u679c","\u5c3a\u5bf8\u5f71\u54cd\u6784\u56fe\u548c\u7ec6\u8282","\u6279\u91cf\u8bbe\u7f6e\u63d0\u9ad8\u6548\u7387","\u9700\u8981\u79ef\u7d2f\u7ecf\u9a8c"],quiz:[{question:"\u79cd\u5b50\u503c\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f",options:["\u63d0\u9ad8\u56fe\u50cf\u8d28\u91cf","\u590d\u73b0\u7279\u5b9a\u7ed3\u679c","\u52a0\u5feb\u751f\u6210\u901f\u5ea6","\u8282\u7701\u5185\u5b58"],correct:1,explanation:"\u79cd\u5b50\u503c\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u590d\u73b0\u7279\u5b9a\u7684\u751f\u6210\u7ed3\u679c\u3002"}]}}]},"tutorial-6":{id:"tutorial-6",title:"\u5de5\u4f5c\u6d41\u7a0b\u4f18\u5316",description:"\u63d0\u9ad8\u521b\u4f5c\u6548\u7387\u7684\u5de5\u4f5c\u6d41\uff0c\u4ece\u6784\u601d\u5230\u6210\u54c1\u7684\u5b8c\u6574\u6d41\u7a0b\u3002",level:"\u9ad8\u7ea7",duration:"75\u5206\u949f",rating:4.5,tags:["\u5de5\u4f5c\u6d41\u7a0b","\u6548\u7387\u4f18\u5316","\u9879\u76ee\u7ba1\u7406"],objectives:["\u5efa\u7acb\u7cfb\u7edf\u5316\u7684\u521b\u4f5c\u6d41\u7a0b","\u638c\u63e1\u6279\u91cf\u751f\u6210\u7684\u6280\u5de7","\u5b66\u4f1a\u540e\u671f\u5904\u7406\u7684\u65b9\u6cd5","\u5efa\u7acb\u6709\u6548\u7684\u4f5c\u54c1\u7ba1\u7406\u7cfb\u7edf"],prerequisites:["tutorial-1","tutorial-2","tutorial-3","tutorial-4"],chapters:[{id:"chapter-6-1",title:"\u521b\u4f5c\u6d41\u7a0b\u89c4\u5212",duration:"20\u5206\u949f",content:{introduction:"\u7cfb\u7edf\u5316\u7684\u521b\u4f5c\u6d41\u7a0b\u80fd\u591f\u63d0\u9ad8\u6548\u7387\u548c\u8d28\u91cf\u3002\u5305\u62ec\u524d\u671f\u7684\u9700\u6c42\u5206\u6790\u3001\u4e2d\u671f\u7684\u5236\u4f5c\u6267\u884c\u3001\u540e\u671f\u7684\u4f18\u5316\u5b8c\u5584\u3002\u8981\u5efa\u7acb\u6807\u51c6\u5316\u7684\u5de5\u4f5c\u6b65\u9aa4\uff0c\u51cf\u5c11\u91cd\u590d\u52b3\u52a8\u3002\u5408\u7406\u5b89\u6392\u65f6\u95f4\uff0c\u8bbe\u7f6e\u91cc\u7a0b\u7891\u8282\u70b9\u3002\u6d41\u7a0b\u8981\u6839\u636e\u9879\u76ee\u7279\u70b9\u7075\u6d3b\u8c03\u6574\u3002",keyPoints:["\u5305\u62ec\u524d\u671f\u3001\u4e2d\u671f\u3001\u540e\u671f\u4e09\u4e2a\u9636\u6bb5","\u5efa\u7acb\u6807\u51c6\u5316\u5de5\u4f5c\u6b65\u9aa4","\u5408\u7406\u5b89\u6392\u65f6\u95f4\u8282\u70b9","\u6839\u636e\u9879\u76ee\u7279\u70b9\u8c03\u6574"],quiz:[{question:"\u521b\u4f5c\u6d41\u7a0b\u7684\u7b2c\u4e00\u6b65\u662f\u4ec0\u4e48\uff1f",options:["\u5f00\u59cb\u5236\u4f5c","\u9700\u6c42\u5206\u6790","\u540e\u671f\u5904\u7406","\u4f5c\u54c1\u53d1\u5e03"],correct:1,explanation:"\u521b\u4f5c\u6d41\u7a0b\u7684\u7b2c\u4e00\u6b65\u662f\u9700\u6c42\u5206\u6790\uff0c\u660e\u786e\u76ee\u6807\u548c\u8981\u6c42\u3002"}]}},{id:"chapter-6-2",title:"\u6279\u91cf\u751f\u6210\u6280\u5de7",duration:"25\u5206\u949f",content:{introduction:"\u6279\u91cf\u751f\u6210\u80fd\u591f\u5927\u5e45\u63d0\u9ad8\u521b\u4f5c\u6548\u7387\u3002\u8981\u5408\u7406\u8bbe\u7f6e\u6279\u91cf\u53c2\u6570\uff0c\u907f\u514d\u8d44\u6e90\u6d6a\u8d39\u3002\u4f7f\u7528\u4e0d\u540c\u7684\u79cd\u5b50\u503c\u751f\u6210\u591a\u6837\u5316\u7ed3\u679c\uff0c\u901a\u8fc7\u811a\u672c\u81ea\u52a8\u5316\u91cd\u590d\u64cd\u4f5c\u3002\u8981\u6ce8\u610f\u8d28\u91cf\u63a7\u5236\uff0c\u53ca\u65f6\u7b5b\u9009\u4f18\u79c0\u4f5c\u54c1\u3002\u6279\u91cf\u751f\u6210\u9002\u5408\u63a2\u7d22\u521b\u610f\u548c\u98ce\u683c\u5b9e\u9a8c\u3002",keyPoints:["\u5408\u7406\u8bbe\u7f6e\u6279\u91cf\u53c2\u6570","\u4f7f\u7528\u4e0d\u540c\u79cd\u5b50\u503c","\u811a\u672c\u81ea\u52a8\u5316\u64cd\u4f5c","\u6ce8\u610f\u8d28\u91cf\u63a7\u5236"],quiz:[{question:"\u6279\u91cf\u751f\u6210\u7684\u4e3b\u8981\u4f18\u52bf\u662f\u4ec0\u4e48\uff1f",options:["\u63d0\u9ad8\u56fe\u50cf\u8d28\u91cf","\u63d0\u9ad8\u521b\u4f5c\u6548\u7387","\u51cf\u5c11\u5185\u5b58\u4f7f\u7528","\u7b80\u5316\u64cd\u4f5c\u6b65\u9aa4"],correct:1,explanation:"\u6279\u91cf\u751f\u6210\u7684\u4e3b\u8981\u4f18\u52bf\u662f\u63d0\u9ad8\u521b\u4f5c\u6548\u7387\uff0c\u5feb\u901f\u4ea7\u51fa\u591a\u4e2a\u4f5c\u54c1\u3002"}]}},{id:"chapter-6-3",title:"\u540e\u671f\u5904\u7406\u65b9\u6cd5",duration:"20\u5206\u949f",content:{introduction:"\u540e\u671f\u5904\u7406\u80fd\u591f\u8fdb\u4e00\u6b65\u63d0\u5347\u4f5c\u54c1\u8d28\u91cf\u3002\u5305\u62ec\u57fa\u7840\u7684\u4fee\u56fe\u8c03\u8272\uff0c\u9ad8\u7ea7\u7684\u5408\u6210\u7279\u6548\u3002\u8981\u9009\u62e9\u5408\u9002\u7684\u5de5\u5177\uff0c\u638c\u63e1\u57fa\u672c\u64cd\u4f5c\u6280\u5de7\u3002\u540e\u671f\u5904\u7406\u8981\u670d\u52a1\u4e8e\u521b\u4f5c\u76ee\u6807\uff0c\u907f\u514d\u8fc7\u5ea6\u5904\u7406\u3002\u8981\u4fdd\u6301\u539f\u4f5c\u7684\u98ce\u683c\u7279\u70b9\uff0c\u9002\u5ea6\u4f18\u5316\u5373\u53ef\u3002",keyPoints:["\u5305\u62ec\u4fee\u56fe\u8c03\u8272\u548c\u5408\u6210\u7279\u6548","\u9009\u62e9\u5408\u9002\u7684\u5de5\u5177","\u670d\u52a1\u4e8e\u521b\u4f5c\u76ee\u6807","\u9002\u5ea6\u4f18\u5316"],quiz:[{question:"\u540e\u671f\u5904\u7406\u7684\u539f\u5219\u662f\u4ec0\u4e48\uff1f",options:["\u8d8a\u590d\u6742\u8d8a\u597d","\u5b8c\u5168\u6539\u53d8\u539f\u4f5c","\u9002\u5ea6\u4f18\u5316","\u4e0d\u505a\u4efb\u4f55\u5904\u7406"],correct:2,explanation:"\u540e\u671f\u5904\u7406\u7684\u539f\u5219\u662f\u9002\u5ea6\u4f18\u5316\uff0c\u4fdd\u6301\u539f\u4f5c\u98ce\u683c\u7279\u70b9\u3002"}]}},{id:"chapter-6-4",title:"\u4f5c\u54c1\u7ba1\u7406",duration:"10\u5206\u949f",content:{introduction:"\u6709\u6548\u7684\u4f5c\u54c1\u7ba1\u7406\u7cfb\u7edf\u80fd\u591f\u63d0\u9ad8\u5de5\u4f5c\u6548\u7387\u3002\u5305\u62ec\u6587\u4ef6\u547d\u540d\u89c4\u8303\u3001\u5206\u7c7b\u6574\u7406\u65b9\u6cd5\u3001\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u3002\u8981\u5efa\u7acb\u6e05\u6670\u7684\u76ee\u5f55\u7ed3\u6784\uff0c\u4f7f\u7528\u6807\u7b7e\u5206\u7c7b\u3002\u5b9a\u671f\u5907\u4efd\u91cd\u8981\u4f5c\u54c1\uff0c\u8bb0\u5f55\u521b\u4f5c\u53c2\u6570\u3002\u826f\u597d\u7684\u7ba1\u7406\u4e60\u60ef\u662f\u957f\u671f\u521b\u4f5c\u7684\u57fa\u7840\u3002",keyPoints:["\u5efa\u7acb\u6587\u4ef6\u547d\u540d\u89c4\u8303","\u4f7f\u7528\u5206\u7c7b\u6574\u7406\u65b9\u6cd5","\u5b9a\u671f\u5907\u4efd\u91cd\u8981\u4f5c\u54c1","\u8bb0\u5f55\u521b\u4f5c\u53c2\u6570"],quiz:[{question:"\u4f5c\u54c1\u7ba1\u7406\u6700\u91cd\u8981\u7684\u662f\u4ec0\u4e48\uff1f",options:["\u4f7f\u7528\u6602\u8d35\u8f6f\u4ef6","\u5efa\u7acb\u7ba1\u7406\u7cfb\u7edf","\u968f\u610f\u5b58\u653e","\u4e0d\u505a\u5907\u4efd"],correct:1,explanation:"\u4f5c\u54c1\u7ba1\u7406\u6700\u91cd\u8981\u7684\u662f\u5efa\u7acb\u7cfb\u7edf\u5316\u7684\u7ba1\u7406\u65b9\u6cd5\u3002"}]}}]}},zt={TUTORIAL_PROGRESS:"i_prompt_tutorial_progress",CHAPTER_COMPLETION:"i_prompt_chapter_completion",QUIZ_RESULTS:"i_prompt_quiz_results",LEARNING_STATS:"i_prompt_learning_stats",STUDY_TIME:"i_prompt_study_time"};const It=new class{constructor(){this.isSupported=this.checkStorageSupport()}checkStorageSupport(){try{const e="__localStorage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return console.warn("LocalStorage\u4e0d\u652f\u6301\uff0c\u5b66\u4e60\u8fdb\u5ea6\u4e0d\u4f1a\u4fdd\u5b58"),!1}}safeStringify(e){try{return JSON.stringify(e)}catch(t){return console.error("JSON\u5e8f\u5217\u5316\u5931\u8d25:",t),null}}safeParse(e){try{return JSON.parse(e)}catch(t){return console.error("JSON\u89e3\u6790\u5931\u8d25:",t),null}}getTutorialProgress(e){if(!this.isSupported)return null;try{const t=localStorage.getItem(zt.TUTORIAL_PROGRESS);return(t&&this.safeParse(t)||{})[e]||{id:e,status:"not_started",progress:0,currentChapter:null,completedChapters:[],startTime:null,lastAccessTime:null,totalStudyTime:0,quizScores:{}}}catch(t){return console.error("\u83b7\u53d6\u6559\u7a0b\u8fdb\u5ea6\u5931\u8d25:",t),null}}updateTutorialProgress(e,t){if(!this.isSupported)return!1;try{const n=localStorage.getItem(zt.TUTORIAL_PROGRESS),r=n&&this.safeParse(n)||{},a=r[e]||this.getTutorialProgress(e),s=l(l(l({},a),t),{},{lastAccessTime:(new Date).toISOString()});return a.startTime||"in_progress"!==t.status||(s.startTime=(new Date).toISOString()),r[e]=s,localStorage.setItem(zt.TUTORIAL_PROGRESS,this.safeStringify(r)),this.updateLearningStats(),console.log("\u2705 \u6559\u7a0b\u8fdb\u5ea6\u5df2\u66f4\u65b0:",e),!0}catch(n){return console.error("\u66f4\u65b0\u6559\u7a0b\u8fdb\u5ea6\u5931\u8d25:",n),!1}}completeChapter(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getTutorialProgress(e);r.completedChapters.includes(t)||r.completedChapters.push(t),r.totalStudyTime+=n,r.lastAccessTime=(new Date).toISOString();const a=this.getTotalChapters(e);return r.progress=Math.round(r.completedChapters.length/a*100),r.completedChapters.length>=a?r.status="completed":r.status="in_progress",this.updateTutorialProgress(e,r)}recordStudyTime(e,t,n){const r={tutorialId:e,chapterId:t,date:(new Date).toISOString().split("T")[0],timeSpent:n,timestamp:Date.now()};try{const t=localStorage.getItem(zt.STUDY_TIME),a=t&&this.safeParse(t)||[];a.push(r),a.length>100&&a.splice(0,a.length-100),localStorage.setItem(zt.STUDY_TIME,this.safeStringify(a));const s=this.getTutorialProgress(e);return s.totalStudyTime=(s.totalStudyTime||0)+n,this.updateTutorialProgress(e,s),!0}catch(a){return console.error("\u8bb0\u5f55\u5b66\u4e60\u65f6\u95f4\u5931\u8d25:",a),!1}}saveQuizResult(e,t,n){try{var r;const a=localStorage.getItem(zt.QUIZ_RESULTS),s=a&&this.safeParse(a)||{};s[e]||(s[e]={}),s[e][t]={score:n.score,totalQuestions:n.totalQuestions,correctAnswers:n.correctAnswers,answers:n.answers,timeSpent:n.timeSpent,completedAt:(new Date).toISOString(),attempts:((null===(r=s[e][t])||void 0===r?void 0:r.attempts)||0)+1},localStorage.setItem(zt.QUIZ_RESULTS,this.safeStringify(s));const i=this.getTutorialProgress(e);return i.quizScores||(i.quizScores={}),i.quizScores[t]=n.score,this.updateTutorialProgress(e,i),console.log("\u2705 \u6d4b\u9a8c\u7ed3\u679c\u5df2\u4fdd\u5b58:",e,t),!0}catch(a){return console.error("\u4fdd\u5b58\u6d4b\u9a8c\u7ed3\u679c\u5931\u8d25:",a),!1}}getQuizResult(e,t){if(!this.isSupported)return null;try{var n;const r=localStorage.getItem(zt.QUIZ_RESULTS);return(null===(n=(r&&this.safeParse(r)||{})[e])||void 0===n?void 0:n[t])||null}catch(r){return console.error("\u83b7\u53d6\u6d4b\u9a8c\u7ed3\u679c\u5931\u8d25:",r),null}}getAllTutorialProgress(){if(!this.isSupported)return{};try{const e=localStorage.getItem(zt.TUTORIAL_PROGRESS);return e&&this.safeParse(e)||{}}catch(e){return console.error("\u83b7\u53d6\u6240\u6709\u6559\u7a0b\u8fdb\u5ea6\u5931\u8d25:",e),{}}}getLearningStats(){if(!this.isSupported)return null;try{const e=this.getAllTutorialProgress(),t=localStorage.getItem(zt.STUDY_TIME),n=t&&this.safeParse(t)||[],r=Object.keys(e).length,a=Object.values(e).filter((e=>"completed"===e.status)).length,s=Object.values(e).filter((e=>"in_progress"===e.status)).length,i=Object.values(e).reduce(((e,t)=>e+(t.totalStudyTime||0)),0),l=Object.values(e).reduce(((e,t)=>{var n;return e+((null===(n=t.completedChapters)||void 0===n?void 0:n.length)||0)}),0),o=Date.now()-6048e5,c=n.filter((e=>e.timestamp>o)).reduce(((e,t)=>e+t.timeSpent),0),u=localStorage.getItem(zt.QUIZ_RESULTS),d=u&&this.safeParse(u)||{};let h=0,f=0;Object.values(d).forEach((e=>{Object.values(e).forEach((e=>{h+=e.score,f++}))}));const p=f>0?Math.round(h/f):0;return{totalTutorials:r,completedTutorials:a,inProgressTutorials:s,completionRate:r>0?Math.round(a/r*100):0,totalStudyTime:Math.round(i/60),totalChaptersCompleted:l,recentStudyTime:Math.round(c/60),averageQuizScore:p,lastStudyDate:n.length>0?n[n.length-1].date:null,studyStreak:this.calculateStudyStreak(n)}}catch(e){return console.error("\u83b7\u53d6\u5b66\u4e60\u7edf\u8ba1\u5931\u8d25:",e),null}}calculateStudyStreak(e){if(!e||0===e.length)return 0;const t=(new Date).toISOString().split("T")[0],n=[...new Set(e.map((e=>e.date)))].sort().reverse();let r=0,a=new Date(t);for(const s of n){const e=new Date(s),t=Math.floor((a-e)/864e5);if(t===r)r++,a=e;else{if(t!==r+1)break;r++,a=e}}return r}updateLearningStats(){const e=this.getLearningStats();e&&localStorage.setItem(zt.LEARNING_STATS,this.safeStringify(l(l({},e),{},{lastUpdated:(new Date).toISOString()})))}getTotalChapters(e){return{"tutorial-1":4,"tutorial-2":4,"tutorial-3":4,"tutorial-4":4,"tutorial-5":4,"tutorial-6":4}[e]||4}resetTutorialProgress(e){if(!this.isSupported)return!1;try{const t=localStorage.getItem(zt.TUTORIAL_PROGRESS),n=t&&this.safeParse(t)||{};delete n[e],localStorage.setItem(zt.TUTORIAL_PROGRESS,this.safeStringify(n));const r=localStorage.getItem(zt.QUIZ_RESULTS),a=r&&this.safeParse(r)||{};return delete a[e],localStorage.setItem(zt.QUIZ_RESULTS,this.safeStringify(a)),console.log("\u2705 \u6559\u7a0b\u8fdb\u5ea6\u5df2\u91cd\u7f6e:",e),!0}catch(t){return console.error("\u91cd\u7f6e\u6559\u7a0b\u8fdb\u5ea6\u5931\u8d25:",t),!1}}clearAllLearningData(){if(!this.isSupported)return!1;try{return Object.values(zt).forEach((e=>{localStorage.removeItem(e)})),console.log("\u2705 \u6240\u6709\u5b66\u4e60\u6570\u636e\u5df2\u6e05\u9664"),!0}catch(e){return console.error("\u6e05\u9664\u5b66\u4e60\u6570\u636e\u5931\u8d25:",e),!1}}exportLearningData(){if(!this.isSupported)return null;try{return{tutorialProgress:this.getAllTutorialProgress(),quizResults:JSON.parse(localStorage.getItem(zt.QUIZ_RESULTS)||"{}"),studyTimes:JSON.parse(localStorage.getItem(zt.STUDY_TIME)||"[]"),learningStats:this.getLearningStats(),exportDate:(new Date).toISOString(),version:"1.0"}}catch(e){return console.error("\u5bfc\u51fa\u5b66\u4e60\u6570\u636e\u5931\u8d25:",e),null}}importLearningData(e){if(!this.isSupported||!e)return!1;try{return e.tutorialProgress&&localStorage.setItem(zt.TUTORIAL_PROGRESS,this.safeStringify(e.tutorialProgress)),e.quizResults&&localStorage.setItem(zt.QUIZ_RESULTS,this.safeStringify(e.quizResults)),e.studyTimes&&localStorage.setItem(zt.STUDY_TIME,this.safeStringify(e.studyTimes)),this.updateLearningStats(),console.log("\u2705 \u5b66\u4e60\u6570\u636e\u5bfc\u5165\u6210\u529f"),!0}catch(t){return console.error("\u5bfc\u5165\u5b66\u4e60\u6570\u636e\u5931\u8d25:",t),!1}}},{getTutorialProgress:Pt,updateTutorialProgress:Ot,completeChapter:Dt,recordStudyTime:Lt,saveQuizResult:Rt,getQuizResult:Mt,getAllTutorialProgress:Ft,getLearningStats:Ut,resetTutorialProgress:qt,clearAllLearningData:Bt,exportLearningData:Ht,importLearningData:Wt}=It,Gt=u("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Vt=u("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Kt=u("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Zt=u("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),$t=u("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Qt=t=>{var n;let{tutorialId:r,onClose:a}=t;const[s,i]=(0,e.useState)(0),[o,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)({}),[h,f]=(0,e.useState)(!1),[p,m]=(0,e.useState)(0),[g,b]=(0,e.useState)(Date.now()),[y,v]=(0,e.useState)(null),[j,N]=(0,e.useState)(!1),k=At[r];if((0,e.useEffect)((()=>{var e;if(!k)return;const t=It.getTutorialProgress(r);if(v(t),t.currentChapter){const e=k.chapters.findIndex((e=>e.id===t.currentChapter));e>=0&&i(e)}It.updateTutorialProgress(r,{status:"in_progress",currentChapter:null===(e=k.chapters[0])||void 0===e?void 0:e.id}),b(Date.now())}),[r,k]),(0,e.useEffect)((()=>{const e=setInterval((()=>{m((e=>e+1))}),1e3);return()=>clearInterval(e)}),[]),(0,e.useEffect)((()=>{k&&k.chapters[s]&&(It.updateTutorialProgress(r,{currentChapter:k.chapters[s].id}),b(Date.now()))}),[s,r,k]),!k)return(0,ae.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,ae.jsxs)("div",{className:"text-center",children:[(0,ae.jsx)("p",{className:"text-gray-600",children:"\u6559\u7a0b\u5185\u5bb9\u52a0\u8f7d\u5931\u8d25"}),(0,ae.jsx)("button",{onClick:a,className:"mt-4 text-blue-600 hover:text-blue-800",children:"\u8fd4\u56de\u6559\u7a0b\u5217\u8868"})]})});const _=k.chapters[s],C=s>=k.chapters.length-1,E=0===s;return(0,ae.jsxs)(ae.Fragment,{children:[j&&(0,ae.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ae.jsxs)("div",{className:"bg-white rounded-xl max-w-md w-full p-6 text-center",children:[(0,ae.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ae.jsx)(St,{size:32,className:"text-green-600"})}),(0,ae.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"\ud83c\udf89 \u606d\u559c\u5b8c\u6210\uff01"}),(0,ae.jsxs)("p",{className:"text-gray-600 mb-6",children:["\u60a8\u5df2\u6210\u529f\u5b8c\u6210\u300a",k.title,"\u300b\u6559\u7a0b\uff01",(0,ae.jsx)("br",{}),"\u60a8\u7684\u5b66\u4e60\u6210\u679c\u5df2\u4fdd\u5b58\uff0c\u53ef\u4ee5\u7ee7\u7eed\u5b66\u4e60\u5176\u4ed6\u8bfe\u7a0b\u3002"]}),(0,ae.jsxs)("div",{className:"flex gap-3",children:[(0,ae.jsx)("button",{onClick:()=>N(!1),className:"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"\u7ee7\u7eed\u67e5\u770b"}),(0,ae.jsx)("button",{onClick:a,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"\u8fd4\u56de\u6559\u7a0b\u5217\u8868"})]})]})}),(0,ae.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,ae.jsx)("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:(0,ae.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:(0,ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ae.jsxs)("button",{onClick:a,className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors",children:[(0,ae.jsx)(Gt,{size:20}),(0,ae.jsx)("span",{children:"\u8fd4\u56de\u6559\u7a0b\u5217\u8868"})]}),(0,ae.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:k.title}),(0,ae.jsxs)("p",{className:"text-sm text-gray-600",children:["\u7b2c ",s+1," \u7ae0 / \u5171 ",k.chapters.length," \u7ae0"]})]})]}),(0,ae.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ae.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,ae.jsx)(S,{size:16,className:"inline mr-1"}),(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))})(p)]}),(0,ae.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:(0,ae.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:"".concat((s+1)/k.chapters.length*100,"%")}})})]})]})})}),(0,ae.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,ae.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,ae.jsx)("div",{className:"lg:col-span-1",children:(0,ae.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sticky top-24",children:[(0,ae.jsxs)("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[(0,ae.jsx)(x,{size:18,className:"mr-2 text-blue-600"}),"\u8bfe\u7a0b\u5927\u7eb2"]}),(0,ae.jsx)("nav",{className:"space-y-2",children:k.chapters.map(((e,t)=>{var n;const a=null===y||void 0===y||null===(n=y.completedChapters)||void 0===n?void 0:n.includes(e.id),l=t===s;return(0,ae.jsx)("button",{onClick:()=>{const e=Math.floor((Date.now()-g)/1e3);e>5&&s!==t&&It.recordStudyTime(r,_.id,e),i(t),c(!1),d({}),f(!1)},className:"w-full text-left p-3 rounded-lg transition-colors ".concat(l?"bg-blue-50 border border-blue-200 text-blue-800":"hover:bg-gray-50 text-gray-700"),children:(0,ae.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ae.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium ".concat(a?"bg-green-100 text-green-600":l?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-500"),children:a?(0,ae.jsx)(w,{size:14}):t+1}),(0,ae.jsxs)("div",{className:"flex-1",children:[(0,ae.jsx)("div",{className:"font-medium text-sm",children:e.title}),(0,ae.jsx)("div",{className:"text-xs text-gray-500",children:e.duration})]})]})},e.id)}))}),k.objectives&&(0,ae.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[(0,ae.jsxs)("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,ae.jsx)(Vt,{size:16,className:"mr-2 text-green-600"}),"\u5b66\u4e60\u76ee\u6807"]}),(0,ae.jsx)("ul",{className:"space-y-2 text-sm text-gray-600",children:k.objectives.map(((e,t)=>(0,ae.jsxs)("li",{className:"flex items-start gap-2",children:[(0,ae.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2 flex-shrink-0"}),(0,ae.jsx)("span",{children:e})]},t)))})]})]})}),(0,ae.jsxs)("div",{className:"lg:col-span-3",children:[(0,ae.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,ae.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ae.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,ae.jsx)("span",{className:"font-bold text-blue-600",children:s+1})}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:_.title}),(0,ae.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[(0,ae.jsxs)("span",{className:"flex items-center gap-1",children:[(0,ae.jsx)(S,{size:14}),_.duration]}),(0,ae.jsxs)("span",{className:"flex items-center gap-1",children:[(0,ae.jsx)(Kt,{size:14}),"\u7b2c ",s+1," \u7ae0"]})]})]})]}),(null===y||void 0===y||null===(n=y.completedChapters)||void 0===n?void 0:n.includes(_.id))&&(0,ae.jsxs)("div",{className:"flex items-center gap-2 text-green-600",children:[(0,ae.jsx)(w,{size:20}),(0,ae.jsx)("span",{className:"font-medium",children:"\u5df2\u5b8c\u6210"})]})]})}),(0,ae.jsx)("div",{className:"p-6",children:o?(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("div",{className:"mb-6",children:[(0,ae.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-2 flex items-center",children:[(0,ae.jsx)(Zt,{size:24,className:"mr-2 text-green-600"}),"\u7ae0\u8282\u6d4b\u9a8c"]}),(0,ae.jsx)("p",{className:"text-gray-600",children:"\u8bf7\u56de\u7b54\u4ee5\u4e0b\u95ee\u9898\u6765\u6d4b\u8bd5\u60a8\u5bf9\u672c\u7ae0\u5185\u5bb9\u7684\u7406\u89e3\u7a0b\u5ea6"})]}),(0,ae.jsx)("div",{className:"space-y-6",children:_.content.quiz.map(((e,t)=>(0,ae.jsxs)("div",{className:"p-6 bg-gray-50 rounded-lg",children:[(0,ae.jsxs)("h4",{className:"font-medium text-gray-900 mb-4",children:[t+1,". ",e.question]}),(0,ae.jsx)("div",{className:"space-y-3",children:e.options.map(((n,r)=>{const a=u[t]===r,s=r===e.correct,i=h;return(0,ae.jsxs)("label",{className:"flex items-start gap-3 p-3 rounded-lg cursor-pointer transition-colors ".concat(i?s?"bg-green-100 border-green-300":a?"bg-red-100 border-red-300":"bg-white border-gray-200":a?"bg-blue-100 border-blue-300":"bg-white border-gray-200 hover:bg-gray-50"," border"),children:[(0,ae.jsx)("input",{type:"radio",name:"question-".concat(t),value:r,checked:a,onChange:()=>{return e=t,n=r,void d((t=>l(l({},t),{},{[e]:n})));var e,n},disabled:h,className:"mt-1"}),(0,ae.jsx)("span",{className:"flex-1 ".concat(i&&s?"font-medium text-green-800":""),children:n}),i&&s&&(0,ae.jsx)(w,{size:16,className:"text-green-600"})]},r)}))}),h&&(0,ae.jsx)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,ae.jsxs)("p",{className:"text-blue-800 text-sm",children:[(0,ae.jsx)("strong",{children:"\u89e3\u6790\uff1a"}),e.explanation]})})]},t)))}),h?(0,ae.jsx)("div",{className:"mt-6 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:(0,ae.jsxs)("div",{className:"text-center",children:[(0,ae.jsx)(St,{size:32,className:"text-blue-600 mx-auto mb-3"}),(0,ae.jsx)("h4",{className:"text-lg font-bold text-blue-900 mb-2",children:"\u6d4b\u9a8c\u5b8c\u6210\uff01"}),(0,ae.jsxs)("p",{className:"text-blue-800 mb-4",children:["\u60a8\u7684\u5f97\u5206\uff1a",Math.round(Object.values(u).filter(((e,t)=>e===_.content.quiz[t].correct)).length/_.content.quiz.length*100),"\u5206"]}),(0,ae.jsx)("button",{onClick:()=>c(!1),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"\u7ee7\u7eed\u5b66\u4e60"})]})}):(0,ae.jsx)("div",{className:"mt-6 text-center",children:(0,ae.jsx)("button",{onClick:()=>{const e=_.content.quiz;if(!e)return;let t=0;const n={};e.forEach(((e,r)=>{const a=u[r],s=a===e.correct;s&&t++,n[r]={question:e.question,userAnswer:a,correctAnswer:e.correct,isCorrect:s,explanation:e.explanation}}));const a=Math.round(t/e.length*100);It.saveQuizResult(r,_.id,{score:a,totalQuestions:e.length,correctAnswers:t,answers:n,timeSpent:p}),f(!0)},disabled:Object.keys(u).length<_.content.quiz.length,className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"\u63d0\u4ea4\u7b54\u6848"})})]}):(0,ae.jsxs)("div",{className:"prose max-w-none",children:[(0,ae.jsx)("div",{className:"text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:_.content.introduction.replace(/##\s+(.+)/g,'<h2 class="text-xl font-bold text-gray-900 mt-8 mb-4">$1</h2>').replace(/###\s+(.+)/g,'<h3 class="text-lg font-semibold text-gray-800 mt-6 mb-3">$1</h3>').replace(/\*\*(.+?)\*\*/g,'<strong class="font-semibold text-gray-900">$1</strong>').replace(/```([^]+?)```/g,'<pre class="bg-gray-100 p-4 rounded-lg my-4 overflow-x-auto"><code>$1</code></pre>').replace(/`(.+?)`/g,'<code class="bg-gray-100 px-2 py-1 rounded text-sm">$1</code>').replace(/^- (.+)$/gm,'<li class="ml-4">$1</li>').replace(/\n\n/g,'</p><p class="mb-4">').replace(/^(.+)$/gm,'<p class="mb-4">$1</p>')}}),_.content.keyPoints&&(0,ae.jsxs)("div",{className:"mt-8 p-6 bg-blue-50 rounded-lg border border-blue-200",children:[(0,ae.jsxs)("h4",{className:"font-semibold text-blue-900 mb-4 flex items-center",children:[(0,ae.jsx)(yt,{size:18,className:"mr-2"}),"\u672c\u7ae0\u8981\u70b9"]}),(0,ae.jsx)("ul",{className:"space-y-2",children:_.content.keyPoints.map(((e,t)=>(0,ae.jsxs)("li",{className:"flex items-start gap-3 text-blue-800",children:[(0,ae.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,ae.jsx)("span",{className:"text-sm",children:e})]},t)))})]}),_.content.quiz&&(0,ae.jsx)("div",{className:"mt-8 text-center",children:(0,ae.jsxs)("button",{onClick:()=>c(!0),className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 mx-auto",children:[(0,ae.jsx)(Zt,{size:20}),"\u5f00\u59cb\u7ae0\u8282\u6d4b\u9a8c"]})})]})}),(0,ae.jsx)("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:(0,ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ae.jsxs)("button",{onClick:()=>{if(!E){const e=Math.floor((Date.now()-g)/1e3);e>5&&It.recordStudyTime(r,_.id,e),i((e=>e-1)),c(!1),d({}),f(!1)}},disabled:E,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,ae.jsx)(Gt,{size:16}),"\u4e0a\u4e00\u7ae0"]}),(0,ae.jsxs)("div",{className:"text-sm text-gray-600",children:["\u7b2c ",s+1," \u7ae0 / \u5171 ",k.chapters.length," \u7ae0"]}),(0,ae.jsxs)("button",{onClick:()=>{const e=Math.floor((Date.now()-g)/1e3);e>5&&It.recordStudyTime(r,_.id,e),It.completeChapter(r,_.id,e),C?(It.updateTutorialProgress(r,{status:"completed",progress:100,completedAt:(new Date).toISOString()}),N(!0)):(i((e=>e+1)),c(!1),d({}),f(!1))},className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ".concat(C?"bg-green-600 text-white hover:bg-green-700":"bg-blue-600 text-white hover:bg-blue-700"),children:[C?"\u5b8c\u6210\u6559\u7a0b":"\u4e0b\u4e00\u7ae0",(0,ae.jsx)($t,{size:16})]})]})})]}),k.resources&&(0,ae.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,ae.jsxs)("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[(0,ae.jsx)(Ie,{size:18,className:"mr-2 text-purple-600"}),"\u76f8\u5173\u8d44\u6e90"]}),(0,ae.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:k.resources.map(((e,t)=>(0,ae.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"p-4 border border-gray-200 rounded-lg hover:shadow-sm transition-shadow",children:[(0,ae.jsx)("div",{className:"font-medium text-gray-900 mb-1",children:e.title}),(0,ae.jsx)("div",{className:"text-sm text-gray-600 capitalize",children:e.type})]},t)))})]})]})]})})]})]})},Xt=e=>{let{icon:t,title:n,value:r,subtitle:a}=e;return(0,ae.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-gray-200 shadow-sm",children:(0,ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("p",{className:"text-sm text-gray-600",children:n}),(0,ae.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r}),(0,ae.jsx)("p",{className:"text-xs text-gray-500",children:a})]}),(0,ae.jsx)("div",{className:"opacity-80",children:t})]})})},Yt=e=>{var t,n,r,a;let{tutorial:s,progress:i,onStart:l,getLevelColor:o}=e;const c="completed"===(null===i||void 0===i?void 0:i.status),u="in_progress"===(null===i||void 0===i?void 0:i.status),d=(null===i||void 0===i?void 0:i.progress)||0;return(0,ae.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 border border-gray-200 shadow-sm hover:shadow-md transition-all",children:[(0,ae.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,ae.jsxs)("div",{className:"flex-1",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,ae.jsx)("span",{className:"px-3 py-1 text-xs rounded-full ".concat(o(s.level)),children:s.level}),(0,ae.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ae.jsx)(S,{size:14,className:"text-gray-500"}),(0,ae.jsx)("span",{className:"text-sm text-gray-500",children:s.duration})]}),(0,ae.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ae.jsx)(Nt,{size:14,className:"text-yellow-500"}),(0,ae.jsx)("span",{className:"text-sm text-gray-600",children:s.rating})]})]}),(0,ae.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.title}),(0,ae.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:s.description})]})}),(0,ae.jsx)("div",{className:"mb-4",children:(0,ae.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-3",children:[(0,ae.jsxs)("span",{children:["\ud83d\udcda ",(null===(t=s.chapters)||void 0===t?void 0:t.length)||4," \u4e2a\u7ae0\u8282"]}),(0,ae.jsxs)("span",{children:["\ud83c\udfaf ",(null===(n=s.objectives)||void 0===n?void 0:n.length)||4," \u4e2a\u76ee\u6807"]}),s.tags&&(0,ae.jsxs)("span",{children:["\ud83c\udff7\ufe0f ",s.tags.slice(0,2).join(", ")]})]})}),(0,ae.jsxs)("div",{className:"mb-4",children:[(0,ae.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ae.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"\u5b66\u4e60\u8fdb\u5ea6"}),(0,ae.jsxs)("span",{className:"text-sm text-gray-500",children:[d,"%"]})]}),(0,ae.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ae.jsx)("div",{className:"h-2 rounded-full transition-all ".concat(c?"bg-green-500":u?"bg-blue-500":"bg-gray-300"),style:{width:"".concat(d,"%")}})})]}),(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ae.jsx)("div",{className:"flex items-center gap-2",children:c?(0,ae.jsxs)("div",{className:"flex items-center gap-1 text-green-600",children:[(0,ae.jsx)(w,{size:16}),(0,ae.jsx)("span",{className:"text-sm font-medium",children:"\u5df2\u5b8c\u6210"})]}):u?(0,ae.jsxs)("div",{className:"flex items-center gap-1 text-blue-600",children:[(0,ae.jsx)(S,{size:16}),(0,ae.jsx)("span",{className:"text-sm font-medium",children:"\u5b66\u4e60\u4e2d"})]}):(0,ae.jsxs)("div",{className:"flex items-center gap-1 text-gray-500",children:[(0,ae.jsx)(x,{size:16}),(0,ae.jsx)("span",{className:"text-sm font-medium",children:"\u672a\u5f00\u59cb"})]})}),(null===i||void 0===i?void 0:i.totalStudyTime)>0&&(0,ae.jsxs)("div",{className:"text-xs text-gray-500",children:["\u5df2\u5b66\u4e60 ",Math.round(i.totalStudyTime/60)," \u5206\u949f"]})]}),(null===i||void 0===i||null===(r=i.completedChapters)||void 0===r?void 0:r.length)>0&&(0,ae.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[(0,ae.jsx)("div",{className:"text-xs text-blue-800 mb-1",children:"\u7ae0\u8282\u8fdb\u5ea6"}),(0,ae.jsxs)("div",{className:"text-sm text-blue-600",children:["\u5df2\u5b8c\u6210 ",i.completedChapters.length," / ",(null===(a=s.chapters)||void 0===a?void 0:a.length)||4," \u7ae0\u8282"]})]}),(0,ae.jsxs)("div",{className:"flex gap-2",children:[(0,ae.jsxs)("button",{onClick:l,className:"flex-1 bg-indigo-600 text-white py-3 px-4 rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2 font-medium",children:[(0,ae.jsx)(Tt,{size:16}),c?"\u590d\u4e60\u6559\u7a0b":u?"\u7ee7\u7eed\u5b66\u4e60":"\u5f00\u59cb\u5b66\u4e60"]}),c&&(0,ae.jsx)("button",{className:"px-4 py-3 bg-green-100 text-green-600 rounded-lg border border-green-200",title:"\u5df2\u5b8c\u6210",children:(0,ae.jsx)(w,{size:16})})]})]})},Jt=()=>{const[t,n]=(0,e.useState)(null),[r,a]=(0,e.useState)(!1),[s,i]=(0,e.useState)(null),[o,c]=(0,e.useState)({});(0,e.useEffect)((()=>{const e=It.getLearningStats();i(e);const t=It.getAllTutorialProgress();c(t)}),[]);const u=Object.values(At).map((e=>{var t,n;return l(l({},e),{},{progress:(null===(t=o[e.id])||void 0===t?void 0:t.progress)||0,status:(null===(n=o[e.id])||void 0===n?void 0:n.status)||"not_started"})})),d=e=>{switch(e){case"\u65b0\u624b":return"bg-green-100 text-green-800";case"\u521d\u7ea7":return"bg-blue-100 text-blue-800";case"\u8fdb\u9636":return"bg-orange-100 text-orange-800";case"\u9ad8\u7ea7":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},h=()=>{a(!1),n(null);const e=It.getLearningStats();i(e);const t=It.getAllTutorialProgress();c(t)};return r&&t?(0,ae.jsx)(Qt,{tutorialId:t,onClose:h}):(0,ae.jsxs)("div",{className:"space-y-6",children:[(0,ae.jsxs)("div",{className:"text-center mb-8",children:[(0,ae.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center justify-center",children:[(0,ae.jsx)(x,{className:"mr-3 text-indigo-600",size:32}),"AI\u7ed8\u753b\u5b66\u4e60\u6559\u7a0b"]}),(0,ae.jsx)("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"\u4ece\u5165\u95e8\u5230\u7cbe\u901a\u7684AI\u7ed8\u753b\u5b66\u4e60\u8def\u5f84\uff0c\u7cfb\u7edf\u5316\u638c\u63e1AI\u7ed8\u753b\u6280\u80fd\uff0c\u6210\u4e3a\u521b\u4f5c\u9ad8\u624b"}),(0,ae.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-2",children:[(0,ae.jsx)("span",{className:"text-sm bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-3 py-1 rounded-full",children:"\ud83c\udf93 \u5b8c\u6574\u5b66\u4e60\u4f53\u7cfb"}),(0,ae.jsx)("span",{className:"text-sm bg-gradient-to-r from-green-500 to-blue-500 text-white px-3 py-1 rounded-full",children:"\ud83d\udcca \u667a\u80fd\u8fdb\u5ea6\u8ddf\u8e2a"})]})]}),(0,ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,ae.jsx)(Xt,{icon:(0,ae.jsx)(x,{className:"text-indigo-600",size:24}),title:"\u8bfe\u7a0b\u603b\u6570",value:u.length,subtitle:"\u4e2a\u6559\u7a0b"}),(0,ae.jsx)(Xt,{icon:(0,ae.jsx)(w,{className:"text-green-600",size:24}),title:"\u5df2\u5b8c\u6210",value:(null===s||void 0===s?void 0:s.completedTutorials)||0,subtitle:"\u4e2a\u8bfe\u7a0b"}),(0,ae.jsx)(Xt,{icon:(0,ae.jsx)(S,{className:"text-orange-600",size:24}),title:"\u5b66\u4e60\u65f6\u957f",value:(null===s||void 0===s?void 0:s.totalStudyTime)||0,subtitle:"\u5c0f\u65f6"}),(0,ae.jsx)(Xt,{icon:(0,ae.jsx)(St,{className:"text-yellow-600",size:24}),title:"\u5b8c\u6210\u7387",value:(null===s||void 0===s?void 0:s.completionRate)||0,subtitle:"%"})]}),s&&(0,ae.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200 mb-8",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ae.jsxs)("h3",{className:"text-lg font-semibold text-blue-900 flex items-center",children:[(0,ae.jsx)(Ct,{className:"mr-2",size:20}),"\u5b66\u4e60\u6982\u89c8"]}),(0,ae.jsxs)("div",{className:"flex items-center gap-4 text-sm text-blue-700",children:[s.studyStreak>0&&(0,ae.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ae.jsx)(Et,{size:14}),(0,ae.jsxs)("span",{children:["\u8fde\u7eed\u5b66\u4e60 ",s.studyStreak," \u5929"]})]}),s.averageQuizScore>0&&(0,ae.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ae.jsx)(St,{size:14}),(0,ae.jsxs)("span",{children:["\u5e73\u5747\u5206\u6570 ",s.averageQuizScore," \u5206"]})]})]})]}),(0,ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,ae.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-blue-100",children:[(0,ae.jsx)("div",{className:"text-blue-600 font-medium mb-1",children:"\u8fdb\u884c\u4e2d\u7684\u6559\u7a0b"}),(0,ae.jsx)("div",{className:"text-2xl font-bold text-blue-800",children:s.inProgressTutorials})]}),(0,ae.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-blue-100",children:[(0,ae.jsx)("div",{className:"text-blue-600 font-medium mb-1",children:"\u5df2\u5b8c\u6210\u7ae0\u8282"}),(0,ae.jsx)("div",{className:"text-2xl font-bold text-blue-800",children:s.totalChaptersCompleted})]}),(0,ae.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-blue-100",children:[(0,ae.jsx)("div",{className:"text-blue-600 font-medium mb-1",children:"\u672c\u5468\u5b66\u4e60"}),(0,ae.jsxs)("div",{className:"text-2xl font-bold text-blue-800",children:[s.recentStudyTime,"h"]})]})]})]}),(0,ae.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:u.map((e=>(0,ae.jsx)(Yt,{tutorial:e,progress:o[e.id],onStart:()=>{return t=e.id,n(t),void a(!0);var t},getLevelColor:d},e.id)))})]})},en={localApiUrl:"https://i-prompt-api.vercel.app/api",models:[{id:"SmilingWolf/wd-swinv2-tagger-v3",name:"wd-swinv2-tagger-v3 (\u63a8\u8350)",description:"SwinV2\u67b6\u6784\uff0c\u5e73\u8861\u6027\u80fd\u4e0e\u51c6\u786e\u5ea6",version:"v3",recommended:!0},{id:"SmilingWolf/wd-convnext-tagger-v3",name:"wd-convnext-tagger-v3",description:"ConvNeXt\u67b6\u6784\uff0c\u9ad8\u51c6\u786e\u5ea6",version:"v3",recommended:!1},{id:"SmilingWolf/wd-vit-tagger-v3",name:"wd-vit-tagger-v3",description:"Vision Transformer\u67b6\u6784",version:"v3",recommended:!1},{id:"SmilingWolf/wd-vit-large-tagger-v3",name:"wd-vit-large-tagger-v3",description:"\u5927\u578bViT\u6a21\u578b\uff0c\u6700\u9ad8\u51c6\u786e\u5ea6",version:"v3",recommended:!1},{id:"SmilingWolf/wd-eva02-large-tagger-v3",name:"wd-eva02-large-tagger-v3",description:"EVA02\u67b6\u6784\uff0c\u6700\u65b0\u6a21\u578b",version:"v3",recommended:!1},{id:"SmilingWolf/wd-v1-4-moat-tagger-v2",name:"wd-v1-4-moat-tagger-v2",description:"MOAT\u67b6\u6784\uff0cv2\u7248\u672c",version:"v2",recommended:!1},{id:"SmilingWolf/wd-v1-4-swinv2-tagger-v2",name:"wd-v1-4-swinv2-tagger-v2",description:"SwinV2\u67b6\u6784\uff0cv2\u7248\u672c",version:"v2",recommended:!1},{id:"SmilingWolf/wd-v1-4-convnext-tagger-v2",name:"wd-v1-4-convnext-tagger-v2",description:"ConvNeXt\u67b6\u6784\uff0cv2\u7248\u672c",version:"v2",recommended:!1},{id:"SmilingWolf/wd-v1-4-convnextv2-tagger-v2",name:"wd-v1-4-convnextv2-tagger-v2",description:"ConvNeXtV2\u67b6\u6784\uff0cv2\u7248\u672c",version:"v2",recommended:!1},{id:"SmilingWolf/wd-v1-4-vit-tagger-v2",name:"wd-v1-4-vit-tagger-v2",description:"Vision Transformer\uff0cv2\u7248\u672c",version:"v2",recommended:!1},{id:"deepghs/idolsankaku-swinv2-tagger-v1",name:"idolsankaku-swinv2-tagger-v1",description:"\u4e13\u95e8\u9488\u5bf9\u5076\u50cf\u548c\u89d2\u8272\u7684\u6a21\u578b",version:"v1",recommended:!1},{id:"deepghs/idolsankaku-eva02-large-tagger-v1",name:"idolsankaku-eva02-large-tagger-v1",description:"\u5927\u578b\u5076\u50cf\u89d2\u8272\u8bc6\u522b\u6a21\u578b",version:"v1",recommended:!1}],defaultModel:"SmilingWolf/wd-swinv2-tagger-v3",timeout:12e4,maxFileSize:10485760,supportedFormats:["image/jpeg","image/png","image/webp","image/gif"]},tn=()=>en.models.map((e=>({id:e.id,name:e.id.split("/")[1]||e.id,fullName:e.id,displayName:e.name,description:e.description,recommended:e.recommended}))),nn=e=>{const t=[];return e?(en.supportedFormats.includes(e.type)||t.push("\u4e0d\u652f\u6301\u7684\u56fe\u50cf\u683c\u5f0f\uff0c\u8bf7\u4f7f\u7528 JPG\u3001PNG\u3001WebP \u683c\u5f0f"),e.size>en.maxFileSize&&t.push("\u56fe\u50cf\u6587\u4ef6\u8fc7\u5927\uff0c\u8bf7\u4f7f\u7528\u5c0f\u4e8e10MB\u7684\u56fe\u50cf"),{isValid:0===t.length,errors:t}):(t.push("\u8bf7\u9009\u62e9\u56fe\u50cf\u6587\u4ef6"),{isValid:!1,errors:t})},rn=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log("\ud83d\uddbc\ufe0f [imageTaggingService] \u5f00\u59cb\u56fe\u50cf\u6807\u7b7e\u8bc6\u522b");try{var n,r,a,s,i;const l=nn(e);if(!l.isValid)throw new Error(l.errors.join(", "));console.log("\ud83d\udd0d \u68c0\u67e5\u672c\u5730Python\u540e\u7aef\u72b6\u6001...");const o=await(async()=>{try{const e=await fetch("".concat(en.localApiUrl,"/health"),{method:"GET",signal:AbortSignal.timeout(6e4)});if(e.ok){const t=await e.json();return console.log("\u2705 Python\u540e\u7aef\u8fde\u63a5\u6b63\u5e38:",t),!0}return console.log("\u26a0\ufe0f Python\u540e\u7aef\u54cd\u5e94\u5f02\u5e38:",e.status),!1}catch(e){return console.log("\u274c Python\u540e\u7aef\u8fde\u63a5\u5931\u8d25:",e.message),!1}})();if(!o)throw new Error("\u672c\u5730Python\u540e\u7aef\u4e0d\u53ef\u7528\uff0c\u8bf7\u786e\u4fdd\u5df2\u542f\u52a8 python server.py");console.log("\ud83d\udc0d \u4f7f\u7528\u672c\u5730Python\u540e\u7aef...");const c=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{model:n=en.defaultModel,generalThresh:r=.35,generalMcut:a=!1,characterThresh:s=.85,characterMcut:i=!1}=t;console.log("\ud83d\udc0d \u8c03\u7528\u672c\u5730Python\u540e\u7aef..."),console.log("\ud83e\udd16 \u6a21\u578b: ".concat(n)),console.log("\u2699\ufe0f \u53c2\u6570: \u4e00\u822c\u9608\u503c=".concat(r,", \u89d2\u8272\u9608\u503c=").concat(s));try{const t=new FormData;t.append("image",e),t.append("model_repo",n),t.append("general_thresh",r),t.append("general_mcut_enabled",a),t.append("character_thresh",s),t.append("character_mcut_enabled",i);const l=await fetch("".concat(en.localApiUrl,"/wd-tagger"),{method:"POST",body:t,signal:AbortSignal.timeout(en.timeout)});if(l.ok){const e=await l.json();return console.log("\u2705 \u672c\u5730\u540e\u7aef\u8c03\u7528\u6210\u529f"),e}{const e=await l.json();throw new Error(e.error||"HTTP ".concat(l.status))}}catch(l){throw console.error("\u274c \u672c\u5730\u540e\u7aef\u8c03\u7528\u5931\u8d25:",l),new Error("\u672c\u5730\u540e\u7aef\u8c03\u7528\u5931\u8d25: ".concat(l.message))}}(e,t);if(!c||!c.success)return{success:!1,error:(null===c||void 0===c?void 0:c.error)||"\u8bc6\u522b\u5931\u8d25",totalTags:0,tags:[]};const u=an(c.data),d=((null===(n=u.general)||void 0===n?void 0:n.length)||0)+((null===(r=u.character)||void 0===r?void 0:r.length)||0)+((null===(a=u.copyright)||void 0===a?void 0:a.length)||0)+((null===(s=u.artist)||void 0===s?void 0:s.length)||0)+((null===(i=u.meta)||void 0===i?void 0:i.length)||0);return console.log("\u2705 \u6210\u529f\u8bc6\u522b\u5230 ".concat(d," \u4e2a\u6807\u7b7e")),{success:!0,data:u,totalTags:d,modelUsed:t.model||en.defaultModel,processingTime:Date.now(),source:"local-backend"}}catch(l){return console.error("\u274c \u56fe\u50cf\u6807\u7b7e\u8bc6\u522b\u5931\u8d25:",l),{success:!1,error:l.message,suggestions:["\u786e\u4fdd\u672c\u5730Python\u540e\u7aef\u5df2\u542f\u52a8 (python server.py)","\u68c0\u67e5Python\u4f9d\u8d56\u662f\u5426\u5b89\u88c5 (pip install -r requirements.txt)","\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5\u5230Hugging Face"],totalTags:0,tags:[]}}},an=e=>{const t=l({},e);return t.general&&(t.general=t.general.map((e=>l(l({},e),{},{category:"general"})))),t.character&&(t.character=t.character.map((e=>l(l({},e),{},{category:"character"})))),t.copyright&&(t.copyright=t.copyright.map((e=>l(l({},e),{},{category:"copyright"})))),t.artist&&(t.artist=t.artist.map((e=>l(l({},e),{},{category:"artist"})))),t.meta&&(t.meta=t.meta.map((e=>l(l({},e),{},{category:"meta"})))),t},sn=()=>{var t,n,r,a,s,i;const{notifySuccess:l,notifyError:o,showWarning:c,showInfo:u}=ue(),[d,h]=(0,e.useState)(null),[f,g]=(0,e.useState)(null),[x,v]=(0,e.useState)(!1),[N,k]=(0,e.useState)(null),[_,S]=(0,e.useState)(!1),[C,E]=(0,e.useState)(.3),[T,z]=(0,e.useState)(20),[I,P]=(0,e.useState)([]),[O,D]=(0,e.useState)(""),[L,R]=(0,e.useState)("SmilingWolf/wd-swinv2-tagger-v3"),[M,F]=(0,e.useState)(.35),[U,q]=(0,e.useState)(.85),[B,H]=(0,e.useState)(!1),W=(0,e.useRef)(null),G=(0,e.useRef)(0),[V,K]=(0,e.useState)(!1),Z=tn(),$=(0,e.useCallback)((e=>{const t=nn(e);if(!t.isValid)return void o("validation",t.errors.join(", "));h(e),k(null),P([]);const n=new FileReader;n.onload=e=>g(e.target.result),n.readAsDataURL(e),l("upload","\u56fe\u50cf\u5df2\u52a0\u8f7d: ".concat(e.name))}),[o,l]),Q=async e=>{try{await A(e||X()),D("copied"),l("copy","\u63d0\u793a\u8bcd\u5df2\u590d\u5236\u5230\u526a\u8d34\u677f"),setTimeout((()=>D("")),2e3)}catch(t){D("error"),o("copy","\u590d\u5236\u5931\u8d25"),setTimeout((()=>D("")),2e3)}},X=()=>N&&0!==I.length?I.join(", "):"",Y=e=>{P((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))},J=(()=>{if(!N||!N.data)return[];return[...N.data.general||[],...N.data.character||[],...N.data.copyright||[],...N.data.artist||[],...N.data.meta||[]].filter((e=>e.confidence>=C)).sort(((e,t)=>t.confidence-e.confidence)).slice(0,_?void 0:T)})(),ee=X();return(0,ae.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50",children:[(0,ae.jsx)("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 px-6 py-4",children:(0,ae.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,ae.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 mb-2 flex items-center",children:[(0,ae.jsx)(m,{className:"text-purple-600 mr-2",size:28}),"AI\u56fe\u50cf\u53cd\u63a8"]}),(0,ae.jsx)("p",{className:"text-gray-600 text-sm",children:"\u57fa\u4e8eWaifuDiffusion\u7684\u4e13\u4e1a\u56fe\u50cf\u6807\u7b7e\u8bc6\u522b\uff0c\u652f\u6301\u591a\u79cd\u6a21\u578b\u548c\u7cbe\u51c6\u53c2\u6570\u8c03\u8282"})]}),(0,ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ae.jsxs)("div",{className:"text-right",children:[(0,ae.jsx)("div",{className:"text-xs text-gray-500",children:"wd-tagger v3"}),(0,ae.jsx)("div",{className:"text-sm font-semibold text-purple-600",children:"\u591a\u6a21\u578b\u652f\u6301"})]}),(0,ae.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-lg flex items-center justify-center",children:(0,ae.jsx)(m,{className:"text-white",size:20})})]})]})})}),(0,ae.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,ae.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[(0,ae.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,ae.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[(0,ae.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,ae.jsx)(Je,{className:"text-purple-600 mr-2",size:20}),"\u56fe\u50cf\u4e0a\u4f20"]}),(0,ae.jsx)("div",{className:"border-2 border-dashed rounded-xl p-6 text-center transition-all ".concat(V?"border-purple-500 bg-purple-50":"border-gray-300 hover:border-purple-400 hover:bg-purple-50"),onDragEnter:e=>{e.preventDefault(),G.current++,K(!0)},onDragLeave:e=>{e.preventDefault(),G.current--,0===G.current&&K(!1)},onDragOver:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault(),K(!1),G.current=0;const t=e.dataTransfer.files;t.length>0&&$(t[0])},children:f?(0,ae.jsxs)("div",{className:"space-y-4",children:[(0,ae.jsx)("img",{src:f,alt:"\u4e0a\u4f20\u7684\u56fe\u50cf",className:"max-h-48 mx-auto rounded-lg shadow-md"}),(0,ae.jsxs)("div",{className:"text-sm text-gray-600",children:[null===d||void 0===d?void 0:d.name," (",((null===d||void 0===d?void 0:d.size)/1024/1024).toFixed(2)," MB)"]}),(0,ae.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,ae.jsx)("button",{onClick:()=>{var e;return null===(e=W.current)||void 0===e?void 0:e.click()},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"\u66f4\u6362\u56fe\u50cf"}),(0,ae.jsxs)("button",{onClick:async()=>{if(d){v(!0);try{u("\u6b63\u5728\u8c03\u7528WD-Tagger AI\u6a21\u578b\u5206\u6790\u56fe\u50cf... (\u6a21\u578b: ".concat(L.split("/")[1],")"));const e=await rn(d,{model:L,generalThresh:M,characterThresh:U});if(e.success){k(e),l("analyze","\u2705 \u6210\u529f\u8bc6\u522b\u5230 ".concat(e.totalTags," \u4e2a\u6807\u7b7e"));const t=[...e.data.general||[],...e.data.character||[],...e.data.copyright||[],...e.data.artist||[],...e.data.meta||[]].sort(((e,t)=>t.confidence-e.confidence)).filter((e=>e.confidence>=Math.max(M,.5))).slice(0,12);P(t.map((e=>e.tag)))}else{let t=e.error;e.suggestions&&e.suggestions.length>0&&(t+="\n\n\u89e3\u51b3\u5efa\u8bae\uff1a\n"+e.suggestions.map(((e,t)=>"".concat(t+1,". ").concat(e))).join("\n")),o("analyze",t),e.technicalError&&e.technicalError!==e.error&&console.log("\u6280\u672f\u9519\u8bef\u8be6\u60c5:",e.technicalError)}}catch(e){console.error("\u56fe\u50cf\u5206\u6790\u51fa\u9519:",e),o("analyze","\u56fe\u50cf\u5206\u6790\u5931\u8d25: ".concat(e.message))}finally{v(!1)}}else c("\u8bf7\u5148\u9009\u62e9\u8981\u5206\u6790\u7684\u56fe\u50cf")},disabled:x,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 text-sm",children:[x?(0,ae.jsx)(pe,{size:16,className:"animate-spin"}):(0,ae.jsx)(fe,{size:16}),x?"\u5206\u6790\u4e2d...":"\u5f00\u59cb\u5206\u6790"]})]})]}):(0,ae.jsxs)("div",{className:"space-y-4",children:[(0,ae.jsx)(wt,{className:"mx-auto text-gray-400",size:48}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"\u62d6\u62fd\u56fe\u50cf\u5230\u6b64\u5904\u6216\u70b9\u51fb\u4e0a\u4f20"}),(0,ae.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"\u652f\u6301 JPG\u3001PNG\u3001WebP \u683c\u5f0f\uff0c\u6700\u5927 10MB"}),(0,ae.jsx)("button",{onClick:()=>{var e;return null===(e=W.current)||void 0===e?void 0:e.click()},className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"\u9009\u62e9\u56fe\u50cf\u6587\u4ef6"})]})]})}),(0,ae.jsx)("input",{ref:W,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&$(t)},className:"hidden"})]}),d&&(0,ae.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ae.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,ae.jsx)(p,{className:"text-purple-600 mr-2",size:20}),"\u6a21\u578b\u914d\u7f6e"]}),(0,ae.jsxs)("button",{onClick:()=>H(!B),className:"flex items-center gap-2 px-3 py-1 text-sm text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",children:["\u9ad8\u7ea7\u8bbe\u7f6e",(0,ae.jsx)(Ke,{size:16,className:"transition-transform ".concat(B?"rotate-180":"")})]})]}),(0,ae.jsxs)("div",{className:"space-y-4",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u9009\u62e9\u6a21\u578b"}),(0,ae.jsx)("select",{value:L,onChange:e=>R(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm",children:Z.map((e=>(0,ae.jsx)("option",{value:e.id,children:e.name},e.id)))}),(null===(t=Z.find((e=>e.id===L)))||void 0===t?void 0:t.description)&&(0,ae.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:Z.find((e=>e.id===L)).description})]}),(0,ae.jsxs)("div",{className:"space-y-4",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["\u901a\u7528\u6807\u7b7e\u9608\u503c: ",(100*M).toFixed(0),"%"]}),(0,ae.jsx)("input",{type:"range",min:"0.1",max:"0.9",step:"0.05",value:M,onChange:e=>F(parseFloat(e.target.value)),className:"w-full"}),(0,ae.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,ae.jsx)("span",{children:"\u4fdd\u5b88"}),(0,ae.jsx)("span",{children:"\u6fc0\u8fdb"})]})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["\u89d2\u8272\u6807\u7b7e\u9608\u503c: ",(100*U).toFixed(0),"%"]}),(0,ae.jsx)("input",{type:"range",min:"0.1",max:"0.99",step:"0.05",value:U,onChange:e=>q(parseFloat(e.target.value)),className:"w-full"}),(0,ae.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,ae.jsx)("span",{children:"\u5bbd\u677e"}),(0,ae.jsx)("span",{children:"\u4e25\u683c"})]})]})]}),B&&(0,ae.jsxs)("div",{className:"border-t border-gray-200 pt-4 space-y-4",children:[(0,ae.jsx)("h4",{className:"text-md font-medium text-gray-900",children:"\u9ad8\u7ea7\u8bbe\u7f6e"}),(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["\u663e\u793a\u7f6e\u4fe1\u5ea6\u9608\u503c: ",(100*C).toFixed(0),"%"]}),(0,ae.jsx)("input",{type:"range",min:"0.1",max:"0.9",step:"0.1",value:C,onChange:e=>E(parseFloat(e.target.value)),className:"w-full"}),(0,ae.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\u63a7\u5236\u7ed3\u679c\u663e\u793a\u7684\u6700\u4f4e\u7f6e\u4fe1\u5ea6"})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["\u6700\u5927\u663e\u793a\u6807\u7b7e\u6570: ",T]}),(0,ae.jsx)("input",{type:"range",min:"10",max:"100",step:"5",value:T,onChange:e=>z(parseInt(e.target.value)),className:"w-full"}),(0,ae.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\u9650\u5236\u663e\u793a\u7684\u6807\u7b7e\u6570\u91cf"})]}),(0,ae.jsx)("div",{children:(0,ae.jsxs)("button",{onClick:()=>S(!_),className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-colors text-sm ".concat(_?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[_?(0,ae.jsx)(Ae,{size:16}):(0,ae.jsx)(ze,{size:16}),_?"\u9690\u85cf\u4f4e\u5206\u6807\u7b7e":"\u663e\u793a\u6240\u6709\u6807\u7b7e"]})})]})]})]}),(0,ae.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:(0,ae.jsxs)("div",{className:"flex items-start gap-3",children:[(0,ae.jsx)(y,{className:"text-blue-600 mt-0.5",size:20}),(0,ae.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,ae.jsx)("p",{className:"font-medium mb-1",children:"\u670d\u52a1\u8bf4\u660e & \u6545\u969c\u6392\u9664"}),(0,ae.jsxs)("div",{className:"space-y-2",children:[(0,ae.jsx)("p",{children:"\u672c\u529f\u80fd\u4f7f\u7528\u672c\u5730Python\u540e\u7aef + Hugging Face wd-tagger\u670d\u52a1"}),(0,ae.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[(0,ae.jsxs)("li",{children:[(0,ae.jsx)("strong",{children:"\u672c\u5730\u540e\u7aef\u672a\u542f\u52a8\uff1a"})," \u8bf7\u5148\u8fd0\u884c ",(0,ae.jsx)("code",{className:"bg-blue-100 px-1 rounded",children:"python server.py"})]}),(0,ae.jsxs)("li",{children:[(0,ae.jsx)("strong",{children:"\u9996\u6b21\u4f7f\u7528\u8f83\u6162\uff1a"})," \u670d\u52a1\u9700\u898130-60\u79d2\u542f\u52a8\u65f6\u95f4"]}),(0,ae.jsxs)("li",{children:[(0,ae.jsx)("strong",{children:"443/\u8fde\u63a5\u9519\u8bef\uff1a"})," \u5efa\u8bae\u4f7f\u7528VPN\u6216\u5207\u6362\u7f51\u7edc\u73af\u5883"]})]})]})]})]})})]}),(0,ae.jsxs)("div",{className:"lg:col-span-3 space-y-6",children:[N&&(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[(0,ae.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,ae.jsx)(Ct,{className:"text-purple-600 mr-2",size:20}),"\u8bc6\u522b\u7ed3\u679c\u7edf\u8ba1"]}),(0,ae.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,ae.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[(0,ae.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:N.totalTags}),(0,ae.jsx)("div",{className:"text-sm text-gray-600",children:"\u8bc6\u522b\u6807\u7b7e"})]}),(0,ae.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[(0,ae.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:J.length}),(0,ae.jsx)("div",{className:"text-sm text-gray-600",children:"\u8fc7\u6ee4\u540e"})]}),(0,ae.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[(0,ae.jsx)("div",{className:"text-2xl font-bold text-green-600",children:I.length}),(0,ae.jsx)("div",{className:"text-sm text-gray-600",children:"\u5df2\u9009\u62e9"})]}),(0,ae.jsxs)("div",{className:"bg-orange-50 rounded-lg p-4 text-center",children:[(0,ae.jsxs)("div",{className:"text-2xl font-bold text-orange-600",children:[J.length>0?(100*J[0].confidence).toFixed(1):0,"%"]}),(0,ae.jsx)("div",{className:"text-sm text-gray-600",children:"\u6700\u9ad8\u7f6e\u4fe1\u5ea6"})]})]}),(0,ae.jsx)("div",{className:"text-sm text-gray-600 border-t border-gray-200 pt-4",children:(0,ae.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,ae.jsxs)("span",{children:["\u6a21\u578b: ",(0,ae.jsx)("strong",{children:L.split("/")[1]})]}),(0,ae.jsxs)("span",{children:["\u901a\u7528\u9608\u503c: ",(0,ae.jsxs)("strong",{children:[(100*M).toFixed(0),"%"]})]}),(0,ae.jsxs)("span",{children:["\u89d2\u8272\u9608\u503c: ",(0,ae.jsxs)("strong",{children:[(100*U).toFixed(0),"%"]})]})]})})]}),(0,ae.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ae.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,ae.jsx)(we,{className:"text-purple-600 mr-2",size:20}),"\u6807\u7b7e\u9009\u62e9 (",J.length," \u4e2a\u53ef\u7528)"]}),(0,ae.jsxs)("div",{className:"flex gap-2",children:[(0,ae.jsx)("button",{onClick:()=>P(J.map((e=>e.tag))),className:"px-3 py-1 text-sm bg-purple-100 text-purple-700 rounded hover:bg-purple-200 transition-colors",children:"\u5168\u9009"}),(0,ae.jsx)("button",{onClick:()=>P([]),className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"\u6e05\u7a7a"}),(0,ae.jsxs)("button",{onClick:()=>Q(J.map((e=>e.tag)).join(", ")),className:"px-3 py-1 text-sm bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors flex items-center gap-1",children:[(0,ae.jsx)(j,{size:14}),"\u590d\u5236\u5168\u90e8"]})]})]}),(0,ae.jsxs)("div",{className:"space-y-6 max-h-96 overflow-y-auto",children:[(null===N||void 0===N||null===(n=N.data)||void 0===n?void 0:n.general)&&N.data.general.length>0&&(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ae.jsxs)("h4",{className:"text-sm font-medium text-gray-700 flex items-center",children:[(0,ae.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded mr-2"}),"General (",N.data.general.filter((e=>e.confidence>=C)).length,")"]}),(0,ae.jsxs)("button",{onClick:()=>Q(N.data.general.filter((e=>e.confidence>=C)).map((e=>e.tag)).join(", ")),className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[(0,ae.jsx)(j,{size:12}),"\u590d\u5236"]})]}),(0,ae.jsx)("div",{className:"flex flex-wrap gap-2",children:N.data.general.filter((e=>e.confidence>=C)).sort(((e,t)=>t.confidence-e.confidence)).slice(0,_?void 0:T).map(((e,t)=>{const n=I.includes(e.tag),r=(100*e.confidence).toFixed(1);return(0,ae.jsxs)("button",{onClick:()=>Y(e.tag),className:"inline-flex items-center px-3 py-1 rounded-full text-sm transition-all ".concat(n?"bg-blue-500 text-white shadow-md":"bg-blue-50 text-blue-700 hover:bg-blue-100 border border-blue-200"),children:[(0,ae.jsx)("span",{className:"font-medium",children:e.tag}),(0,ae.jsxs)("span",{className:"ml-2 text-xs ".concat(n?"text-blue-100":"text-blue-500"),children:[r,"%"]}),n&&(0,ae.jsx)(w,{size:14,className:"ml-1"})]},t)}))})]}),(null===N||void 0===N||null===(r=N.data)||void 0===r?void 0:r.character)&&N.data.character.length>0&&(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ae.jsxs)("h4",{className:"text-sm font-medium text-gray-700 flex items-center",children:[(0,ae.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded mr-2"}),"Character (",N.data.character.filter((e=>e.confidence>=C)).length,")"]}),(0,ae.jsxs)("button",{onClick:()=>Q(N.data.character.filter((e=>e.confidence>=C)).map((e=>e.tag)).join(", ")),className:"text-xs text-purple-600 hover:text-purple-800 flex items-center gap-1",children:[(0,ae.jsx)(j,{size:12}),"\u590d\u5236"]})]}),(0,ae.jsx)("div",{className:"flex flex-wrap gap-2",children:N.data.character.filter((e=>e.confidence>=C)).sort(((e,t)=>t.confidence-e.confidence)).map(((e,t)=>{const n=I.includes(e.tag),r=(100*e.confidence).toFixed(1);return(0,ae.jsxs)("button",{onClick:()=>Y(e.tag),className:"inline-flex items-center px-3 py-1 rounded-full text-sm transition-all ".concat(n?"bg-purple-500 text-white shadow-md":"bg-purple-50 text-purple-700 hover:bg-purple-100 border border-purple-200"),children:[(0,ae.jsx)("span",{className:"font-medium",children:e.tag}),(0,ae.jsxs)("span",{className:"ml-2 text-xs ".concat(n?"text-purple-100":"text-purple-500"),children:[r,"%"]}),n&&(0,ae.jsx)(w,{size:14,className:"ml-1"})]},t)}))})]}),(null===N||void 0===N||null===(a=N.data)||void 0===a?void 0:a.copyright)&&N.data.copyright.length>0&&(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ae.jsxs)("h4",{className:"text-sm font-medium text-gray-700 flex items-center",children:[(0,ae.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded mr-2"}),"Copyright (",N.data.copyright.length,")"]}),(0,ae.jsxs)("button",{onClick:()=>Q(N.data.copyright.map((e=>e.tag)).join(", ")),className:"text-xs text-green-600 hover:text-green-800 flex items-center gap-1",children:[(0,ae.jsx)(j,{size:12}),"\u590d\u5236"]})]}),(0,ae.jsx)("div",{className:"flex flex-wrap gap-2",children:N.data.copyright.map(((e,t)=>{const n=I.includes(e.tag),r=(100*e.confidence).toFixed(1);return(0,ae.jsxs)("button",{onClick:()=>Y(e.tag),className:"inline-flex items-center px-3 py-1 rounded-full text-sm transition-all ".concat(n?"bg-green-500 text-white shadow-md":"bg-green-50 text-green-700 hover:bg-green-100 border border-green-200"),children:[(0,ae.jsx)("span",{className:"font-medium",children:e.tag}),(0,ae.jsxs)("span",{className:"ml-2 text-xs ".concat(n?"text-green-100":"text-green-500"),children:[r,"%"]}),n&&(0,ae.jsx)(w,{size:14,className:"ml-1"})]},t)}))})]}),(null===N||void 0===N||null===(s=N.data)||void 0===s?void 0:s.artist)&&N.data.artist.length>0&&(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ae.jsxs)("h4",{className:"text-sm font-medium text-gray-700 flex items-center",children:[(0,ae.jsx)("div",{className:"w-3 h-3 bg-orange-500 rounded mr-2"}),"Artist (",N.data.artist.length,")"]}),(0,ae.jsxs)("button",{onClick:()=>Q(N.data.artist.map((e=>e.tag)).join(", ")),className:"text-xs text-orange-600 hover:text-orange-800 flex items-center gap-1",children:[(0,ae.jsx)(j,{size:12}),"\u590d\u5236"]})]}),(0,ae.jsx)("div",{className:"flex flex-wrap gap-2",children:N.data.artist.map(((e,t)=>{const n=I.includes(e.tag),r=(100*e.confidence).toFixed(1);return(0,ae.jsxs)("button",{onClick:()=>Y(e.tag),className:"inline-flex items-center px-3 py-1 rounded-full text-sm transition-all ".concat(n?"bg-orange-500 text-white shadow-md":"bg-orange-50 text-orange-700 hover:bg-orange-100 border border-orange-200"),children:[(0,ae.jsx)("span",{className:"font-medium",children:e.tag}),(0,ae.jsxs)("span",{className:"ml-2 text-xs ".concat(n?"text-orange-100":"text-orange-500"),children:[r,"%"]}),n&&(0,ae.jsx)(w,{size:14,className:"ml-1"})]},t)}))})]}),(null===N||void 0===N||null===(i=N.data)||void 0===i?void 0:i.meta)&&N.data.meta.length>0&&(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,ae.jsxs)("h4",{className:"text-sm font-medium text-gray-700 flex items-center",children:[(0,ae.jsx)("div",{className:"w-3 h-3 bg-gray-500 rounded mr-2"}),"Meta (",N.data.meta.length,")"]}),(0,ae.jsxs)("button",{onClick:()=>Q(N.data.meta.map((e=>e.tag)).join(", ")),className:"text-xs text-gray-600 hover:text-gray-800 flex items-center gap-1",children:[(0,ae.jsx)(j,{size:12}),"\u590d\u5236"]})]}),(0,ae.jsx)("div",{className:"flex flex-wrap gap-2",children:N.data.meta.map(((e,t)=>{const n=I.includes(e.tag),r=(100*e.confidence).toFixed(1);return(0,ae.jsxs)("button",{onClick:()=>Y(e.tag),className:"inline-flex items-center px-3 py-1 rounded-full text-sm transition-all ".concat(n?"bg-gray-500 text-white shadow-md":"bg-gray-50 text-gray-700 hover:bg-gray-100 border border-gray-200"),children:[(0,ae.jsx)("span",{className:"font-medium",children:e.tag}),(0,ae.jsxs)("span",{className:"ml-2 text-xs ".concat(n?"text-gray-100":"text-gray-500"),children:[r,"%"]}),n&&(0,ae.jsx)(w,{size:14,className:"ml-1"})]},t)}))})]})]}),J.length>T&&(0,ae.jsx)("div",{className:"mt-4 text-center",children:(0,ae.jsxs)("button",{onClick:()=>S(!_),className:"text-sm text-purple-600 hover:text-purple-800 flex items-center gap-1 mx-auto",children:[_?(0,ae.jsx)(Ae,{size:14}):(0,ae.jsx)(ze,{size:14}),_?"\u9690\u85cf ".concat(J.length-T," \u4e2a\u4f4e\u5206\u6807\u7b7e"):"\u663e\u793a\u66f4\u591a ".concat(J.length-T," \u4e2a\u6807\u7b7e")]})})]}),I.length>0&&(0,ae.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ae.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,ae.jsx)(b,{className:"text-purple-600 mr-2",size:20}),"\u751f\u6210\u7684\u63d0\u793a\u8bcd",(0,ae.jsxs)("span",{className:"ml-2 text-sm text-gray-500",children:["(",I.length," \u4e2a\u6807\u7b7e)"]})]}),(0,ae.jsxs)("div",{className:"flex gap-2",children:[(0,ae.jsxs)("button",{onClick:()=>{var e;if(!N)return;const t={fileName:null===d||void 0===d?void 0:d.name,model:L,settings:{generalThreshold:M,characterThreshold:U,confidenceThreshold:C,maxTags:T},analysisTimestamp:N.processingTime,totalTags:N.totalTags,selectedTags:I,generatedPrompt:X(),results:N.data,rawOutput:null===(e=N.data)||void 0===e?void 0:e.rawOutput},n=JSON.stringify(t,null,2),r=new Blob([n],{type:"application/json"}),a=URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.download="wd-tagger-result-".concat(Date.now(),".json"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a),l("export","\u5206\u6790\u7ed3\u679c\u5df2\u5bfc\u51fa")},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[(0,ae.jsx)(tt,{size:16}),"\u5bfc\u51fa"]}),(0,ae.jsxs)("button",{onClick:()=>Q(ee),className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-colors text-sm ".concat("copied"===O?"bg-green-600 text-white":"bg-purple-600 text-white hover:bg-purple-700"),children:["copied"===O?(0,ae.jsx)(w,{size:16}):(0,ae.jsx)(j,{size:16}),"copied"===O?"\u5df2\u590d\u5236":"\u590d\u5236\u63d0\u793a\u8bcd"]})]})]}),(0,ae.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-4 border border-purple-200",children:(0,ae.jsxs)("div",{className:"relative",children:[(0,ae.jsx)("pre",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap font-mono break-words",children:ee}),(0,ae.jsx)("button",{onClick:()=>Q(ee),className:"absolute top-2 right-2 p-1 text-purple-600 hover:text-purple-800 hover:bg-purple-100 rounded transition-colors",title:"\u590d\u5236\u63d0\u793a\u8bcd",children:(0,ae.jsx)(j,{size:14})})]})}),(0,ae.jsxs)("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-500",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ae.jsxs)("span",{className:"flex items-center gap-1",children:[(0,ae.jsx)(we,{size:14}),I.length," \u4e2a\u6807\u7b7e"]}),(0,ae.jsxs)("span",{className:"flex items-center gap-1",children:["\ud83d\udcdd ",ee.length," \u4e2a\u5b57\u7b26"]})]}),(0,ae.jsx)("div",{className:"text-xs text-purple-600",children:"\u70b9\u51fb\u6807\u7b7e\u53ef\u6dfb\u52a0/\u79fb\u9664 \u2022 \u652f\u6301\u6279\u91cf\u590d\u5236"})]})]})]}),!N&&(0,ae.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-12 text-center",children:[(0,ae.jsx)(m,{className:"mx-auto text-gray-400 mb-4",size:48}),(0,ae.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"\u7b49\u5f85\u56fe\u50cf\u5206\u6790"}),(0,ae.jsx)("p",{className:"text-gray-500",children:'\u4e0a\u4f20\u56fe\u50cf\u5e76\u70b9\u51fb"\u5f00\u59cb\u5206\u6790"\u6765\u8bc6\u522b\u6807\u7b7e'})]})]})]}),(0,ae.jsxs)("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200 p-6",children:[(0,ae.jsxs)("h3",{className:"text-lg font-semibold text-blue-900 mb-4 flex items-center",children:[(0,ae.jsx)(ne,{className:"mr-2",size:20}),"\u4f7f\u7528\u8bf4\u660e"]}),(0,ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm text-blue-800",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("h4",{className:"font-medium mb-2",children:"\u529f\u80fd\u7279\u70b9"}),(0,ae.jsxs)("ul",{className:"space-y-1",children:[(0,ae.jsx)("li",{children:"\u2022 \u652f\u6301\u591a\u79cdWaifuDiffusion\u6a21\u578b"}),(0,ae.jsx)("li",{children:"\u2022 \u53ef\u8c03\u8282\u7684\u901a\u7528\u548c\u89d2\u8272\u6807\u7b7e\u9608\u503c"}),(0,ae.jsx)("li",{children:"\u2022 \u667a\u80fd\u6807\u7b7e\u5206\u7c7b\u548c\u7f6e\u4fe1\u5ea6\u8bc4\u4f30"}),(0,ae.jsx)("li",{children:"\u2022 \u5b9e\u65f6\u53c2\u6570\u8c03\u8282\u548c\u9884\u89c8"}),(0,ae.jsx)("li",{children:"\u2022 \u5b8c\u6574\u7684\u5206\u6790\u7ed3\u679c\u5bfc\u51fa"})]})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("h4",{className:"font-medium mb-2",children:"\u4f7f\u7528\u6280\u5de7"}),(0,ae.jsxs)("ul",{className:"space-y-1",children:[(0,ae.jsx)("li",{children:"\u2022 \u52a8\u6f2b\u98ce\u683c\u56fe\u50cf\u6548\u679c\u6700\u4f73"}),(0,ae.jsx)("li",{children:"\u2022 \u8c03\u4f4e\u901a\u7528\u9608\u503c\u53ef\u83b7\u5f97\u66f4\u591a\u6807\u7b7e"}),(0,ae.jsx)("li",{children:"\u2022 \u89d2\u8272\u9608\u503c\u5f71\u54cd\u4eba\u7269\u8bc6\u522b\u7cbe\u5ea6"}),(0,ae.jsx)("li",{children:"\u2022 \u4e0d\u540c\u6a21\u578b\u6709\u4e0d\u540c\u7684\u7279\u70b9\u548c\u4f18\u52bf"}),(0,ae.jsx)("li",{children:"\u2022 \u53ef\u5bfc\u51fa\u5b8c\u6574\u7ed3\u679c\u7528\u4e8e\u540e\u7eed\u5206\u6790"})]})]})]})]})]}),O&&(0,ae.jsx)("div",{className:"fixed bottom-4 right-4 px-4 py-2 rounded-lg text-white text-sm transition-all duration-300 shadow-lg z-50 ".concat("copied"===O?"bg-green-600":"bg-red-600"),children:"copied"===O?"\u2705 \u5df2\u590d\u5236\u5230\u526a\u8d34\u677f":"\u274c \u590d\u5236\u5931\u8d25"})]})},ln=u("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var on=n(159),cn=n.n(on);const un=()=>{var t;const[n,r]=(0,e.useState)(""),[a,s]=(0,e.useState)(!1),[i,l]=(0,e.useState)({current:0,total:0,percentage:0}),[o,c]=(0,e.useState)([]),[u,d]=(0,e.useState)("SmilingWolf/wd-swinv2-tagger-v3"),[h,m]=(0,e.useState)(.35),[x,b]=(0,e.useState)(.85),[v,j]=(0,e.useState)(!1),[N,k]=(0,e.useState)([]),[_,C]=(0,e.useState)("zip"),[E,T]=(0,e.useState)(!0),[A,z]=(0,e.useState)([]),I=(0,e.useRef)(null),P=(0,e.useRef)(null),O=tn(),{notifySuccess:D,notifyError:L,showWarning:R}=ue(),M=(0,e.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const n=(new Date).toLocaleTimeString(),r={id:Date.now(),timestamp:n,message:e,type:t};c((e=>[...e,r]))}),[]),F=e=>{switch(e){case"success":return(0,ae.jsx)(w,{className:"w-4 h-4 text-green-500"});case"error":return(0,ae.jsx)(te,{className:"w-4 h-4 text-red-500"});case"warning":return(0,ae.jsx)(y,{className:"w-4 h-4 text-yellow-500"});default:return(0,ae.jsx)(S,{className:"w-4 h-4 text-blue-500"})}};return(0,ae.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 p-6",children:(0,ae.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,ae.jsxs)("div",{className:"text-center mb-8",children:[(0,ae.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"\u6279\u91cf\u56fe\u7247\u6253\u6807"}),(0,ae.jsx)("p",{className:"text-gray-600",children:"\u6279\u91cf\u5904\u7406\u6587\u4ef6\u5939\u4e2d\u7684\u56fe\u7247\uff0c\u81ea\u52a8\u751f\u6210\u6807\u7b7e\u6587\u4ef6"})]}),(0,ae.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ae.jsxs)("div",{className:"space-y-6",children:[(0,ae.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,ae.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[(0,ae.jsx)(g,{className:"w-5 h-5 mr-2"}),"\u6587\u4ef6\u5939\u9009\u62e9"]}),(0,ae.jsxs)("div",{className:"space-y-4",children:[(0,ae.jsx)("input",{ref:P,type:"file",webkitdirectory:"",directory:"",multiple:!0,onChange:e=>{const t=Array.from(e.target.files);if(t.length>0){const e=t[0].webkitRelativePath.split("/")[0];r(e),M("\u5df2\u9009\u62e9\u6587\u4ef6\u5939: ".concat(e,"\uff0c\u5305\u542b ").concat(t.length," \u4e2a\u6587\u4ef6"),"info")}},className:"hidden",accept:"image/*"}),(0,ae.jsx)("button",{onClick:()=>{P.current&&P.current.click()},disabled:a,className:"w-full p-4 border-2 border-dashed border-purple-300 rounded-lg hover:border-purple-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,ae.jsxs)("div",{className:"text-center",children:[(0,ae.jsx)(g,{className:"w-8 h-8 mx-auto mb-2 text-purple-500"}),(0,ae.jsx)("p",{className:"text-gray-600",children:"\u70b9\u51fb\u9009\u62e9\u56fe\u7247\u6587\u4ef6\u5939"})]})}),n&&(0,ae.jsx)("div",{className:"p-3 bg-purple-50 rounded-lg",children:(0,ae.jsxs)("p",{className:"text-sm text-purple-700",children:["\u5df2\u9009\u62e9\u6587\u4ef6\u5939: ",(0,ae.jsx)("span",{className:"font-medium",children:n})]})})]})]}),(0,ae.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,ae.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[(0,ae.jsx)(p,{className:"w-5 h-5 mr-2"}),"\u6a21\u578b\u914d\u7f6e"]}),(0,ae.jsxs)("div",{className:"space-y-4",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u9009\u62e9\u6a21\u578b"}),(0,ae.jsx)("select",{value:u,onChange:e=>d(e.target.value),disabled:a,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:opacity-50",children:O.map((e=>(0,ae.jsx)("option",{value:e.id,children:e.name},e.id)))}),(null===(t=O.find((e=>e.id===u)))||void 0===t?void 0:t.description)&&(0,ae.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:O.find((e=>e.id===u)).description})]}),(0,ae.jsx)("div",{children:(0,ae.jsxs)("button",{onClick:()=>j(!v),className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:[v?"\u9690\u85cf":"\u663e\u793a","\u9ad8\u7ea7\u8bbe\u7f6e"]})}),(0,ae.jsxs)("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u4e0b\u8f7d\u6a21\u5f0f"}),(0,ae.jsxs)("div",{className:"space-y-2",children:[(0,ae.jsxs)("label",{className:"flex items-center",children:[(0,ae.jsx)("input",{type:"radio",value:"zip",checked:"zip"===_,onChange:e=>C(e.target.value),disabled:a,className:"mr-2"}),(0,ae.jsx)(Qe,{className:"w-4 h-4 mr-1"}),"ZIP\u6279\u91cf\u4e0b\u8f7d\uff08\u63a8\u8350\uff09"]}),(0,ae.jsxs)("label",{className:"flex items-center",children:[(0,ae.jsx)("input",{type:"radio",value:"individual",checked:"individual"===_,onChange:e=>C(e.target.value),disabled:a,className:"mr-2"}),(0,ae.jsx)(tt,{className:"w-4 h-4 mr-1"}),"\u5355\u72ec\u4e0b\u8f7d"]})]})]}),"zip"===_&&(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("label",{className:"flex items-center",children:[(0,ae.jsx)("input",{type:"checkbox",checked:E,onChange:e=>T(e.target.checked),disabled:a,className:"mr-2"}),"\u4fdd\u6301\u6587\u4ef6\u5939\u7ed3\u6784"]}),(0,ae.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\u5728ZIP\u5305\u4e2d\u4fdd\u6301\u539f\u6709\u7684\u6587\u4ef6\u5939\u5c42\u7ea7\u7ed3\u6784"})]})]}),v&&(0,ae.jsxs)("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["\u901a\u7528\u6807\u7b7e\u9608\u503c: ",h]}),(0,ae.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:h,onChange:e=>m(parseFloat(e.target.value)),disabled:a,className:"w-full"})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["\u89d2\u8272\u6807\u7b7e\u9608\u503c: ",x]}),(0,ae.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:x,onChange:e=>b(parseFloat(e.target.value)),disabled:a,className:"w-full"})]})]})]})]}),(0,ae.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,ae.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\u63a7\u5236\u9762\u677f"}),(0,ae.jsxs)("div",{className:"space-y-4",children:[(0,ae.jsxs)("div",{className:"flex gap-3",children:[(0,ae.jsxs)("button",{onClick:async()=>{const e=P.current&&P.current.files?Array.from(P.current.files).filter((e=>{const t=e.name.toLowerCase().split(".").pop();return["jpg","jpeg","png","webp","bmp","gif"].includes(t)})):[];if(0===e.length)return void L("\u8bf7\u5148\u9009\u62e9\u5305\u542b\u56fe\u7247\u7684\u6587\u4ef6\u5939");s(!0),l({current:0,total:e.length,percentage:0}),k([]),z([]),I.current=new AbortController,M("\u5f00\u59cb\u6279\u91cf\u5904\u7406 ".concat(e.length," \u5f20\u56fe\u7247"),"info"),M("\u4f7f\u7528\u6a21\u578b: ".concat(u),"info"),M("\u901a\u7528\u6807\u7b7e\u9608\u503c: ".concat(h,", \u89d2\u8272\u6807\u7b7e\u9608\u503c: ").concat(x),"info");let t=0,n=0;for(let s=0;s<e.length;s++){var r;if(null!==(r=I.current)&&void 0!==r&&r.signal.aborted){M("\u6279\u91cf\u5904\u7406\u5df2\u88ab\u7528\u6237\u7ec8\u6b62","warning");break}const i=e[s],o=i.name,c=o.substring(0,o.lastIndexOf(".")),d=i.webkitRelativePath||o,f="".concat(c,".txt"),p=d.replace(/\.[^/.]+$/,".txt");try{M("\u6b63\u5728\u5904\u7406: ".concat(o),"info");const e=await rn(i,{model:u,generalThresh:h,characterThresh:x});if(!(e&&e.success&&e.data))throw new Error("\u5206\u6790\u7ed3\u679c\u4e3a\u7a7a");{const n=[...e.data.general||[],...e.data.character||[],...e.data.copyright||[],...e.data.artist||[]],r=n.map((e=>e.tag||e)).join(", ");if("zip"===_)z((e=>[...e,{fileName:f,content:r,relativePath:p,originalFile:o}]));else{const e=new Blob([r],{type:"text/plain;charset=utf-8"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download=f,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}t++,M("\u2713 ".concat(o," \u5904\u7406\u5b8c\u6210\uff0c\u751f\u6210 ").concat(n.length," \u4e2a\u6807\u7b7e"),"success"),k((e=>[...e,{fileName:o,status:"success",tagCount:n.length,tags:r}]))}}catch(a){n++,M("\u2717 ".concat(o," \u5904\u7406\u5931\u8d25: ").concat(a.message),"error"),k((e=>[...e,{fileName:o,status:"error",error:a.message}]))}const m=s+1,g=Math.round(m/e.length*100);l({current:m,total:e.length,percentage:g})}s(!1),M("\u6279\u91cf\u5904\u7406\u5b8c\u6210\uff01\u6210\u529f: ".concat(t,", \u5931\u8d25: ").concat(n),"info"),t>0&&("zip"===_?(M("\u2713 \u5df2\u751f\u6210 ".concat(t,' \u4e2a\u6807\u7b7e\u6587\u4ef6\uff0c\u70b9\u51fb"\u4e0b\u8f7dZIP\u5305"\u6309\u94ae\u83b7\u53d6\u6240\u6709\u6587\u4ef6'),"success"),D("batch_process","\u6210\u529f\u5904\u7406 ".concat(t," \u5f20\u56fe\u7247\uff0c\u53ef\u4e0b\u8f7dZIP\u5305"))):D("batch_process","\u6210\u529f\u5904\u7406 ".concat(t," \u5f20\u56fe\u7247"))),n>0&&R("\u6709 ".concat(n," \u5f20\u56fe\u7247\u5904\u7406\u5931\u8d25\uff0c\u8bf7\u67e5\u770b\u65e5\u5fd7"))},disabled:a||!n,className:"flex-1 bg-purple-600 text-white px-4 py-3 rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[(0,ae.jsx)(Tt,{className:"w-5 h-5 mr-2"}),"\u5f00\u59cb\u5904\u7406"]}),(0,ae.jsxs)("button",{onClick:()=>{I.current&&(I.current.abort(),s(!1),M("\u7528\u6237\u7ec8\u6b62\u4e86\u6279\u91cf\u5904\u7406","warning"))},disabled:!a,className:"flex-1 bg-red-600 text-white px-4 py-3 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[(0,ae.jsx)(ln,{className:"w-5 h-5 mr-2"}),"\u505c\u6b62\u5904\u7406"]})]}),"zip"===_&&A.length>0&&(0,ae.jsxs)("div",{className:"flex gap-3",children:[(0,ae.jsxs)("button",{onClick:async()=>{if(0!==A.length)try{const e=new(cn());A.forEach((t=>{let{fileName:n,content:r,relativePath:a}=t;const s=E&&a?a:n;e.file(s,r)}));const t=await e.generateAsync({type:"blob"}),r=URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download="".concat(n||"batch_tags","_tags.zip"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r),D("ZIP\u6587\u4ef6\u4e0b\u8f7d\u6210\u529f"),M("\u2713 \u5df2\u4e0b\u8f7d\u5305\u542b ".concat(A.length," \u4e2a\u6807\u7b7e\u6587\u4ef6\u7684ZIP\u5305"),"success")}catch(e){L("ZIP\u6587\u4ef6\u751f\u6210\u5931\u8d25: "+e.message),M("\u2717 ZIP\u6587\u4ef6\u751f\u6210\u5931\u8d25: ".concat(e.message),"error")}else L("\u6ca1\u6709\u53ef\u4e0b\u8f7d\u7684\u6807\u7b7e\u6587\u4ef6")},disabled:a,className:"flex-1 bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[(0,ae.jsx)(Qe,{className:"w-5 h-5 mr-2"}),"\u4e0b\u8f7dZIP\u5305 (",A.length,"\u4e2a\u6587\u4ef6)"]}),(0,ae.jsxs)("button",{onClick:()=>{k([]),z([]),l({current:0,total:0,percentage:0})},disabled:a,className:"bg-gray-600 text-white px-4 py-3 rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[(0,ae.jsx)(re,{className:"w-5 h-5 mr-2"}),"\u6e05\u9664\u7ed3\u679c"]})]}),(a||i.total>0)&&(0,ae.jsxs)("div",{className:"space-y-2",children:[(0,ae.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,ae.jsxs)("span",{children:["\u8fdb\u5ea6: ",i.current," / ",i.total]}),(0,ae.jsxs)("span",{children:[i.percentage,"%"]})]}),(0,ae.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ae.jsx)("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(i.percentage,"%")}})})]})]})]})]}),(0,ae.jsxs)("div",{className:"space-y-6",children:[N.length>0&&(0,ae.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,ae.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[(0,ae.jsx)(f,{className:"w-5 h-5 mr-2"}),"\u5904\u7406\u7ed3\u679c"]}),(0,ae.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-2",children:N.map(((e,t)=>(0,ae.jsxs)("div",{className:"p-3 rounded-lg border ".concat("success"===e.status?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ae.jsx)("span",{className:"font-medium text-sm",children:e.fileName}),"success"===e.status?(0,ae.jsx)(w,{className:"w-4 h-4 text-green-500"}):(0,ae.jsx)(te,{className:"w-4 h-4 text-red-500"})]}),"success"===e.status&&(0,ae.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["\u751f\u6210 ",e.tagCount," \u4e2a\u6807\u7b7e"]}),"error"===e.status&&(0,ae.jsxs)("p",{className:"text-xs text-red-600 mt-1",children:["\u9519\u8bef: ",e.error]})]},t)))})]}),(0,ae.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ae.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[(0,ae.jsx)(Kt,{className:"w-5 h-5 mr-2"}),"\u5904\u7406\u65e5\u5fd7"]}),(0,ae.jsx)("button",{onClick:()=>{c([])},className:"text-sm text-gray-500 hover:text-gray-700",children:"\u6e05\u7a7a\u65e5\u5fd7"})]}),(0,ae.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto",children:0===o.length?(0,ae.jsx)("p",{className:"text-gray-500 text-center",children:"\u6682\u65e0\u65e5\u5fd7"}):(0,ae.jsx)("div",{className:"space-y-2",children:o.map((e=>(0,ae.jsxs)("div",{className:"flex items-start space-x-2 text-sm",children:[F(e.type),(0,ae.jsx)("span",{className:"text-gray-500 min-w-0 flex-shrink-0",children:e.timestamp}),(0,ae.jsx)("span",{className:"text-gray-700 break-words",children:e.message})]},e.id)))})})]})]})]})]})})},dn=()=>{const[t,n]=(0,e.useState)("api"),[r,a]=(0,e.useState)(null);(0,e.useEffect)((()=>{const e=()=>{const e=Q.getStatusReport();a(e)};e();const t=setInterval(e,3e4);return()=>clearInterval(t)}),[]);const s=[{id:"api",icon:Ee,label:"API\u8bbe\u7f6e",description:"\u914d\u7f6eAI\u6a21\u578bAPI\u5bc6\u94a5"},{id:"general",icon:p,label:"\u901a\u7528\u8bbe\u7f6e",description:"\u5e94\u7528\u57fa\u7840\u914d\u7f6e"},{id:"appearance",icon:jt,label:"\u5916\u89c2\u8bbe\u7f6e",description:"\u754c\u9762\u4e3b\u9898\u548c\u6837\u5f0f"},{id:"data",icon:je,label:"\u6570\u636e\u7ba1\u7406",description:"\u5bfc\u5165\u5bfc\u51fa\u548c\u6e05\u7406"},{id:"about",icon:ne,label:"\u5173\u4e8e",description:"\u7248\u672c\u4fe1\u606f\u548c\u5e2e\u52a9"}],i=async e=>{if(e){await Q.updateZhipuApiKey();const e=Q.getStatusReport();a(e)}},l=()=>(0,ae.jsxs)("div",{className:"space-y-6",children:[(0,ae.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,ae.jsx)(ne,{className:"text-blue-600",size:20}),(0,ae.jsx)("h3",{className:"font-semibold text-blue-900",children:"API\u914d\u7f6e\u8bf4\u660e"})]}),(0,ae.jsx)("p",{className:"text-blue-800 text-sm",children:"\u914d\u7f6eAI\u6a21\u578bAPI\u5bc6\u94a5\u4ee5\u542f\u7528\u667a\u80fd\u63d0\u793a\u8bcd\u751f\u6210\u529f\u80fd\u3002\u7cfb\u7edf\u652f\u6301\u591a\u4e2aAPI\u81ea\u52a8\u5207\u6362\uff0c\u786e\u4fdd\u670d\u52a1\u7a33\u5b9a\u6027\u3002"})]}),r&&(0,ae.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,ae.jsxs)("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,ae.jsx)(xe,{size:20}),"API\u72b6\u6001\u6982\u89c8"]}),(0,ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ae.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,ae.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:r.totalApis}),(0,ae.jsx)("div",{className:"text-sm text-gray-600",children:"\u603bAPI\u6570"})]}),(0,ae.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,ae.jsx)("div",{className:"text-2xl font-bold text-green-600",children:r.availableApis}),(0,ae.jsx)("div",{className:"text-sm text-gray-600",children:"\u53ef\u7528API"})]}),(0,ae.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,ae.jsx)("div",{className:"text-sm font-medium text-blue-900",children:r.currentApi||"\u65e0"}),(0,ae.jsx)("div",{className:"text-sm text-gray-600",children:"\u5f53\u524dAPI"})]})]})]}),(0,ae.jsx)(Pe,{onApiKeyChange:i,className:"border-0 shadow-sm"}),r&&r.apis&&(0,ae.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,ae.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"API\u670d\u52a1\u72b6\u6001"}),(0,ae.jsx)("div",{className:"space-y-2",children:r.apis.map(((e,t)=>(0,ae.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ae.jsxs)("div",{className:"flex items-center gap-3",children:[e.available?(0,ae.jsx)(w,{className:"text-green-500",size:16}):(0,ae.jsx)(y,{className:"text-red-500",size:16}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,ae.jsx)("div",{className:"text-sm text-gray-600",children:e.description||e.provider})]})]}),(0,ae.jsxs)("div",{className:"text-right",children:[(0,ae.jsx)("div",{className:"text-sm font-medium ".concat(e.available?"text-green-600":"text-red-600"),children:e.available?"\u53ef\u7528":"\u4e0d\u53ef\u7528"}),e.lastChecked&&(0,ae.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e.lastChecked).toLocaleTimeString()})]})]},t)))})]})]});return(0,ae.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,ae.jsxs)("div",{className:"mb-8",children:[(0,ae.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\u8bbe\u7f6e"}),(0,ae.jsx)("p",{className:"text-gray-600",children:"\u914d\u7f6e\u5e94\u7528\u7a0b\u5e8f\u7684\u5404\u9879\u8bbe\u7f6e\u548c\u504f\u597d"})]}),(0,ae.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,ae.jsx)("div",{className:"lg:col-span-1",children:(0,ae.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,ae.jsx)("nav",{className:"space-y-2",children:s.map((e=>{const r=e.icon;return(0,ae.jsxs)("button",{onClick:()=>n(e.id),className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-colors ".concat(t===e.id?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-50"),children:[(0,ae.jsx)(r,{size:18}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{className:"font-medium",children:e.label}),(0,ae.jsx)("div",{className:"text-xs text-gray-500",children:e.description})]})]},e.id)}))})})}),(0,ae.jsx)("div",{className:"lg:col-span-3",children:(()=>{switch(t){case"api":default:return l();case"general":return(0,ae.jsx)("div",{className:"space-y-6",children:(0,ae.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,ae.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"\u901a\u7528\u8bbe\u7f6e"}),(0,ae.jsxs)("div",{className:"space-y-4",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{className:"font-medium text-gray-900",children:"\u81ea\u52a8\u4fdd\u5b58"}),(0,ae.jsx)("div",{className:"text-sm text-gray-600",children:"\u81ea\u52a8\u4fdd\u5b58\u751f\u6210\u7684\u63d0\u793a\u8bcd"})]}),(0,ae.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,ae.jsx)("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),(0,ae.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{className:"font-medium text-gray-900",children:"\u663e\u793a\u63d0\u793a"}),(0,ae.jsx)("div",{className:"text-sm text-gray-600",children:"\u663e\u793a\u4f7f\u7528\u63d0\u793a\u548c\u5e2e\u52a9\u4fe1\u606f"})]}),(0,ae.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,ae.jsx)("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),(0,ae.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})});case"appearance":return(0,ae.jsx)("div",{className:"space-y-6",children:(0,ae.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,ae.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"\u5916\u89c2\u8bbe\u7f6e"}),(0,ae.jsxs)("div",{className:"space-y-4",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u4e3b\u9898"}),(0,ae.jsxs)("select",{className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ae.jsx)("option",{value:"light",children:"\u6d45\u8272\u4e3b\u9898"}),(0,ae.jsx)("option",{value:"dark",children:"\u6df1\u8272\u4e3b\u9898"}),(0,ae.jsx)("option",{value:"auto",children:"\u8ddf\u968f\u7cfb\u7edf"})]})]}),(0,ae.jsxs)("div",{children:[(0,ae.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u5b57\u4f53\u5927\u5c0f"}),(0,ae.jsxs)("select",{className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ae.jsx)("option",{value:"small",children:"\u5c0f"}),(0,ae.jsx)("option",{value:"medium",children:"\u4e2d"}),(0,ae.jsx)("option",{value:"large",children:"\u5927"})]})]})]})]})});case"data":return(0,ae.jsx)("div",{className:"space-y-6",children:(0,ae.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,ae.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"\u6570\u636e\u7ba1\u7406"}),(0,ae.jsxs)("div",{className:"space-y-4",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{className:"font-medium text-gray-900",children:"\u5bfc\u51fa\u6570\u636e"}),(0,ae.jsx)("div",{className:"text-sm text-gray-600",children:"\u5bfc\u51fa\u6240\u6709\u751f\u6210\u7684\u63d0\u793a\u8bcd\u548c\u8bbe\u7f6e"})]}),(0,ae.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"\u5bfc\u51fa"})]}),(0,ae.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{className:"font-medium text-gray-900",children:"\u5bfc\u5165\u6570\u636e"}),(0,ae.jsx)("div",{className:"text-sm text-gray-600",children:"\u4ece\u5907\u4efd\u6587\u4ef6\u6062\u590d\u6570\u636e"})]}),(0,ae.jsx)("button",{className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600",children:"\u5bfc\u5165"})]}),(0,ae.jsxs)("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200",children:[(0,ae.jsxs)("div",{children:[(0,ae.jsx)("div",{className:"font-medium text-red-900",children:"\u6e05\u9664\u6240\u6709\u6570\u636e"}),(0,ae.jsx)("div",{className:"text-sm text-red-600",children:"\u5220\u9664\u6240\u6709\u672c\u5730\u5b58\u50a8\u7684\u6570\u636e"})]}),(0,ae.jsx)("button",{className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"\u6e05\u9664"})]})]})]})});case"about":return(0,ae.jsx)("div",{className:"space-y-6",children:(0,ae.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,ae.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"\u5173\u4e8e I Prompt"}),(0,ae.jsxs)("div",{className:"space-y-4",children:[(0,ae.jsxs)("div",{className:"text-center",children:[(0,ae.jsx)("img",{src:"/I-Prompt/logo192.png",alt:"I Prompt Logo",className:"w-16 h-16 mx-auto rounded-xl mb-4",onError:e=>{e.target.style.display="none"}}),(0,ae.jsx)("h4",{className:"text-xl font-bold text-gray-900",children:"I Prompt"}),(0,ae.jsx)("p",{className:"text-gray-600",children:"\u667a\u80fd\u63d0\u793a\u8bcd\u52a9\u624b"}),(0,ae.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"\u7248\u672c 3.0.0"})]}),(0,ae.jsxs)("div",{className:"border-t pt-4",children:[(0,ae.jsx)("h5",{className:"font-semibold text-gray-900 mb-2",children:"\u529f\u80fd\u7279\u6027"}),(0,ae.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,ae.jsx)("li",{children:"\u2022 \u667a\u80fd\u63d0\u793a\u8bcd\u751f\u6210"}),(0,ae.jsx)("li",{children:"\u2022 \u591aAPI\u81ea\u52a8\u5207\u6362"}),(0,ae.jsx)("li",{children:"\u2022 \u56fe\u50cf\u6807\u7b7e\u63d0\u53d6"}),(0,ae.jsx)("li",{children:"\u2022 \u6279\u91cf\u56fe\u50cf\u5904\u7406"}),(0,ae.jsx)("li",{children:"\u2022 \u63d0\u793a\u8bcd\u5e93\u7ba1\u7406"}),(0,ae.jsx)("li",{children:"\u2022 \u5b66\u4e60\u6559\u7a0b\u6307\u5bfc"})]})]}),(0,ae.jsxs)("div",{className:"border-t pt-4",children:[(0,ae.jsx)("h5",{className:"font-semibold text-gray-900 mb-2",children:"\u6280\u672f\u652f\u6301"}),(0,ae.jsx)("p",{className:"text-sm text-gray-600",children:"\u5982\u6709\u95ee\u9898\u6216\u5efa\u8bae\uff0c\u8bf7\u8054\u7cfb\u5f00\u53d1\u56e2\u961f\u3002"})]})]})]})})}})()})]})]})},hn=()=>{const[t,n]=(0,e.useState)("generator");(0,e.useEffect)((()=>{(async()=>{try{await Q.init(),console.log("API\u7ba1\u7406\u5668\u521d\u59cb\u5316\u5b8c\u6210")}catch(e){console.error("API\u7ba1\u7406\u5668\u521d\u59cb\u5316\u5931\u8d25:",e)}})()}),[]);const r=[{id:"generator",icon:d,label:"\u63d0\u793a\u8bcd\u751f\u6210",color:"text-purple-600"},{id:"library",icon:h,label:"\u63d0\u793a\u8bcd\u5e93",color:"text-blue-600"},{id:"extractor",icon:f,label:"\u56fe\u50cf\u63d0\u53d6",color:"text-green-600"},{id:"tools",icon:p,label:"\u7075\u611f\u751f\u6210",color:"text-orange-600"},{id:"reverse",icon:m,label:"\u56fe\u50cf\u53cd\u63a8",color:"text-purple-600"},{id:"batch",icon:g,label:"\u6279\u91cf\u6253\u6807",color:"text-red-600"},{id:"settings",icon:p,label:"\u8bbe\u7f6e",color:"text-gray-600"},{id:"tutorial",icon:x,label:"\u5b66\u4e60\u6559\u7a0b",color:"text-indigo-600"}];return(0,ae.jsx)(ce,{children:(0,ae.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-green-50",children:[(0,ae.jsx)("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-40",children:(0,ae.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8",children:(0,ae.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,ae.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ae.jsx)("img",{src:"/I-Prompt/logo192.png",alt:"I Prompt Logo",className:"w-10 h-10 rounded-xl",onError:e=>{e.target.style.display="none"}}),(0,ae.jsxs)("div",{className:"hidden sm:block",children:[(0,ae.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"I Prompt"}),(0,ae.jsx)("p",{className:"text-xs text-gray-500",children:"\u667a\u80fd\u63d0\u793a\u8bcd\u52a9\u624b"})]})]}),(0,ae.jsx)("div",{className:"flex space-x-0.5 sm:space-x-1 overflow-x-auto scrollbar-hide",children:r.map((e=>{const r=e.icon;return(0,ae.jsxs)("button",{onClick:()=>n(e.id),title:e.label,className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 lg:px-4 py-2 rounded-lg transition-all text-sm font-medium whitespace-nowrap min-w-0 ".concat(t===e.id?"bg-gray-900 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,ae.jsx)(r,{size:16,className:"sm:w-[18px] sm:h-[18px] ".concat(t===e.id?"text-white":e.color)}),(0,ae.jsx)("span",{className:"hidden lg:inline text-xs sm:text-sm",children:e.label})]},e.id)}))})]})})}),(0,ae.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(()=>{switch(t){case"generator":default:return(0,ae.jsx)(ge,{});case"library":return(0,ae.jsx)(Ye,{});case"extractor":return(0,ae.jsx)(bt,{});case"tools":return(0,ae.jsx)(_t,{});case"reverse":return(0,ae.jsx)(sn,{});case"batch":return(0,ae.jsx)(un,{});case"settings":return(0,ae.jsx)(dn,{});case"tutorial":return(0,ae.jsx)(Jt,{})}})()}),(0,ae.jsx)("footer",{className:"bg-white/80 backdrop-blur-sm border-t border-gray-200 mt-20",children:(0,ae.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,ae.jsxs)("div",{className:"text-center",children:[(0,ae.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[(0,ae.jsx)("img",{src:"/I-Prompt/logo192.png",alt:"I Prompt Logo",className:"w-8 h-8 rounded-lg",onError:e=>{e.target.style.display="none"}}),(0,ae.jsx)("span",{className:"text-lg font-bold text-gray-900",children:"I Prompt"})]}),(0,ae.jsx)("p",{className:"text-gray-600 mb-2",children:"\u8ba9AI\u7ed8\u753b\u521b\u4f5c\u66f4\u7b80\u5355 | Make AI art creation easier"}),(0,ae.jsx)("p",{className:"text-sm text-gray-500",children:"\xa9 2024 I Prompt. \u4e13\u4e1a\u7684AI\u7ed8\u753b\u63d0\u793a\u8bcd\u5de5\u5177\u5e73\u53f0"}),(0,ae.jsxs)("div",{className:"flex justify-center space-x-6 mt-4 text-sm text-gray-500",children:[(0,ae.jsx)("span",{children:"\ud83c\udfa8 \u63d0\u793a\u8bcd\u751f\u6210"}),(0,ae.jsx)("span",{children:"\ud83d\udcda \u63d0\u793a\u8bcd\u5e93"}),(0,ae.jsx)("span",{children:"\ud83d\uddbc\ufe0f \u56fe\u50cf\u63d0\u53d6"}),(0,ae.jsx)("span",{children:"\ud83d\udca1 \u7075\u611f\u751f\u6210"}),(0,ae.jsx)("span",{children:"\ud83e\udde0 \u56fe\u50cf\u53cd\u63a8"}),(0,ae.jsx)("span",{children:"\ud83d\udcc1 \u6279\u91cf\u6253\u6807"}),(0,ae.jsx)("span",{children:"\ud83d\udcd6 \u5b66\u4e60\u6559\u7a0b"})]})]})})})]})})};t.createRoot(document.getElementById("root")).render((0,ae.jsx)(e.StrictMode,{children:(0,ae.jsx)(hn,{})}))})()})();
//# sourceMappingURL=main.d5500eeb.js.map